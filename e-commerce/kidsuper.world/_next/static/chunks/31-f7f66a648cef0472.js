(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[31],{1314:function(e,t,r){"use strict";r.d(t,{He:function(){return u},Ld:function(){return b},eC:function(){return d},f3:function(){return l},iG:function(){return h},sb:function(){return B},ys:function(){return o}});var i=r(1132),n=r(7294);let s=Symbol.for("Animated:node"),a=e=>!!e&&e[s]===e,o=e=>e&&e[s],l=(e,t)=>(0,i.dE)(e,s,t),u=e=>e&&e[s]&&e[s].getPayload();class c{constructor(){this.payload=void 0,l(this,this)}getPayload(){return this.payload||[]}}class h extends c{constructor(e){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=e,i.is.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new h(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return i.is.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){let{done:e}=this;this.done=!1,i.is.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}class d extends h{constructor(e){super(0),this._string=null,this._toString=void 0,this._toString=(0,i.mD)({output:[e,e]})}static create(e){return new d(e)}getValue(){let e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(i.is.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=(0,i.mD)({output:[this.getValue(),e]})),this._value=0,super.reset()}}let f={dependencies:null};class A extends c{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){let t={};return(0,i.rU)(this.source,(r,n)=>{a(r)?t[n]=r.getValue(e):(0,i.j$)(r)?t[n]=(0,i.je)(r):e||(t[n]=r)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&(0,i.S6)(this.payload,e=>e.reset())}_makePayload(e){if(e){let t=new Set;return(0,i.rU)(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){f.dependencies&&(0,i.j$)(e)&&f.dependencies.add(e);let t=u(e);t&&(0,i.S6)(t,e=>this.add(e))}}class p extends A{constructor(e){super(e)}static create(e){return new p(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){let t=this.getPayload();return e.length==t.length?t.map((t,r)=>t.setValue(e[r])).some(Boolean):(super.setValue(e.map(m)),!0)}}function m(e){return((0,i.Df)(e)?d:h).create(e)}function B(e){let t=o(e);return t?t.constructor:i.is.arr(e)?p:(0,i.Df)(e)?d:h}function g(){return(g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}let v=(e,t)=>{let r=!i.is.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,n.forwardRef)((s,a)=>{let o=(0,n.useRef)(null),l=r&&(0,n.useCallback)(e=>{o.current=(a&&(i.is.fun(a)?a(e):a.current=e),e)},[a]),[u,c]=function(e,t){let r=new Set;return f.dependencies=r,e.style&&(e=g({},e,{style:t.createAnimatedStyle(e.style)})),e=new A(e),f.dependencies=null,[e,r]}(s,t),h=(0,i.NW)(),d=()=>{let e=o.current;(!r||e)&&!1===(!!e&&t.applyAnimatedValues(e,u.getValue(!0)))&&h()},p=new C(d,c),m=(0,n.useRef)();(0,i.LI)(()=>(m.current=p,(0,i.S6)(c,e=>(0,i.UI)(e,p)),()=>{m.current&&((0,i.S6)(m.current.deps,e=>(0,i.iL)(e,m.current)),i.Wn.cancel(m.current.update))})),(0,n.useEffect)(d,[]),(0,i.tf)(()=>()=>{let e=m.current;(0,i.S6)(e.deps,t=>(0,i.iL)(t,e))});let B=t.getComponentProps(u.getValue());return n.createElement(e,g({},B,{ref:l}))})};class C{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){"change"==e.type&&i.Wn.write(this.update)}}let y=Symbol.for("AnimatedComponent"),b=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:r=e=>new A(e),getComponentProps:n=e=>e}={})=>{let s={applyAnimatedValues:t,createAnimatedStyle:r,getComponentProps:n},a=e=>{let t=M(e)||"Anonymous";return(e=i.is.str(e)?a[e]||(a[e]=v(e,s)):e[y]||(e[y]=v(e,s))).displayName=`Animated(${t})`,e};return(0,i.rU)(e,(t,r)=>{i.is.arr(e)&&(r=M(t)),a[r]=a(t)}),{animated:a}},M=e=>i.is.str(e)?e:e&&i.is.str(e.displayName)?e.displayName:i.is.fun(e)&&e.name||null},4928:function(e,t,r){"use strict";let i;r.d(t,{Globals:function(){return s.OH},useSpring:function(){return eh}});var n,s=r(1132),a=r(7294),o=r(1314);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}function u(e,...t){return s.is.fun(e)?e(...t):e}let c=(e,t)=>!0===e||!!(t&&e&&(s.is.fun(e)?e(t):(0,s.qo)(e).includes(t))),h=(e,t)=>s.is.obj(e)?t&&e[t]:e,d=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,f=e=>e,A=(e,t=f)=>{let r=p;e.default&&!0!==e.default&&(r=Object.keys(e=e.default));let i={};for(let n of r){let r=t(e[n],n);s.is.und(r)||(i[n]=r)}return i},p=["config","onProps","onStart","onChange","onPause","onResume","onRest"],m={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function B(e){let t=function(e){let t={},r=0;if((0,s.rU)(e,(e,i)=>{!m[i]&&(t[i]=e,r++)}),r)return t}(e);if(t){let r={to:t};return(0,s.rU)(e,(e,i)=>i in t||(r[i]=e)),r}return l({},e)}function g(e){return e=(0,s.je)(e),s.is.arr(e)?e.map(g):(0,s.Df)(e)?s.OH.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function v(e){return s.is.fun(e)||s.is.arr(e)&&s.is.obj(e[0])}let C=l({},{tension:170,friction:26},{mass:1,damping:1,easing:s.Z5.linear,clamp:!1});class y{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,C)}}function b(e,t){if(s.is.und(t.decay)){let r=!s.is.und(t.tension)||!s.is.und(t.friction);!r&&s.is.und(t.frequency)&&s.is.und(t.damping)&&s.is.und(t.mass)||(e.duration=void 0,e.decay=void 0),r&&(e.frequency=void 0)}else e.duration=void 0}let M=[];class E{constructor(){this.changed=!1,this.values=M,this.toValues=null,this.fromValues=M,this.to=void 0,this.from=void 0,this.config=new y,this.immediate=!1}}function w(e,{key:t,props:r,defaultProps:i,state:n,actions:a}){return new Promise((o,h)=>{var d;let f,A;let p=c(null!=(d=r.cancel)?d:null==i?void 0:i.cancel,t);if(p)g();else{s.is.und(r.pause)||(n.paused=c(r.pause,t));let e=null==i?void 0:i.pause;!0!==e&&(e=n.paused||c(e,t)),f=u(r.delay||0,t),e?(n.resumeQueue.add(B),a.pause()):(a.resume(),B())}function m(){n.resumeQueue.add(B),n.timeouts.delete(A),A.cancel(),f=A.time-s.Wn.now()}function B(){f>0&&!s.OH.skipAnimation?(n.delayed=!0,A=s.Wn.setTimeout(g,f),n.pauseQueue.add(m),n.timeouts.add(A)):g()}function g(){n.delayed&&(n.delayed=!1),n.pauseQueue.delete(m),n.timeouts.delete(A),e<=(n.cancelId||0)&&(p=!0);try{a.start(l({},r,{callId:e,cancel:p}),o)}catch(e){h(e)}}})}let F=(e,t)=>1==t.length?t[0]:t.some(e=>e.cancelled)?R(e.get()):t.every(e=>e.noop)?I(e.get()):_(e.get(),t.every(e=>e.finished)),I=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),_=(e,t,r=!1)=>({value:e,finished:t,cancelled:r}),R=e=>({value:e,cancelled:!0,finished:!1});function x(e,t,r,i){let{callId:n,parentId:a,onRest:o}=t,{asyncTo:u,promise:c}=r;return a||e!==u||t.reset?r.promise=(async()=>{let h,d,f;r.asyncId=n,r.asyncTo=e;let p=A(t,(e,t)=>"onRest"===t?void 0:e),m=new Promise((e,t)=>(h=e,d=t)),B=e=>{let t=n<=(r.cancelId||0)&&R(i)||n!==r.asyncId&&_(i,!1);if(t)throw e.result=t,d(e),e},g=(e,t)=>{let a=new G,o=new T;return(async()=>{if(s.OH.skipAnimation)throw D(r),o.result=_(i,!1),d(o),o;B(a);let u=s.is.obj(e)?l({},e):l({},t,{to:e});u.parentId=n,(0,s.rU)(p,(e,t)=>{s.is.und(u[t])&&(u[t]=e)});let c=await i.start(u);return B(a),r.paused&&await new Promise(e=>{r.resumeQueue.add(e)}),c})()};if(s.OH.skipAnimation)return D(r),_(i,!1);try{let t;t=s.is.arr(e)?(async e=>{for(let t of e)await g(t)})(e):Promise.resolve(e(g,i.stop.bind(i))),await Promise.all([t.then(h),m]),f=_(i.get(),!0,!1)}catch(e){if(e instanceof G)f=e.result;else if(e instanceof T)f=e.result;else throw e}finally{n==r.asyncId&&(r.asyncId=a,r.asyncTo=a?u:void 0,r.promise=a?c:void 0)}return s.is.fun(o)&&s.Wn.batchedUpdates(()=>{o(f,i,i.item)}),f})():c}function D(e,t){(0,s.yl)(e.timeouts,e=>e.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}class G extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}class T extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}}let S=e=>e instanceof P,H=1;class P extends s.B0{constructor(...e){super(...e),this.id=H++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){let e=(0,o.ys)(this);return e&&e.getValue()}to(...e){return s.OH.to(this,e)}interpolate(...e){return(0,s.LW)(),s.OH.to(this,e)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){(0,s.k0)(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||s.fT.sort(this),(0,s.k0)(this,{type:"priority",parent:this,priority:e})}}let O=Symbol.for("SpringPhase"),L=e=>(1&e[O])>0,J=e=>(2&e[O])>0,U=e=>(4&e[O])>0,k=(e,t)=>t?e[O]|=3:e[O]&=-3,K=(e,t)=>t?e[O]|=4:e[O]&=-5;class N extends P{constructor(e,t){if(super(),this.key=void 0,this.animation=new E,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!s.is.und(e)||!s.is.und(t)){let r=s.is.obj(e)?l({},e):l({},t,{from:e});s.is.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(J(this)||this._state.asyncTo)||U(this)}get goal(){return(0,s.je)(this.animation.to)}get velocity(){let e=(0,o.ys)(this);return e instanceof o.iG?e.lastVelocity||0:e.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return L(this)}get isAnimating(){return J(this)}get isPaused(){return U(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,r=!1,i=this.animation,{config:n,toValues:a}=i,l=(0,o.He)(i.to);!l&&(0,s.j$)(i.to)&&(a=(0,s.qo)((0,s.je)(i.to))),i.values.forEach((u,c)=>{if(u.done)return;let h=u.constructor==o.eC?1:l?l[c].lastPosition:a[c],d=i.immediate,f=h;if(!d){let t;if(f=u.lastPosition,n.tension<=0){u.done=!0;return}let r=u.elapsedTime+=e,a=i.fromValues[c],o=null!=u.v0?u.v0:u.v0=s.is.arr(n.velocity)?n.velocity[c]:n.velocity,l=n.precision||(a==h?.005:Math.min(1,.001*Math.abs(h-a)));if(s.is.und(n.duration)){if(n.decay){let e=!0===n.decay?.998:n.decay,i=Math.exp(-(1-e)*r);f=a+o/(1-e)*(1-i),d=Math.abs(u.lastPosition-f)<=l,t=o*i}else{t=null==u.lastVelocity?o:u.lastVelocity;let r=n.restVelocity||l/10,i=n.clamp?0:n.bounce,c=!s.is.und(i),A=a==h?u.v0>0:a<h,p=Math.ceil(e/1);for(let e=0;e<p&&!(!(Math.abs(t)>r)&&(d=Math.abs(h-f)<=l));++e){c&&(f==h||f>h==A)&&(t=-t*i,f=h);let e=(-(1e-6*n.tension)*(f-h)+-(.001*n.friction)*t)/n.mass;t+=1*e,f+=1*t}}}else{let i=1;n.duration>0&&(this._memoizedDuration!==n.duration&&(this._memoizedDuration=n.duration,u.durationProgress>0&&(u.elapsedTime=n.duration*u.durationProgress,r=u.elapsedTime+=e)),i=(i=(n.progress||0)+r/this._memoizedDuration)>1?1:i<0?0:i,u.durationProgress=i),t=((f=a+n.easing(i)*(h-a))-u.lastPosition)/e,d=1==i}u.lastVelocity=t,Number.isNaN(f)&&(console.warn("Got NaN while animating:",this),d=!0)}l&&!l[c].done&&(d=!1),d?u.done=!0:t=!1,u.setValue(f,n.round)&&(r=!0)});let u=(0,o.ys)(this),c=u.getValue();if(t){let e=(0,s.je)(i.to);(c!==e||r)&&!n.decay?(u.setValue(e),this._onChange(e)):r&&n.decay&&this._onChange(c),this._stop()}else r&&this._onChange(c)}set(e){return s.Wn.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(J(this)){let{to:e,config:t}=this.animation;s.Wn.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let r;return s.is.und(e)?(r=this.queue||[],this.queue=[]):r=[s.is.obj(e)?e:l({},t,{to:e})],Promise.all(r.map(e=>this._update(e))).then(e=>F(this,e))}stop(e){let{to:t}=this.animation;return this._focus(this.get()),D(this._state,e&&this._lastCallId),s.Wn.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){let t=this.key||"",{to:r,from:i}=e;(null==(r=s.is.obj(r)?r[t]:r)||v(r))&&(r=void 0),null==(i=s.is.obj(i)?i[t]:i)&&(i=void 0);let n={to:r,from:i};return L(this)||(e.reverse&&([r,i]=[i,r]),i=(0,s.je)(i),s.is.und(i)?(0,o.ys)(this)||this._set(r):this._set(i)),n}_update(e,t){let r=l({},e),{key:i,defaultProps:n}=this;r.default&&Object.assign(n,A(r,(e,t)=>/^on/.test(t)?h(e,i):e)),Y(this,r,"onProps"),Z(this,"onProps",r,this);let a=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let o=this._state;return w(++this._lastCallId,{key:i,props:r,defaultProps:n,state:o,actions:{pause:()=>{U(this)||(K(this,!0),(0,s.bl)(o.pauseQueue),Z(this,"onPause",_(this,Q(this,this.animation.to)),this))},resume:()=>{U(this)&&(K(this,!1),J(this)&&this._resume(),(0,s.bl)(o.resumeQueue),Z(this,"onResume",_(this,Q(this,this.animation.to)),this))},start:this._merge.bind(this,a)}}).then(e=>{if(r.loop&&e.finished&&!(t&&e.noop)){let e=j(r);if(e)return this._update(e,!0)}return e})}_merge(e,t,r){if(t.cancel)return this.stop(!0),r(R(this));let i=!s.is.und(e.to),n=!s.is.und(e.from);if(i||n){if(!(t.callId>this._lastToId))return r(R(this));this._lastToId=t.callId}let{key:a,defaultProps:h,animation:d}=this,{to:f,from:A}=d,{to:p=f,from:m=A}=e;n&&!i&&(!t.default||s.is.und(p))&&(p=m),t.reverse&&([p,m]=[m,p]);let B=!(0,s.Xy)(m,A);B&&(d.from=m),m=(0,s.je)(m);let y=!(0,s.Xy)(p,f);y&&this._focus(p);let M=v(t.to),{config:E}=d,{decay:w,velocity:F}=E;(i||n)&&(E.velocity=0),t.config&&!M&&function(e,t,r){for(let i in r&&(b(r=l({},r),t),t=l({},r,t)),b(e,t),Object.assign(e,t),C)null==e[i]&&(e[i]=C[i]);let{mass:i,frequency:n,damping:a}=e;s.is.und(n)||(n<.01&&(n=.01),a<0&&(a=0),e.tension=Math.pow(2*Math.PI/n,2)*i,e.friction=4*Math.PI*a*i/n)}(E,u(t.config,a),t.config!==h.config?u(h.config,a):void 0);let D=(0,o.ys)(this);if(!D||s.is.und(p))return r(_(this,!0));let G=s.is.und(t.reset)?n&&!t.default:!s.is.und(m)&&c(t.reset,a),T=G?m:this.get(),S=g(p),H=s.is.num(S)||s.is.arr(S)||(0,s.Df)(S),P=!M&&(!H||c(h.immediate||t.immediate,a));if(y){let e=(0,o.sb)(p);if(e!==D.constructor){if(P)D=this._set(S);else throw Error(`Cannot animate between ${D.constructor.name} and ${e.name}, as the "to" prop suggests`)}}let O=D.constructor,U=(0,s.j$)(p),k=!1;if(!U){let e=G||!L(this)&&B;(y||e)&&(U=!(k=(0,s.Xy)(g(T),S))),((0,s.Xy)(d.immediate,P)||P)&&(0,s.Xy)(E.decay,w)&&(0,s.Xy)(E.velocity,F)||(U=!0)}if(k&&J(this)&&(d.changed&&!G?U=!0:U||this._stop(f)),!M&&((U||(0,s.j$)(f))&&(d.values=D.getPayload(),d.toValues=(0,s.j$)(p)?null:O==o.eC?[1]:(0,s.qo)(S)),d.immediate==P||(d.immediate=P,P||G||this._set(f)),U)){let{onRest:e}=d;(0,s.S6)(W,e=>Y(this,t,e));let i=_(this,Q(this,f));(0,s.bl)(this._pendingCalls,i),this._pendingCalls.add(r),d.changed&&s.Wn.batchedUpdates(()=>{d.changed=!G,null==e||e(i,this),G?u(h.onRest,i):null==d.onStart||d.onStart(i,this)})}G&&this._set(T),M?r(x(t.to,t,this._state,this)):U?this._start():J(this)&&!y?this._pendingCalls.add(r):r(I(T))}_focus(e){let t=this.animation;e!==t.to&&((0,s.Ll)(this)&&this._detach(),t.to=e,(0,s.Ll)(this)&&this._attach())}_attach(){let e=0,{to:t}=this.animation;(0,s.j$)(t)&&((0,s.UI)(t,this),S(t)&&(e=t.priority+1)),this.priority=e}_detach(){let{to:e}=this.animation;(0,s.j$)(e)&&(0,s.iL)(e,this)}_set(e,t=!0){let r=(0,s.je)(e);if(!s.is.und(r)){let e=(0,o.ys)(this);if(!e||!(0,s.Xy)(r,e.getValue())){let i=(0,o.sb)(r);e&&e.constructor==i?e.setValue(r):(0,o.f3)(this,i.create(r)),e&&s.Wn.batchedUpdates(()=>{this._onChange(r,t)})}}return(0,o.ys)(this)}_onStart(){let e=this.animation;e.changed||(e.changed=!0,Z(this,"onStart",_(this,Q(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),u(this.animation.onChange,e,this)),u(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){let e=this.animation;(0,o.ys)(this).reset((0,s.je)(e.to)),e.immediate||(e.fromValues=e.values.map(e=>e.lastPosition)),J(this)||(k(this,!0),U(this)||this._resume())}_resume(){s.OH.skipAnimation?this.finish():s.fT.start(this)}_stop(e,t){if(J(this)){k(this,!1);let r=this.animation;(0,s.S6)(r.values,e=>{e.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),(0,s.k0)(this,{type:"idle",parent:this});let i=t?R(this.get()):_(this.get(),Q(this,null!=e?e:r.to));(0,s.bl)(this._pendingCalls,i),r.changed&&(r.changed=!1,Z(this,"onRest",i,this))}}}function Q(e,t){let r=g(t),i=g(e.get());return(0,s.Xy)(i,r)}function j(e,t=e.loop,r=e.to){let i=u(t);if(i){let n=!0!==i&&B(i),s=(n||e).reverse,a=!n||n.reset;return X(l({},e,{loop:t,default:!1,pause:void 0,to:!s||v(r)?r:void 0,from:a?e.from:void 0,reset:a},n))}}function X(e){let{to:t,from:r}=e=B(e),i=new Set;return s.is.obj(t)&&V(t,i),s.is.obj(r)&&V(r,i),e.keys=i.size?Array.from(i):null,e}function V(e,t){(0,s.rU)(e,(e,r)=>null!=e&&t.add(r))}let W=["onStart","onRest","onChange","onPause","onResume"];function Y(e,t,r){e.animation[r]=t[r]!==d(t,r)?h(t[r],e.key):void 0}function Z(e,t,...r){var i,n,s,a;null==(i=(n=e.animation)[t])||i.call(n,...r),null==(s=(a=e.defaultProps)[t])||s.call(a,...r)}let z=["onStart","onChange","onRest"],q=1;class ${constructor(e,t){this.id=q++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start(l({default:!0},e))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){let e={};return this.each((t,r)=>e[r]=t.get()),e}set(e){for(let t in e){let r=e[t];s.is.und(r)||this.springs[t].set(r)}}update(e){return e&&this.queue.push(X(e)),this}start(e){let{queue:t}=this;return(e?t=(0,s.qo)(e).map(X):this.queue=[],this._flush)?this._flush(this,t):(ea(this,t),ee(this,t))}stop(e,t){if(!!e!==e&&(t=e),t){let r=this.springs;(0,s.S6)((0,s.qo)(t),t=>r[t].stop(!!e))}else D(this._state,this._lastAsyncId),this.each(t=>t.stop(!!e));return this}pause(e){if(s.is.und(e))this.start({pause:!0});else{let t=this.springs;(0,s.S6)((0,s.qo)(e),e=>t[e].pause())}return this}resume(e){if(s.is.und(e))this.start({pause:!1});else{let t=this.springs;(0,s.S6)((0,s.qo)(e),e=>t[e].resume())}return this}each(e){(0,s.rU)(this.springs,e)}_onFrame(){let{onStart:e,onChange:t,onRest:r}=this._events,i=this._active.size>0,n=this._changed.size>0;(i&&!this._started||n&&!this._started)&&(this._started=!0,(0,s.yl)(e,([e,t])=>{t.value=this.get(),e(t,this,this._item)}));let a=!i&&this._started,o=n||a&&r.size?this.get():null;n&&t.size&&(0,s.yl)(t,([e,t])=>{t.value=o,e(t,this,this._item)}),a&&(this._started=!1,(0,s.yl)(r,([e,t])=>{t.value=o,e(t,this,this._item)}))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}s.Wn.onFrame(this._onFrame)}}function ee(e,t){return Promise.all(t.map(t=>et(e,t))).then(t=>F(e,t))}async function et(e,t,r){let{keys:i,to:n,from:a,loop:o,onRest:l,onResolve:u}=t,c=s.is.obj(t.default)&&t.default;o&&(t.loop=!1),!1===n&&(t.to=null),!1===a&&(t.from=null);let h=s.is.arr(n)||s.is.fun(n)?n:void 0;h?(t.to=void 0,t.onRest=void 0,c&&(c.onRest=void 0)):(0,s.S6)(z,r=>{let i=t[r];if(s.is.fun(i)){let n=e._events[r];t[r]=({finished:e,cancelled:t})=>{let r=n.get(i);r?(e||(r.finished=!1),t&&(r.cancelled=!0)):n.set(i,{value:null,finished:e||!1,cancelled:t||!1})},c&&(c[r]=t[r])}});let f=e._state;!f.paused===t.pause?(f.paused=t.pause,(0,s.bl)(t.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(t.pause=!0);let A=(i||Object.keys(e.springs)).map(r=>e.springs[r].start(t)),p=!0===t.cancel||!0===d(t,"cancel");(h||p&&f.asyncId)&&A.push(w(++e._lastAsyncId,{props:t,state:f,actions:{pause:s.ZT,resume:s.ZT,start(t,r){p?(D(f,e._lastAsyncId),r(R(e))):(t.onRest=l,r(x(h,t,f,e)))}}})),f.paused&&await new Promise(e=>{f.resumeQueue.add(e)});let m=F(e,await Promise.all(A));if(o&&m.finished&&!(r&&m.noop)){let r=j(t,o,n);if(r)return ea(e,[r]),et(e,r,!0)}return u&&s.Wn.batchedUpdates(()=>u(m,e,e.item)),m}function er(e,t){let r=l({},e.springs);return t&&(0,s.S6)((0,s.qo)(t),e=>{s.is.und(e.keys)&&(e=X(e)),s.is.obj(e.to)||(e=l({},e,{to:void 0})),es(r,e,e=>en(e))}),ei(e,r),r}function ei(e,t){(0,s.rU)(t,(t,r)=>{e.springs[r]||(e.springs[r]=t,(0,s.UI)(t,e))})}function en(e,t){let r=new N;return r.key=e,t&&(0,s.UI)(r,t),r}function es(e,t,r){t.keys&&(0,s.S6)(t.keys,i=>{(e[i]||(e[i]=r(i)))._prepareNode(t)})}function ea(e,t){(0,s.S6)(t,t=>{es(e.springs,t,t=>en(t,e))})}let eo=["children"],el=e=>{let{children:t}=e,r=function(e,t){if(null==e)return{};var r,i,n={},s=Object.keys(e);for(i=0;i<s.length;i++)r=s[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,eo),i=(0,a.useContext)(eu),n=r.pause||!!i.pause,o=r.immediate||!!i.immediate;r=(0,s.Pr)(()=>({pause:n,immediate:o}),[n,o]);let{Provider:l}=eu;return a.createElement(l,{value:r},t)},eu=(Object.assign(el,a.createContext({})),el.Provider._context=el,el.Consumer._context=el,el);el.Provider=eu.Provider,el.Consumer=eu.Consumer;let ec=()=>{let e=[],t=function(t){(0,s.ZR)();let i=[];return(0,s.S6)(e,(e,n)=>{if(s.is.und(t))i.push(e.start());else{let s=r(t,e,n);s&&i.push(e.start(s))}}),i};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){let r=e.indexOf(t);~r&&e.splice(r,1)},t.pause=function(){return(0,s.S6)(e,e=>e.pause(...arguments)),this},t.resume=function(){return(0,s.S6)(e,e=>e.resume(...arguments)),this},t.set=function(t){(0,s.S6)(e,e=>e.set(t))},t.start=function(t){let r=[];return(0,s.S6)(e,(e,i)=>{if(s.is.und(t))r.push(e.start());else{let n=this._getProps(t,e,i);n&&r.push(e.start(n))}}),r},t.stop=function(){return(0,s.S6)(e,e=>e.stop(...arguments)),this},t.update=function(t){return(0,s.S6)(e,(e,r)=>e.update(this._getProps(t,e,r))),this};let r=function(e,t,r){return s.is.fun(e)?e(r,t):e};return t._getProps=r,t};function eh(e,t){let r=s.is.fun(e),[[i],n]=function(e,t,r){let i=s.is.fun(t)&&t;i&&!r&&(r=[]);let n=(0,a.useMemo)(()=>i||3==arguments.length?ec():void 0,[]),o=(0,a.useRef)(0),u=(0,s.NW)(),c=(0,a.useMemo)(()=>({ctrls:[],queue:[],flush(e,t){let r=er(e,t);return!(o.current>0)||c.queue.length||Object.keys(r).some(t=>!e.springs[t])?new Promise(i=>{ei(e,r),c.queue.push(()=>{i(ee(e,t))}),u()}):ee(e,t)}}),[]),h=(0,a.useRef)([...c.ctrls]),d=[],f=(0,s.zH)(e)||0;function p(e,r){for(let n=e;n<r;n++){let e=h.current[n]||(h.current[n]=new $(null,c.flush)),r=i?i(n,e):t[n];r&&(d[n]=function(e){let t=X(e);return s.is.und(t.default)&&(t.default=A(t)),t}(r))}}(0,a.useMemo)(()=>{(0,s.S6)(h.current.slice(e,f),e=>{var t;null==(t=e.ref)||t.delete(e),null==n||n.delete(e),e.stop(!0)}),h.current.length=e,p(f,e)},[e]),(0,a.useMemo)(()=>{p(0,Math.min(f,e))},r);let m=h.current.map((e,t)=>er(e,d[t])),B=(0,a.useContext)(el),g=(0,s.zH)(B),v=B!==g&&function(e){for(let t in e)return!0;return!1}(B);(0,s.LI)(()=>{o.current++,c.ctrls=h.current;let{queue:e}=c;e.length&&(c.queue=[],(0,s.S6)(e,e=>e())),(0,s.S6)(h.current,(e,t)=>{null==n||n.add(e),v&&e.start({default:B});let r=d[t];r&&(function(e,t){if(t&&e.ref!==t){var r;null==(r=e.ref)||r.delete(e),t.add(e),e.ref=t}}(e,r.ref),e.ref?e.queue.push(r):e.start(r))})}),(0,s.tf)(()=>()=>{(0,s.S6)(c.ctrls,e=>e.stop(!0))});let C=m.map(e=>l({},e));return n?[C,n]:C}(1,r?e:[e],r?t||[]:t);return r||2==arguments.length?[i,n]:i}(n=i||(i={})).MOUNT="mount",n.ENTER="enter",n.UPDATE="update",n.LEAVE="leave";class ed extends P{constructor(e,t){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=e,this.calc=(0,s.mD)(...t);let r=this._get(),i=(0,o.sb)(r);(0,o.f3)(this,i.create(r))}advance(e){let t=this._get(),r=this.get();(0,s.Xy)(t,r)||((0,o.ys)(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&eA(this._active)&&ep(this)}_get(){let e=s.is.arr(this.source)?this.source.map(s.je):(0,s.qo)((0,s.je)(this.source));return this.calc(...e)}_start(){this.idle&&!eA(this._active)&&(this.idle=!1,(0,s.S6)((0,o.He)(this),e=>{e.done=!1}),s.OH.skipAnimation?(s.Wn.batchedUpdates(()=>this.advance()),ep(this)):s.fT.start(this))}_attach(){let e=1;(0,s.S6)((0,s.qo)(this.source),t=>{(0,s.j$)(t)&&(0,s.UI)(t,this),S(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){(0,s.S6)((0,s.qo)(this.source),e=>{(0,s.j$)(e)&&(0,s.iL)(e,this)}),this._active.clear(),ep(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=(0,s.qo)(this.source).reduce((e,t)=>Math.max(e,(S(t)?t.priority:0)+1),0))}}function ef(e){return!1!==e.idle}function eA(e){return!e.size||Array.from(e).every(ef)}function ep(e){e.idle||(e.idle=!0,(0,s.S6)((0,o.He)(e),e=>{e.done=!0}),(0,s.k0)(e,{type:"idle",parent:e}))}s.OH.assign({createStringInterpolator:s.qS,to:(e,t)=>new ed(e,t)}),s.fT.advance},1132:function(e,t,r){"use strict";let i,n,s;r.d(t,{B0:function(){return eF},OH:function(){return L},UI:function(){return e_},k0:function(){return ew},O9:function(){return Y},mD:function(){return eA},qS:function(){return eJ},dE:function(){return F},ZR:function(){return ej},LW:function(){return eN},S6:function(){return R},rU:function(){return x},Z5:function(){return eg},yl:function(){return G},bl:function(){return T},fT:function(){return N},Ll:function(){return eE},je:function(){return eM},j$:function(){return eb},is:function(){return I},Df:function(){return eX},Xy:function(){return _},ZT:function(){return w},Wn:function(){return o},iL:function(){return eR},qo:function(){return D},NW:function(){return eY},LI:function(){return eV},Pr:function(){return eZ},tf:function(){return ez},zH:function(){return e$}});let a=b(),o=e=>g(e,a),l=b();o.write=e=>g(e,l);let u=b();o.onStart=e=>g(e,u);let c=b();o.onFrame=e=>g(e,c);let h=b();o.onFinish=e=>g(e,h);let d=[];o.setTimeout=(e,t)=>{let r=o.now()+t,i=()=>{let e=d.findIndex(e=>e.cancel==i);~e&&d.splice(e,1),m-=~e?1:0},n={time:r,handler:e,cancel:i};return d.splice(f(r),0,n),m+=1,v(),n};let f=e=>~(~d.findIndex(t=>t.time>e)||~d.length);o.cancel=e=>{u.delete(e),c.delete(e),h.delete(e),a.delete(e),l.delete(e)},o.sync=e=>{B=!0,o.batchedUpdates(e),B=!1},o.throttle=e=>{let t;function r(){try{e(...t)}finally{t=null}}function i(...e){t=e,o.onStart(r)}return i.handler=e,i.cancel=()=>{u.delete(r),t=null},i};let A="undefined"!=typeof window?window.requestAnimationFrame:()=>{};o.use=e=>A=e,o.now="undefined"!=typeof performance?()=>performance.now():Date.now,o.batchedUpdates=e=>e(),o.catch=console.error,o.frameLoop="always",o.advance=()=>{"demand"!==o.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):y()};let p=-1,m=0,B=!1;function g(e,t){B?(t.delete(e),e(0)):(t.add(e),v())}function v(){p<0&&(p=0,"demand"!==o.frameLoop&&A(C))}function C(){~p&&(A(C),o.batchedUpdates(y))}function y(){let e=p,t=f(p=o.now());if(t&&(M(d.splice(0,t),e=>e.handler()),m-=t),!m){p=-1;return}u.flush(),a.flush(e?Math.min(64,p-e):16.667),c.flush(),l.flush(),h.flush()}function b(){let e=new Set,t=e;return{add(r){m+=t!=e||e.has(r)?0:1,e.add(r)},delete:r=>(m-=t==e&&e.has(r)?1:0,e.delete(r)),flush(r){t.size&&(e=new Set,m-=t.size,M(t,t=>t(r)&&e.add(t)),m+=e.size,t=e)}}}function M(e,t){e.forEach(e=>{try{t(e)}catch(e){o.catch(e)}})}var E=r(7294);function w(){}let F=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0}),I={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,und:e=>void 0===e};function _(e,t){if(I.arr(e)){if(!I.arr(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return e===t}let R=(e,t)=>e.forEach(t);function x(e,t,r){if(I.arr(e)){for(let i=0;i<e.length;i++)t.call(r,e[i],`${i}`);return}for(let i in e)e.hasOwnProperty(i)&&t.call(r,e[i],i)}let D=e=>I.und(e)?[]:I.arr(e)?e:[e];function G(e,t){if(e.size){let r=Array.from(e);e.clear(),R(r,t)}}let T=(e,...t)=>G(e,e=>e(...t)),S=()=>"undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),H=null,P=!1,O=w;var L=Object.freeze({__proto__:null,get createStringInterpolator(){return i},get to(){return n},get colors(){return H},get skipAnimation(){return P},get willAdvance(){return O},assign:e=>{e.to&&(n=e.to),e.now&&(o.now=e.now),void 0!==e.colors&&(H=e.colors),null!=e.skipAnimation&&(P=e.skipAnimation),e.createStringInterpolator&&(i=e.createStringInterpolator),e.requestAnimationFrame&&o.use(e.requestAnimationFrame),e.batchedUpdates&&(o.batchedUpdates=e.batchedUpdates),e.willAdvance&&(O=e.willAdvance),e.frameLoop&&(o.frameLoop=e.frameLoop)}});let J=new Set,U=[],k=[],K=0,N={get idle(){return!J.size&&!U.length},start(e){K>e.priority?(J.add(e),o.onStart(Q)):(j(e),o(V))},advance:V,sort(e){if(K)o.onFrame(()=>N.sort(e));else{let t=U.indexOf(e);~t&&(U.splice(t,1),X(e))}},clear(){U=[],J.clear()}};function Q(){J.forEach(j),J.clear(),o(V)}function j(e){U.includes(e)||X(e)}function X(e){U.splice(function(e,t){let r=e.findIndex(t);return r<0?e.length:r}(U,t=>t.priority>e.priority),0,e)}function V(e){let t=k;for(let r=0;r<U.length;r++){let i=U[r];K=i.priority,i.idle||(O(i),i.advance(e),i.idle||t.push(i))}return K=0,(k=U).length=0,(U=t).length>0}let W=(e,t,r)=>Math.min(Math.max(r,e),t),Y={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Z="[-+]?\\d*\\.?\\d+",z=Z+"%";function q(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}let $=RegExp("rgb"+q(Z,Z,Z)),ee=RegExp("rgba"+q(Z,Z,Z,Z)),et=RegExp("hsl"+q(Z,z,z)),er=RegExp("hsla"+q(Z,z,z,Z)),ei=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,en=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,es=/^#([0-9a-fA-F]{6})$/,ea=/^#([0-9a-fA-F]{8})$/;function eo(e,t,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?e+(t-e)*6*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function el(e,t,r){let i=r<.5?r*(1+t):r+t-r*t,n=2*r-i;return Math.round(255*eo(n,i,e+1/3))<<24|Math.round(255*eo(n,i,e))<<16|Math.round(255*eo(n,i,e-1/3))<<8}function eu(e){let t=parseInt(e,10);return t<0?0:t>255?255:t}function ec(e){return(parseFloat(e)%360+360)%360/360}function eh(e){let t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function ed(e){let t=parseFloat(e);return t<0?0:t>100?1:t/100}function ef(e){let t;let r="number"==typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=es.exec(e))?parseInt(t[1]+"ff",16)>>>0:H&&void 0!==H[e]?H[e]:(t=$.exec(e))?(eu(t[1])<<24|eu(t[2])<<16|eu(t[3])<<8|255)>>>0:(t=ee.exec(e))?(eu(t[1])<<24|eu(t[2])<<16|eu(t[3])<<8|eh(t[4]))>>>0:(t=ei.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=ea.exec(e))?parseInt(t[1],16)>>>0:(t=en.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=et.exec(e))?(255|el(ec(t[1]),ed(t[2]),ed(t[3])))>>>0:(t=er.exec(e))?(el(ec(t[1]),ed(t[2]),ed(t[3]))|eh(t[4]))>>>0:null;if(null===r)return e;let i=(4278190080&(r=r||0))>>>24,n=(16711680&r)>>>16,s=(65280&r)>>>8,a=(255&r)/255;return`rgba(${i}, ${n}, ${s}, ${a})`}let eA=(e,t,r)=>{if(I.fun(e))return e;if(I.arr(e))return eA({range:e,output:t,extrapolate:r});if(I.str(e.output[0]))return i(e);let n=e.output,s=e.range||[0,1],a=e.extrapolateLeft||e.extrapolate||"extend",o=e.extrapolateRight||e.extrapolate||"extend",l=e.easing||(e=>e);return t=>{let r=function(e,t){for(var r=1;r<t.length-1&&!(t[r]>=e);++r);return r-1}(t,s);return function(e,t,r,i,n,s,a,o,l){let u=l?l(e):e;if(u<t){if("identity"===a)return u;"clamp"===a&&(u=t)}if(u>r){if("identity"===o)return u;"clamp"===o&&(u=r)}return i===n?i:t===r?e<=t?i:n:(t===-1/0?u=-u:r===1/0?u-=t:u=(u-t)/(r-t),u=s(u),i===-1/0?u=-u:n===1/0?u+=i:u=u*(n-i)+i,u)}(t,s[r],s[r+1],n[r],n[r+1],l,a,o,e.map)}},ep=2*Math.PI/3,em=2*Math.PI/4.5,eB=e=>e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375,eg={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>0===e?0:Math.pow(2,10*e-10),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>2.70158*e*e*e-1.70158*e*e,easeOutBack:e=>1+2.70158*Math.pow(e-1,3)+1.70158*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*(7.189819*e-2.5949095)/2:(Math.pow(2*e-2,2)*(3.5949095*(2*e-2)+2.5949095)+2)/2,easeInElastic:e=>0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*ep),easeOutElastic:e=>0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*ep)+1,easeInOutElastic:e=>0===e?0:1===e?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*em))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*em)/2+1,easeInBounce:e=>1-eB(1-e),easeOutBounce:eB,easeInOutBounce:e=>e<.5?(1-eB(1-2*e))/2:(1+eB(2*e-1))/2,steps:(e,t="end")=>r=>{let i=(r="end"===t?Math.min(r,.999):Math.max(r,.001))*e;return W(0,1,("end"===t?Math.floor(i):Math.ceil(i))/e)}};function ev(){return(ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}let eC=Symbol.for("FluidValue.get"),ey=Symbol.for("FluidValue.observers"),eb=e=>!!(e&&e[eC]),eM=e=>e&&e[eC]?e[eC]():e,eE=e=>e[ey]||null;function ew(e,t){let r=e[ey];r&&r.forEach(e=>{e.eventObserved?e.eventObserved(t):e(t)})}class eF{constructor(e){if(this[eC]=void 0,this[ey]=void 0,!e&&!(e=this.get))throw Error("Unknown getter");eI(this,e)}}let eI=(e,t)=>ex(e,eC,t);function e_(e,t){if(e[eC]){let r=e[ey];r||ex(e,ey,r=new Set),!r.has(t)&&(r.add(t),e.observerAdded&&e.observerAdded(r.size,t))}return t}function eR(e,t){let r=e[ey];if(r&&r.has(t)){let i=r.size-1;i?r.delete(t):e[ey]=null,e.observerRemoved&&e.observerRemoved(i,t)}}let ex=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0}),eD=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,eG=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,eT=RegExp(`(${eD.source})(%|[a-z]+)`,"i"),eS=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,eH=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,eP=e=>{let[t,r]=eO(e);if(!t||S())return e;let i=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(i)return i.trim();if(r&&r.startsWith("--")){let e=window.getComputedStyle(document.documentElement).getPropertyValue(r);if(e)return e}else if(r&&eH.test(r))return eP(r);else if(r)return r;return e},eO=e=>{let t=eH.exec(e);if(!t)return[,];let[,r,i]=t;return[r,i]},eL=(e,t,r,i,n)=>`rgba(${Math.round(t)}, ${Math.round(r)}, ${Math.round(i)}, ${n})`,eJ=e=>{s||(s=H?RegExp(`(${Object.keys(H).join("|")})(?!\\w)`,"g"):/^\b$/);let t=e.output.map(e=>eM(e).replace(eH,eP).replace(eG,ef).replace(s,ef)),r=t.map(e=>e.match(eD).map(Number)),i=r[0].map((e,t)=>r.map(e=>{if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]})).map(t=>eA(ev({},e,{output:t})));return e=>{var r;let n=!eT.test(t[0])&&(null==(r=t.find(e=>eT.test(e)))?void 0:r.replace(eD,"")),s=0;return t[0].replace(eD,()=>`${i[s++](e)}${n||""}`).replace(eS,eL)}},eU="react-spring: ",ek=e=>{let t=!1;if("function"!=typeof e)throw TypeError(`${eU}once requires a function parameter`);return(...r)=>{t||(e(...r),t=!0)}},eK=ek(console.warn);function eN(){eK(`${eU}The "interpolate" function is deprecated in v9 (use "to" instead)`)}let eQ=ek(console.warn);function ej(){eQ(`${eU}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function eX(e){return I.str(e)&&("#"==e[0]||/\d/.test(e)||!S()&&eH.test(e)||e in(H||{}))}new WeakMap,new WeakMap,new WeakMap,new WeakMap;let eV=S()?E.useEffect:E.useLayoutEffect,eW=()=>{let e=(0,E.useRef)(!1);return eV(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function eY(){let e=(0,E.useState)()[1],t=eW();return()=>{t.current&&e(Math.random())}}function eZ(e,t){let[r]=(0,E.useState)(()=>({inputs:t,result:e()})),i=(0,E.useRef)(),n=i.current,s=n;return s?t&&s.inputs&&function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(t,s.inputs)||(s={inputs:t,result:e()}):s=r,(0,E.useEffect)(()=>{i.current=s,n==r&&(r.inputs=r.result=void 0)},[s]),s.result}let ez=e=>(0,E.useEffect)(e,eq),eq=[];function e$(e){let t=(0,E.useRef)();return(0,E.useEffect)(()=>{t.current=e}),t.current}},5449:function(e,t,r){"use strict";r.d(t,{a:function(){return l},useSpring:function(){return n.useSpring}});var i=r(793),n=r(4928),s=r(1132),a=r(1314);let o=["primitive"].concat(Object.keys(r(9477)).filter(e=>/^[A-Z]/.test(e)).map(e=>e[0].toLowerCase()+e.slice(1)));n.Globals.assign({createStringInterpolator:s.qS,colors:s.O9,frameLoop:"demand"}),(0,i.n)(()=>{s.Wn.advance()});let l=(0,a.Ld)(o,{applyAnimatedValues:i.j}).animated},9e3:function(e,t,r){"use strict";r.d(t,{M:function(){return a}});var i=r(7462),n=r(9477),s=r(7294);let a=s.forwardRef(function({children:e,disable:t,disableX:r,disableY:a,disableZ:o,left:l,right:u,top:c,bottom:h,front:d,back:f,onCentered:A,precise:p=!0,cacheKey:m=0,...B},g){let v=s.useRef(null),C=s.useRef(null),y=s.useRef(null);return s.useLayoutEffect(()=>{C.current.matrixWorld.identity();let e=new n.Box3().setFromObject(y.current,p),i=new n.Vector3,s=new n.Sphere,m=e.max.x-e.min.x,B=e.max.y-e.min.y,g=e.max.z-e.min.z;e.getCenter(i),e.getBoundingSphere(s);let b=c?B/2:h?-B/2:0,M=l?-m/2:u?m/2:0,E=d?g/2:f?-g/2:0;C.current.position.set(t||r?0:-i.x+M,t||a?0:-i.y+b,t||o?0:-i.z+E),void 0!==A&&A({parent:v.current.parent,container:v.current,width:m,height:B,depth:g,boundingBox:e,boundingSphere:s,center:i,verticalAlignment:b,horizontalAlignment:M,depthAlignment:E})},[m,A,c,l,d,t,r,a,o,p,u,h,f]),s.useImperativeHandle(g,()=>v.current,[]),s.createElement("group",(0,i.Z)({ref:v},B),s.createElement("group",{ref:C},s.createElement("group",{ref:y},e)))})},6688:function(e,t,r){"use strict";r.d(t,{z:function(){return w}});var i=r(7462),n=r(7294),s=r(9477),a=r(793),o=r(5914),l=r(6103),u=r(6680),c=Object.defineProperty,h=(e,t,r)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d=(e,t,r)=>(h(e,"symbol"!=typeof t?t+"":t,r),r);class f extends u.w{constructor(e,t){super(),d(this,"scene"),d(this,"camera"),d(this,"inverse"),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,t,r){let i,n;let s=e.getContext(),a=e.state;a.buffers.color.setMask(!1),a.buffers.depth.setMask(!1),a.buffers.color.setLocked(!0),a.buffers.depth.setLocked(!0),this.inverse?(i=0,n=1):(i=1,n=0),a.buffers.stencil.setTest(!0),a.buffers.stencil.setOp(s.REPLACE,s.REPLACE,s.REPLACE),a.buffers.stencil.setFunc(s.ALWAYS,i,4294967295),a.buffers.stencil.setClear(n),a.buffers.stencil.setLocked(!0),e.setRenderTarget(r),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),a.buffers.color.setLocked(!1),a.buffers.depth.setLocked(!1),a.buffers.stencil.setLocked(!1),a.buffers.stencil.setFunc(s.EQUAL,1,4294967295),a.buffers.stencil.setOp(s.KEEP,s.KEEP,s.KEEP),a.buffers.stencil.setLocked(!0)}}class A extends u.w{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}var p=Object.defineProperty,m=(e,t,r)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,B=(e,t,r)=>(m(e,"symbol"!=typeof t?t+"":t,r),r);class g{constructor(e,t){if(B(this,"renderer"),B(this,"_pixelRatio"),B(this,"_width"),B(this,"_height"),B(this,"renderTarget1"),B(this,"renderTarget2"),B(this,"writeBuffer"),B(this,"readBuffer"),B(this,"renderToScreen"),B(this,"passes",[]),B(this,"copyPass"),B(this,"clock"),this.renderer=e,void 0===t){let r={minFilter:s.LinearFilter,magFilter:s.LinearFilter,format:s.RGBAFormat},i=e.getSize(new s.Vector2);this._pixelRatio=e.getPixelRatio(),this._width=i.width,this._height=i.height,(t=new s.WebGLRenderTarget(this._width*this._pixelRatio,this._height*this._pixelRatio,r)).texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,void 0===o.C&&console.error("THREE.EffectComposer relies on CopyShader"),void 0===l.T&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new l.T(o.C),this.copyPass.material.blending=s.NoBlending,this.clock=new s.Clock}swapBuffers(){let e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){let t=this.passes.indexOf(e);-1!==t&&this.passes.splice(t,1)}isLastEnabledPass(e){for(let t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}render(e){void 0===e&&(e=this.clock.getDelta());let t=this.renderer.getRenderTarget(),r=!1,i=this.passes.length;for(let t=0;t<i;t++){let i=this.passes[t];if(!1!==i.enabled){if(i.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(t),i.render(this.renderer,this.writeBuffer,this.readBuffer,e,r),i.needsSwap){if(r){let t=this.renderer.getContext(),r=this.renderer.state.buffers.stencil;r.setFunc(t.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),r.setFunc(t.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==f&&(i instanceof f?r=!0:i instanceof A&&(r=!1))}}this.renderer.setRenderTarget(t)}reset(e){if(void 0===e){let t=this.renderer.getSize(new s.Vector2);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,(e=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,t){this._width=e,this._height=t;let r=this._width*this._pixelRatio,i=this._height*this._pixelRatio;this.renderTarget1.setSize(r,i),this.renderTarget2.setSize(r,i);for(let e=0;e<this.passes.length;e++)this.passes[e].setSize(r,i)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}}var v=Object.defineProperty,C=(e,t,r)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,y=(e,t,r)=>(C(e,"symbol"!=typeof t?t+"":t,r),r);class b extends u.w{constructor(e,t,r,i,n=0){super(),y(this,"scene"),y(this,"camera"),y(this,"overrideMaterial"),y(this,"clearColor"),y(this,"clearAlpha"),y(this,"clearDepth",!1),y(this,"_oldClearColor",new s.Color),this.scene=e,this.camera=t,this.overrideMaterial=r,this.clearColor=i,this.clearAlpha=n,this.clear=!0,this.needsSwap=!1}render(e,t,r){let i,n=e.autoClear;e.autoClear=!1;let s=null;void 0!==this.overrideMaterial&&(s=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(e.getClearColor(this._oldClearColor),i=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:r),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(this._oldClearColor,i),void 0!==this.overrideMaterial&&(this.scene.overrideMaterial=s),e.autoClear=n}}let M={uniforms:{tDiffuse:{value:null}},vertexShader:"varying vec2 vUv;\nvoid main() {\n	vUv = uv;\n	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D tDiffuse;\nvarying vec2 vUv;\nvoid main() {\n	vec4 tex = texture2D( tDiffuse, vUv );\n	gl_FragColor = LinearTosRGB( tex );\n}"};var E=r(9626);let w=n.forwardRef(({children:e,multisamping:t=8,renderIndex:r=1,disableRender:o,disableGamma:u,disableRenderPass:c,depthBuffer:h=!0,stencilBuffer:d=!1,anisotropy:f=1,encoding:A,type:p,...m},B)=>{n.useMemo(()=>(0,a.e)({EffectComposer:g,RenderPass:b,ShaderPass:l.T}),[]);let v=n.useRef(),{scene:C,camera:y,gl:w,size:F,viewport:I}=(0,a.A)(),[_]=n.useState(()=>{let e=new s.WebGLRenderTarget(F.width,F.height,{type:p||s.HalfFloatType,format:s.RGBAFormat,depthBuffer:h,stencilBuffer:d,anisotropy:f});return p===s.UnsignedByteType&&null!=A&&("colorSpace"in e?e.texture.colorSpace=A:e.texture.encoding=A),e.samples=t,e});n.useEffect(()=>{var e,t;null==(e=v.current)||e.setSize(F.width,F.height),null==(t=v.current)||t.setPixelRatio(I.dpr)},[w,F,I.dpr]),(0,a.C)(()=>{var e;o||null==(e=v.current)||e.render()},r);let R=[];return c||R.push(n.createElement("renderPass",{key:"renderpass",attach:`passes-${R.length}`,args:[C,y]})),u||R.push(n.createElement("shaderPass",{attach:`passes-${R.length}`,key:"gammapass",args:[M]})),n.Children.forEach(e,e=>{e&&R.push(n.cloneElement(e,{key:R.length,attach:`passes-${R.length}`}))}),n.createElement("effectComposer",(0,i.Z)({ref:(0,E.Z)([B,v]),args:[w,_]},m),R)})},9594:function(e,t,r){"use strict";r.d(t,{qA:function(){return eu}});var i=r(7462),n=r(7294),s=r(793),a=r(9477);let o=e=>e&&e.isCubeTexture;class l extends a.Mesh{constructor(e,t){var r,i;let n=o(e),s=Math.floor(Math.log2((null!=(i=n?null==(r=e.image[0])?void 0:r.width:e.image.width)?i:1024)/4)),l=Math.pow(2,s),u=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,c=[n?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/(3*Math.max(l,112))}`,`#define CUBEUV_TEXEL_HEIGHT ${1/(4*l)}`,`#define CUBEUV_MAX_MIP ${s}.0`].join("\n")+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${parseInt(a.REVISION.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `;super(new a.IcosahedronGeometry(1,16),new a.ShaderMaterial({uniforms:{map:{value:e},height:{value:(null==t?void 0:t.height)||15},radius:{value:(null==t?void 0:t.radius)||100}},fragmentShader:c,vertexShader:u,side:a.DoubleSide}))}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}class u extends a.DataTextureLoader{constructor(e){super(e),this.type=a.HalfFloatType}parse(e){let t=function(e,t){switch(e){case 1:console.error("THREE.RGBELoader Read Error: "+(t||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(t||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(t||""));break;default:console.error("THREE.RGBELoader: Error: "+(t||""))}return -1},r=function(e,t,r){t=t||1024;let i=e.pos,n=-1,s=0,a="",o=String.fromCharCode.apply(null,new Uint16Array(e.subarray(i,i+128)));for(;0>(n=o.indexOf("\n"))&&s<t&&i<e.byteLength;)a+=o,s+=o.length,i+=128,o+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(i,i+128)));return -1<n&&(!1!==r&&(e.pos+=s+n+1),a+o.slice(0,n))},i=new Uint8Array(e);i.pos=0;let n=function(e){let i,n;let s=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,a=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,o=/^\s*FORMAT=(\S+)\s*$/,l=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,u={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};if(e.pos>=e.byteLength||!(i=r(e)))return t(1,"no header found");if(!(n=i.match(/^#\?(\S+)/)))return t(3,"bad initial token");for(u.valid|=1,u.programtype=n[1],u.string+=i+"\n";!1!==(i=r(e));){if(u.string+=i+"\n","#"===i.charAt(0)){u.comments+=i+"\n";continue}if((n=i.match(s))&&(u.gamma=parseFloat(n[1])),(n=i.match(a))&&(u.exposure=parseFloat(n[1])),(n=i.match(o))&&(u.valid|=2,u.format=n[1]),(n=i.match(l))&&(u.valid|=4,u.height=parseInt(n[1],10),u.width=parseInt(n[2],10)),2&u.valid&&4&u.valid)break}return 2&u.valid?4&u.valid?u:t(3,"missing image size specifier"):t(3,"missing format specifier")}(i);if(-1!==n){let e=n.width,r=n.height,s=function(e,r,i){if(r<8||r>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);if(r!==(e[2]<<8|e[3]))return t(3,"wrong scanline width");let n=new Uint8Array(4*r*i);if(!n.length)return t(4,"unable to allocate buffer space");let s=0,a=0,o=4*r,l=new Uint8Array(4),u=new Uint8Array(o),c=i;for(;c>0&&a<e.byteLength;){if(a+4>e.byteLength)return t(1);if(l[0]=e[a++],l[1]=e[a++],l[2]=e[a++],l[3]=e[a++],2!=l[0]||2!=l[1]||(l[2]<<8|l[3])!=r)return t(3,"bad rgbe scanline format");let i=0,h;for(;i<o&&a<e.byteLength;){let r=(h=e[a++])>128;if(r&&(h-=128),0===h||i+h>o)return t(3,"bad scanline data");if(r){let t=e[a++];for(let e=0;e<h;e++)u[i++]=t}else u.set(e.subarray(a,a+h),i),i+=h,a+=h}for(let e=0;e<r;e++){let t=0;n[s]=u[e+t],t+=r,n[s+1]=u[e+t],t+=r,n[s+2]=u[e+t],t+=r,n[s+3]=u[e+t],s+=4}c--}return n}(i.subarray(i.pos),e,r);if(-1!==s){let t,i,o;switch(this.type){case a.FloatType:o=s.length/4;let l=new Float32Array(4*o);for(let e=0;e<o;e++)!function(e,t,r,i){let n=Math.pow(2,e[t+3]-128)/255;r[i+0]=e[t+0]*n,r[i+1]=e[t+1]*n,r[i+2]=e[t+2]*n,r[i+3]=1}(s,4*e,l,4*e);t=l,i=a.FloatType;break;case a.HalfFloatType:o=s.length/4;let u=new Uint16Array(4*o);for(let e=0;e<o;e++)!function(e,t,r,i){let n=Math.pow(2,e[t+3]-128)/255;r[i+0]=a.DataUtils.toHalfFloat(Math.min(e[t+0]*n,65504)),r[i+1]=a.DataUtils.toHalfFloat(Math.min(e[t+1]*n,65504)),r[i+2]=a.DataUtils.toHalfFloat(Math.min(e[t+2]*n,65504)),r[i+3]=a.DataUtils.toHalfFloat(1)}(s,4*e,u,4*e);t=u,i=a.HalfFloatType;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type)}return{width:e,height:r,data:t,header:n.string,gamma:n.gamma,exposure:n.exposure,type:i}}}return null}setDataType(e){return this.type=e,this}load(e,t,r,i){return super.load(e,function(e,r){switch(e.type){case a.FloatType:case a.HalfFloatType:"colorSpace"in e?e.colorSpace="srgb-linear":e.encoding=3e3,e.minFilter=a.LinearFilter,e.magFilter=a.LinearFilter,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,r)},r,i)}}var c={},h=Uint8Array,d=Uint16Array,f=Uint32Array,A=new h([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),p=new h([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),m=new h([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),B=function(e,t){for(var r=new d(31),i=0;i<31;++i)r[i]=t+=1<<e[i-1];for(var n=new f(r[30]),i=1;i<30;++i)for(var s=r[i];s<r[i+1];++s)n[s]=s-r[i]<<5|i;return[r,n]},g=B(A,2),v=g[0],C=g[1];v[28]=258,C[258]=28;for(var y=B(p,0),b=y[0],M=y[1],E=new d(32768),w=0;w<32768;++w){var F=(43690&w)>>>1|(21845&w)<<1;F=(61680&(F=(52428&F)>>>2|(13107&F)<<2))>>>4|(3855&F)<<4,E[w]=((65280&F)>>>8|(255&F)<<8)>>>1}for(var I=function(e,t,r){for(var i,n=e.length,s=0,a=new d(t);s<n;++s)++a[e[s]-1];var o=new d(t);for(s=0;s<t;++s)o[s]=o[s-1]+a[s-1]<<1;if(r){i=new d(1<<t);var l=15-t;for(s=0;s<n;++s)if(e[s])for(var u=s<<4|e[s],c=t-e[s],h=o[e[s]-1]++<<c,f=h|(1<<c)-1;h<=f;++h)i[E[h]>>>l]=u}else for(s=0,i=new d(n);s<n;++s)e[s]&&(i[s]=E[o[e[s]-1]++]>>>15-e[s]);return i},_=new h(288),w=0;w<144;++w)_[w]=8;for(var w=144;w<256;++w)_[w]=9;for(var w=256;w<280;++w)_[w]=7;for(var w=280;w<288;++w)_[w]=8;for(var R=new h(32),w=0;w<32;++w)R[w]=5;var x=I(_,9,1),D=I(R,5,1),G=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},T=function(e,t,r){var i=t/8|0;return(e[i]|e[i+1]<<8)>>(7&t)&r},S=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(7&t)},H=function(e){return(e/8|0)+(7&e&&1)},P=function(e,t,r){(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length);var i=new(e instanceof d?d:e instanceof f?f:h)(r-t);return i.set(e.subarray(t,r)),i},O=function(e,t,r){var i=e.length;if(!i||r&&!r.l&&i<5)return t||new h(0);var n=!t||r,s=!r||r.i;r||(r={}),t||(t=new h(3*i));var a=function(e){var r=t.length;if(e>r){var i=new h(Math.max(2*r,e));i.set(t),t=i}},o=r.f||0,l=r.p||0,u=r.b||0,c=r.l,d=r.d,f=r.m,B=r.n,g=8*i;do{if(!c){r.f=o=T(e,l,1);var C=T(e,l+1,3);if(l+=3,C){if(1==C)c=x,d=D,f=9,B=5;else if(2==C){var y=T(e,l,31)+257,M=T(e,l+10,15)+4,E=y+T(e,l+5,31)+1;l+=14;for(var w=new h(E),F=new h(19),_=0;_<M;++_)F[m[_]]=T(e,l+3*_,7);l+=3*M;for(var R=G(F),O=(1<<R)-1,L=I(F,R,1),_=0;_<E;){var J=L[T(e,l,O)];l+=15&J;var U=J>>>4;if(U<16)w[_++]=U;else{var k=0,K=0;for(16==U?(K=3+T(e,l,3),l+=2,k=w[_-1]):17==U?(K=3+T(e,l,7),l+=3):18==U&&(K=11+T(e,l,127),l+=7);K--;)w[_++]=k}}var N=w.subarray(0,y),Q=w.subarray(y);f=G(N),B=G(Q),c=I(N,f,1),d=I(Q,B,1)}else throw"invalid block type"}else{var U=H(l)+4,j=e[U-4]|e[U-3]<<8,X=U+j;if(X>i){if(s)throw"unexpected EOF";break}n&&a(u+j),t.set(e.subarray(U,X),u),r.b=u+=j,r.p=l=8*X;continue}if(l>g){if(s)throw"unexpected EOF";break}}n&&a(u+131072);for(var V=(1<<f)-1,W=(1<<B)-1,Y=l;;Y=l){var k=c[S(e,l)&V],Z=k>>>4;if((l+=15&k)>g){if(s)throw"unexpected EOF";break}if(!k)throw"invalid length/literal";if(Z<256)t[u++]=Z;else if(256==Z){Y=l,c=null;break}else{var z=Z-254;if(Z>264){var _=Z-257,q=A[_];z=T(e,l,(1<<q)-1)+v[_],l+=q}var $=d[S(e,l)&W],ee=$>>>4;if(!$)throw"invalid distance";l+=15&$;var Q=b[ee];if(ee>3){var q=p[ee];Q+=S(e,l)&(1<<q)-1,l+=q}if(l>g){if(s)throw"unexpected EOF";break}n&&a(u+131072);for(var et=u+z;u<et;u+=4)t[u]=t[u-Q],t[u+1]=t[u+1-Q],t[u+2]=t[u+2-Q],t[u+3]=t[u+3-Q];u=et}}r.l=c,r.p=Y,r.b=u,c&&(o=1,r.m=f,r.d=d,r.n=B)}while(!o);return u==t.length?t:P(t,0,u)},L=function(e,t,r){r<<=7&t;var i=t/8|0;e[i]|=r,e[i+1]|=r>>>8},J=function(e,t,r){r<<=7&t;var i=t/8|0;e[i]|=r,e[i+1]|=r>>>8,e[i+2]|=r>>>16},U=function(e,t){for(var r=[],i=0;i<e.length;++i)e[i]&&r.push({s:i,f:e[i]});var n=r.length,s=r.slice();if(!n)return[V,0];if(1==n){var a=new h(r[0].s+1);return a[r[0].s]=1,[a,1]}r.sort(function(e,t){return e.f-t.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],u=0,c=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};c!=n-1;)o=r[r[u].f<r[f].f?u++:f++],l=r[u!=c&&r[u].f<r[f].f?u++:f++],r[c++]={s:-1,f:o.f+l.f,l:o,r:l};for(var A=s[0].s,i=1;i<n;++i)s[i].s>A&&(A=s[i].s);var p=new d(A+1),m=k(r[c-1],p,0);if(m>t){var i=0,B=0,g=m-t,v=1<<g;for(s.sort(function(e,t){return p[t.s]-p[e.s]||e.f-t.f});i<n;++i){var C=s[i].s;if(p[C]>t)B+=v-(1<<m-p[C]),p[C]=t;else break}for(B>>>=g;B>0;){var y=s[i].s;p[y]<t?B-=1<<t-p[y]++-1:++i}for(;i>=0&&B;--i){var b=s[i].s;p[b]==t&&(--p[b],++B)}m=t}return[new h(p),m]},k=function(e,t,r){return -1==e.s?Math.max(k(e.l,t,r+1),k(e.r,t,r+1)):t[e.s]=r},K=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new d(++t),i=0,n=e[0],s=1,a=function(e){r[i++]=e},o=1;o<=t;++o)if(e[o]==n&&o!=t)++s;else{if(!n&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(n),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(n);s=1,n=e[o]}return[r.subarray(0,i),t]},N=function(e,t){for(var r=0,i=0;i<t.length;++i)r+=e[i]*t[i];return r},Q=function(e,t,r){var i=r.length,n=H(t+2);e[n]=255&i,e[n+1]=i>>>8,e[n+2]=255^e[n],e[n+3]=255^e[n+1];for(var s=0;s<i;++s)e[n+s+4]=r[s];return(n+4+i)*8},j=function(e,t,r,i,n,s,a,o,l,u,c){L(t,c++,r),++n[256];for(var h,f,B,g,v=U(n,15),C=v[0],y=v[1],b=U(s,15),M=b[0],E=b[1],w=K(C),F=w[0],x=w[1],D=K(M),G=D[0],T=D[1],S=new d(19),H=0;H<F.length;++H)S[31&F[H]]++;for(var H=0;H<G.length;++H)S[31&G[H]]++;for(var P=U(S,7),O=P[0],k=P[1],j=19;j>4&&!O[m[j-1]];--j);var X=u+5<<3,V=N(n,_)+N(s,R)+a,W=N(n,C)+N(s,M)+a+14+3*j+N(S,O)+(2*S[16]+3*S[17]+7*S[18]);if(X<=V&&X<=W)return Q(t,c,e.subarray(l,l+u));if(L(t,c,1+(W<V)),c+=2,W<V){h=I(C,y,0),f=C,B=I(M,E,0),g=M;var Y=I(O,k,0);L(t,c,x-257),L(t,c+5,T-1),L(t,c+10,j-4),c+=14;for(var H=0;H<j;++H)L(t,c+3*H,O[m[H]]);c+=3*j;for(var Z=[F,G],z=0;z<2;++z)for(var q=Z[z],H=0;H<q.length;++H){var $=31&q[H];L(t,c,Y[$]),c+=O[$],$>15&&(L(t,c,q[H]>>>5&127),c+=q[H]>>>12)}}else h=null,f=_,B=null,g=R;for(var H=0;H<o;++H)if(i[H]>255){var $=i[H]>>>18&31;J(t,c,h[$+257]),c+=f[$+257],$>7&&(L(t,c,i[H]>>>23&31),c+=A[$]);var ee=31&i[H];J(t,c,B[ee]),c+=g[ee],ee>3&&(J(t,c,i[H]>>>5&8191),c+=p[ee])}else J(t,c,h[i[H]]),c+=f[i[H]];return J(t,c,h[256]),c+f[256]},X=new f([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),V=new h(0),W=function(e){if((15&e[0])!=8||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"};function Y(e,t){return O((W(e),e.subarray(2,-4)),t)}var Z="undefined"!=typeof TextDecoder&&new TextDecoder;try{Z.decode(V,{stream:!0})}catch(e){}let z="colorSpace"in new a.Texture;class q extends a.DataTextureLoader{constructor(e){super(e),this.type=a.HalfFloatType}parse(e){let t={l:0,c:0,lc:0};function r(e,r,i,n,s){for(;i<e;)r=r<<8|F(n,s),i+=8;i-=e,t.l=r>>i&(1<<e)-1,t.c=r,t.lc=i}let i=Array(59),n={c:0,lc:0};function s(e,t,r,i){e=e<<8|F(r,i),t+=8,n.c=e,n.lc=t}let o={c:0,lc:0};function l(e,t,r,i,a,l,u,c,h,d){if(e==t){i<8&&(s(r,i,a,u),r=n.c,i=n.lc);var f=r>>(i-=8),f=new Uint8Array([f])[0];if(h.value+f>d)return!1;for(var A=c[h.value-1];f-- >0;)c[h.value++]=A}else{if(!(h.value<d))return!1;c[h.value++]=e}o.c=r,o.lc=i}function u(e){var t=65535&e;return t>32767?t-65536:t}let c={a:0,b:0};function h(e,t){var r=u(e),i=u(t),n=r+(1&i)+(i>>1),s=n-i;c.a=n,c.b=s}function d(e,t){var r=65535&t,i=(65535&e)-(r>>1)&65535;c.a=r+i-32768&65535,c.b=i}function f(e,a,u,c,h,d){var f=u.value,A=w(a,u),p=w(a,u);u.value+=4;var m=w(a,u);if(u.value+=4,A<0||A>=65537||p<0||p>=65537)throw"Something wrong with HUF_ENCSIZE";var B=Array(65537),g=Array(16384);!function(e){for(var t=0;t<16384;t++)e[t]={},e[t].len=0,e[t].lit=0,e[t].p=null}(g);var v=c-(u.value-f);if(!function(e,n,s,a,o,l,u){for(var c=0,h=0;o<=l;o++){if(s.value-s.value>a)return!1;r(6,c,h,e,s);var d=t.l;if(c=t.c,h=t.lc,u[o]=d,63==d){if(s.value-s.value>a)throw"Something wrong with hufUnpackEncTable";r(8,c,h,e,s);var f=t.l+6;if(c=t.c,h=t.lc,o+f>l+1)throw"Something wrong with hufUnpackEncTable";for(;f--;)u[o++]=0;o--}else if(d>=59){var f=d-59+2;if(o+f>l+1)throw"Something wrong with hufUnpackEncTable";for(;f--;)u[o++]=0;o--}}!function(e){for(var t=0;t<=58;++t)i[t]=0;for(var t=0;t<65537;++t)i[e[t]]+=1;for(var r=0,t=58;t>0;--t){var n=r+i[t]>>1;i[t]=r,r=n}for(var t=0;t<65537;++t){var s=e[t];s>0&&(e[t]=s|i[s]++<<6)}}(u)}(e,0,u,v,A,p,B),m>8*(c-(u.value-f)))throw"Something wrong with hufUncompress";!function(e,t,r,i){for(;t<=r;t++){var n=e[t]>>6,s=63&e[t];if(n>>s)throw"Invalid table entry";if(s>14){var a=i[n>>s-14];if(a.len)throw"Invalid table entry";if(a.lit++,a.p){var o=a.p;a.p=Array(a.lit);for(var l=0;l<a.lit-1;++l)a.p[l]=o[l]}else a.p=[,];a.p[a.lit-1]=t}else if(s)for(var u=0,l=1<<14-s;l>0;l--){var a=i[(n<<14-s)+u];if(a.len||a.p)throw"Invalid table entry";a.len=s,a.lit=t,u++}}}(B,A,p,g),function(e,t,r,i,a,u,c,h,d,f){for(var A=0,p=0,m=Math.trunc(a.value+(u+7)/8);a.value<m;)for(s(A,p,r,a),A=n.c,p=n.lc;p>=14;){var B=t[A>>p-14&16383];if(B.len)p-=B.len,l(B.lit,c,A,p,r,i,a,d,f,h),A=o.c,p=o.lc;else{if(!B.p)throw"hufDecode issues";for(g=0;g<B.lit;g++){for(var g,v=63&e[B.p[g]];p<v&&a.value<m;)s(A,p,r,a),A=n.c,p=n.lc;if(p>=v&&e[B.p[g]]>>6==(A>>p-v&(1<<v)-1)){p-=v,l(B.p[g],c,A,p,r,i,a,d,f,h),A=o.c,p=o.lc;break}}if(g==B.lit)throw"hufDecode issues"}}var C=8-u&7;for(A>>=C,p-=C;p>0;){var B=t[A<<14-p&16383];if(B.len)p-=B.len,l(B.lit,c,A,p,r,i,a,d,f,h),A=o.c,p=o.lc;else throw"hufDecode issues"}}(B,g,e,a,u,m,p,d,h,{value:0})}function A(e){for(var t=1;t<e.length;t++){var r=e[t-1]+e[t]-128;e[t]=r}}function p(e,t){for(var r=0,i=Math.floor((e.length+1)/2),n=0,s=e.length-1;!(n>s)&&(t[n++]=e[r++],!(n>s));)t[n++]=e[i++]}function m(e){for(var t=e.byteLength,r=[],i=0,n=new DataView(e);t>0;){var s=n.getInt8(i++);if(s<0){var a=-s;t-=a+1;for(var o=0;o<a;o++)r.push(n.getUint8(i++))}else{var a=s;t-=2;for(var l=n.getUint8(i++),o=0;o<a+1;o++)r.push(l)}}return r}function B(e){return new DataView(e.array.buffer,e.offset.value,e.size)}function g(e){var t=e.viewer.buffer.slice(e.offset.value,e.offset.value+e.size),r=new Uint8Array(m(t)),i=new Uint8Array(r.length);return A(r),p(r,i),new DataView(i.buffer)}function v(e){var t=Y(e.array.slice(e.offset.value,e.offset.value+e.size)),r=new Uint8Array(t.length);return A(t),p(t,r),new DataView(r.buffer)}function C(e){for(var t=e.viewer,r={value:e.offset.value},i=new Uint16Array(e.width*e.scanlineBlockSize*(e.channels*e.type)),n=new Uint8Array(8192),s=0,a=Array(e.channels),o=0;o<e.channels;o++)a[o]={},a[o].start=s,a[o].end=a[o].start,a[o].nx=e.width,a[o].ny=e.lines,a[o].size=e.type,s+=a[o].nx*a[o].ny*a[o].size;var l=G(t,r),u=G(t,r);if(u>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(l<=u)for(var o=0;o<u-l+1;o++)n[o+l]=I(t,r);var A=new Uint16Array(65536),p=function(e,t){for(var r=0,i=0;i<65536;++i)(0==i||e[i>>3]&1<<(7&i))&&(t[r++]=i);for(var n=r-1;r<65536;)t[r++]=0;return n}(n,A),m=w(t,r);f(e.array,t,r,m,i,s);for(var o=0;o<e.channels;++o)for(var B=a[o],g=0;g<a[o].size;++g)!function(e,t,r,i,n,s,a){for(var o=a<16384,l=r>n?n:r,u=1;u<=l;)u<<=1;for(u>>=1,f=u,u>>=1;u>=1;){for(var f,A,p,m,B,g=0,v=0+s*(n-f),C=s*u,y=s*f,b=i*u,M=i*f;g<=v;g+=y){for(var E=g,w=g+i*(r-f);E<=w;E+=M){var F=E+b,I=E+C,_=I+b;o?(h(e[E+t],e[I+t]),A=c.a,m=c.b,h(e[F+t],e[_+t]),p=c.a,B=c.b,h(A,p),e[E+t]=c.a,e[F+t]=c.b,h(m,B)):(d(e[E+t],e[I+t]),A=c.a,m=c.b,d(e[F+t],e[_+t]),p=c.a,B=c.b,d(A,p),e[E+t]=c.a,e[F+t]=c.b,d(m,B)),e[I+t]=c.a,e[_+t]=c.b}if(r&u){var I=E+C;o?h(e[E+t],e[I+t]):d(e[E+t],e[I+t]),A=c.a,e[I+t]=c.b,e[E+t]=A}}if(n&u)for(var E=g,w=g+i*(r-f);E<=w;E+=M){var F=E+b;o?h(e[E+t],e[F+t]):d(e[E+t],e[F+t]),A=c.a,e[F+t]=c.b,e[E+t]=A}f=u,u>>=1}}(i,B.start+g,B.nx,B.size,B.ny,B.nx*B.size,p);!function(e,t,r){for(var i=0;i<r;++i)t[i]=e[t[i]]}(A,i,s);for(var v=0,C=new Uint8Array(i.buffer.byteLength),y=0;y<e.lines;y++)for(var b=0;b<e.channels;b++){var B=a[b],M=B.nx*B.size,E=new Uint8Array(i.buffer,2*B.end,2*M);C.set(E,v),v+=2*M,B.end+=M}return new DataView(C.buffer)}function y(e){var t=Y(e.array.slice(e.offset.value,e.offset.value+e.size));let r=e.lines*e.channels*e.width,i=1==e.type?new Uint16Array(r):new Uint32Array(r),n=0,s=0,a=[,,,,];for(let r=0;r<e.lines;r++)for(let r=0;r<e.channels;r++){let r=0;switch(e.type){case 1:a[0]=n,a[1]=a[0]+e.width,n=a[1]+e.width;for(let n=0;n<e.width;++n)r+=t[a[0]++]<<8|t[a[1]++],i[s]=r,s++;break;case 2:a[0]=n,a[1]=a[0]+e.width,a[2]=a[1]+e.width,n=a[2]+e.width;for(let n=0;n<e.width;++n)r+=t[a[0]++]<<24|t[a[1]++]<<16|t[a[2]++]<<8,i[s]=r,s++}}return new DataView(i.buffer)}function b(e){var t=e.viewer,r={value:e.offset.value},i=new Uint8Array(e.width*e.lines*(e.channels*e.type*2)),n={version:_(t,r),unknownUncompressedSize:_(t,r),unknownCompressedSize:_(t,r),acCompressedSize:_(t,r),dcCompressedSize:_(t,r),rleCompressedSize:_(t,r),rleUncompressedSize:_(t,r),rleRawSize:_(t,r),totalAcUncompressedCount:_(t,r),totalDcUncompressedCount:_(t,r),acCompression:_(t,r)};if(n.version<2)throw"EXRLoader.parse: "+O.compression+" version "+n.version+" is unsupported";for(var s=[],o=G(t,r)-2;o>0;){var l=M(t.buffer,r),u=I(t,r),c=u>>2&3,h=(u>>4)-1,d=new Int8Array([h])[0],A=I(t,r);s.push({name:l,index:d,type:A,compression:c}),o-=l.length+3}for(var p=O.channels,B=Array(e.channels),g=0;g<e.channels;++g){var C=B[g]={},y=p[g];C.name=y.name,C.compression=0,C.decoded=!1,C.type=y.pixelType,C.pLinear=y.pLinear,C.width=e.width,C.height=e.lines}for(var b={idx:[,,,]},E=0;E<e.channels;++E)for(var C=B[E],g=0;g<s.length;++g){var w=s[g];C.name==w.name&&(C.compression=w.compression,w.index>=0&&(b.idx[w.index]=E),C.offset=E)}if(n.acCompressedSize>0)switch(n.acCompression){case 0:var F=new Uint16Array(n.totalAcUncompressedCount);f(e.array,t,r,n.acCompressedSize,F,n.totalAcUncompressedCount);break;case 1:var R=e.array.slice(r.value,r.value+n.totalAcUncompressedCount),x=Y(R),F=new Uint16Array(x.buffer);r.value+=n.totalAcUncompressedCount}if(n.dcCompressedSize>0){var T={array:e.array,offset:r,size:n.dcCompressedSize},S=new Uint16Array(v(T).buffer);r.value+=n.dcCompressedSize}if(n.rleRawSize>0){var R=e.array.slice(r.value,r.value+n.rleCompressedSize),x=Y(R),H=m(x.buffer);r.value+=n.rleCompressedSize}for(var P=0,L=Array(B.length),g=0;g<L.length;++g)L[g]=[];for(var J=0;J<e.lines;++J)for(var U=0;U<B.length;++U)L[U].push(P),P+=B[U].width*e.type*2;!function(e,t,r,i,n,s){var o=new DataView(s.buffer),l=r[e.idx[0]].width,u=r[e.idx[0]].height,c=Math.floor(l/8),h=Math.ceil(l/8),d=Math.ceil(u/8),f=l-(h-1)*8,A=u-(d-1)*8,p={value:0},m=[,,,],B=[,,,],g=[,,,],v=[,,,],C=[,,,];for(let r=0;r<3;++r)C[r]=t[e.idx[r]],m[r]=r<1?0:m[r-1]+h*d,B[r]=new Float32Array(64),g[r]=new Uint16Array(64),v[r]=new Uint16Array(64*h);for(let t=0;t<d;++t){var y,b,M=8;t==d-1&&(M=A);var E=8;for(let e=0;e<h;++e){e==h-1&&(E=f);for(let e=0;e<3;++e)g[e].fill(0),g[e][0]=n[m[e]++],function(e,t,r){for(var i,n=1;n<64;)65280==(i=t[e.value])?n=64:i>>8==255?n+=255&i:(r[n]=i,n++),e.value++}(p,i,g[e]),y=g[e],(b=B[e])[0]=D(y[0]),b[1]=D(y[1]),b[2]=D(y[5]),b[3]=D(y[6]),b[4]=D(y[14]),b[5]=D(y[15]),b[6]=D(y[27]),b[7]=D(y[28]),b[8]=D(y[2]),b[9]=D(y[4]),b[10]=D(y[7]),b[11]=D(y[13]),b[12]=D(y[16]),b[13]=D(y[26]),b[14]=D(y[29]),b[15]=D(y[42]),b[16]=D(y[3]),b[17]=D(y[8]),b[18]=D(y[12]),b[19]=D(y[17]),b[20]=D(y[25]),b[21]=D(y[30]),b[22]=D(y[41]),b[23]=D(y[43]),b[24]=D(y[9]),b[25]=D(y[11]),b[26]=D(y[18]),b[27]=D(y[24]),b[28]=D(y[31]),b[29]=D(y[40]),b[30]=D(y[44]),b[31]=D(y[53]),b[32]=D(y[10]),b[33]=D(y[19]),b[34]=D(y[23]),b[35]=D(y[32]),b[36]=D(y[39]),b[37]=D(y[45]),b[38]=D(y[52]),b[39]=D(y[54]),b[40]=D(y[20]),b[41]=D(y[22]),b[42]=D(y[33]),b[43]=D(y[38]),b[44]=D(y[46]),b[45]=D(y[51]),b[46]=D(y[55]),b[47]=D(y[60]),b[48]=D(y[21]),b[49]=D(y[34]),b[50]=D(y[37]),b[51]=D(y[47]),b[52]=D(y[50]),b[53]=D(y[56]),b[54]=D(y[59]),b[55]=D(y[61]),b[56]=D(y[35]),b[57]=D(y[36]),b[58]=D(y[48]),b[59]=D(y[49]),b[60]=D(y[57]),b[61]=D(y[58]),b[62]=D(y[62]),b[63]=D(y[63]),function(e){let t=.5*Math.cos(3.14159/16),r=.5*Math.cos(3.14159/8),i=.5*Math.cos(3*3.14159/16),n=.5*Math.cos(3*3.14159/8);for(var s=[,,,,],a=[,,,,],o=[,,,,],l=[,,,,],u=0;u<8;++u){var c=8*u;s[0]=r*e[c+2],s[1]=n*e[c+2],s[2]=r*e[c+6],s[3]=n*e[c+6],a[0]=t*e[c+1]+i*e[c+3]+.2777854612564676*e[c+5]+.09754573032714427*e[c+7],a[1]=i*e[c+1]-.09754573032714427*e[c+3]-t*e[c+5]-.2777854612564676*e[c+7],a[2]=.2777854612564676*e[c+1]-t*e[c+3]+.09754573032714427*e[c+5]+i*e[c+7],a[3]=.09754573032714427*e[c+1]-.2777854612564676*e[c+3]+i*e[c+5]-t*e[c+7],o[0]=.35355362513961314*(e[c+0]+e[c+4]),o[3]=.35355362513961314*(e[c+0]-e[c+4]),o[1]=s[0]+s[3],o[2]=s[1]-s[2],l[0]=o[0]+o[1],l[1]=o[3]+o[2],l[2]=o[3]-o[2],l[3]=o[0]-o[1],e[c+0]=l[0]+a[0],e[c+1]=l[1]+a[1],e[c+2]=l[2]+a[2],e[c+3]=l[3]+a[3],e[c+4]=l[3]-a[3],e[c+5]=l[2]-a[2],e[c+6]=l[1]-a[1],e[c+7]=l[0]-a[0]}for(var h=0;h<8;++h)s[0]=r*e[16+h],s[1]=n*e[16+h],s[2]=r*e[48+h],s[3]=n*e[48+h],a[0]=t*e[8+h]+i*e[24+h]+.2777854612564676*e[40+h]+.09754573032714427*e[56+h],a[1]=i*e[8+h]-.09754573032714427*e[24+h]-t*e[40+h]-.2777854612564676*e[56+h],a[2]=.2777854612564676*e[8+h]-t*e[24+h]+.09754573032714427*e[40+h]+i*e[56+h],a[3]=.09754573032714427*e[8+h]-.2777854612564676*e[24+h]+i*e[40+h]-t*e[56+h],o[0]=.35355362513961314*(e[h]+e[32+h]),o[3]=.35355362513961314*(e[h]-e[32+h]),o[1]=s[0]+s[3],o[2]=s[1]-s[2],l[0]=o[0]+o[1],l[1]=o[3]+o[2],l[2]=o[3]-o[2],l[3]=o[0]-o[1],e[0+h]=l[0]+a[0],e[8+h]=l[1]+a[1],e[16+h]=l[2]+a[2],e[24+h]=l[3]+a[3],e[32+h]=l[3]-a[3],e[40+h]=l[2]-a[2],e[48+h]=l[1]-a[1],e[56+h]=l[0]-a[0]}(B[e]);!function(e){for(var t=0;t<64;++t){var r=e[0][t],i=e[1][t],n=e[2][t];e[0][t]=r+1.5747*n,e[1][t]=r-.1873*i-.4682*n,e[2][t]=r+1.8556*i}}(B);for(let t=0;t<3;++t)!function(e,t,r){for(var i,n=0;n<64;++n)t[r+n]=a.DataUtils.toHalfFloat((i=e[n])<=1?Math.sign(i)*Math.pow(Math.abs(i),2.2):Math.sign(i)*Math.pow(9.025013291561939,Math.abs(i)-1))}(B[t],v[t],64*e)}let s=0;for(let i=0;i<3;++i){let n=r[e.idx[i]].type;for(let e=8*t;e<8*t+M;++e){s=C[i][e];for(let t=0;t<c;++t){let r=64*t+(7&e)*8;o.setUint16(s+0*n,v[i][r+0],!0),o.setUint16(s+2*n,v[i][r+1],!0),o.setUint16(s+4*n,v[i][r+2],!0),o.setUint16(s+6*n,v[i][r+3],!0),o.setUint16(s+8*n,v[i][r+4],!0),o.setUint16(s+10*n,v[i][r+5],!0),o.setUint16(s+12*n,v[i][r+6],!0),o.setUint16(s+14*n,v[i][r+7],!0),s+=16*n}}if(c!=h)for(let e=8*t;e<8*t+M;++e){let t=C[i][e]+8*c*2*n,r=64*c+(7&e)*8;for(let e=0;e<E;++e)o.setUint16(t+2*e*n,v[i][r+e],!0)}}}for(var w=new Uint16Array(l),o=new DataView(s.buffer),F=0;F<3;++F){r[e.idx[F]].decoded=!0;var I=r[e.idx[F]].type;if(2==r[F].type)for(var _=0;_<u;++_){let e=C[F][_];for(var R=0;R<l;++R)w[R]=o.getUint16(e+2*R*I,!0);for(var R=0;R<l;++R)o.setFloat32(e+2*R*I,D(w[R]),!0)}}}(b,L,B,F,S,i);for(var g=0;g<B.length;++g){var C=B[g];if(!C.decoded){if(2===C.compression)for(var k=0,K=0,J=0;J<e.lines;++J){for(var N=L[g][k],Q=0;Q<C.width;++Q){for(var j=0;j<2*C.type;++j)i[N++]=H[K+j*C.width*C.height];K++}k++}else throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(i.buffer)}function M(e,t){for(var r=new Uint8Array(e),i=0;0!=r[t.value+i];)i+=1;var n=new TextDecoder().decode(r.slice(t.value,t.value+i));return t.value=t.value+i+1,n}function E(e,t){var r=e.getInt32(t.value,!0);return t.value=t.value+4,r}function w(e,t){var r=e.getUint32(t.value,!0);return t.value=t.value+4,r}function F(e,t){var r=e[t.value];return t.value=t.value+1,r}function I(e,t){var r=e.getUint8(t.value);return t.value=t.value+1,r}let _=function(e,t){let r;return r="getBigInt64"in DataView.prototype?Number(e.getBigInt64(t.value,!0)):e.getUint32(t.value+4,!0)+Number(e.getUint32(t.value,!0)<<32),t.value+=8,r};function R(e,t){var r=e.getFloat32(t.value,!0);return t.value+=4,r}function x(e,t){return a.DataUtils.toHalfFloat(R(e,t))}function D(e){var t=(31744&e)>>10,r=1023&e;return(e>>15?-1:1)*(t?31===t?r?NaN:1/0:Math.pow(2,t-15)*(1+r/1024):r/1024*6103515625e-14)}function G(e,t){var r=e.getUint16(t.value,!0);return t.value+=2,r}function T(e,t){return D(G(e,t))}let S=new DataView(e),H=new Uint8Array(e),P={value:0},O=function(e,t,r){let i={};if(20000630!=e.getUint32(0,!0))throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";i.version=e.getUint8(4);let n=e.getUint8(5);i.spec={singleTile:!!(2&n),longName:!!(4&n),deepFormat:!!(8&n),multiPart:!!(16&n)},r.value=8;for(var s=!0;s;){var a=M(t,r);if(0==a)s=!1;else{var o=M(t,r),l=w(e,r),u=function(e,t,r,i,n){var s,a,o,l,u;if("string"===i||"stringvector"===i||"iccProfile"===i)return s=new TextDecoder().decode(new Uint8Array(t).slice(r.value,r.value+n)),r.value=r.value+n,s;if("chlist"===i)return function(e,t,r,i){for(var n=r.value,s=[];r.value<n+i-1;){var a=M(t,r),o=E(e,r),l=I(e,r);r.value+=3;var u=E(e,r),c=E(e,r);s.push({name:a,pixelType:o,pLinear:l,xSampling:u,ySampling:c})}return r.value+=1,s}(e,t,r,n);if("chromaticities"===i)return a=R(e,r),o=R(e,r),l=R(e,r),u=R(e,r),{redX:a,redY:o,greenX:l,greenY:u,blueX:R(e,r),blueY:R(e,r),whiteX:R(e,r),whiteY:R(e,r)};if("compression"===i)return["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"][I(e,r)];if("box2i"===i)return{xMin:w(e,r),yMin:w(e,r),xMax:w(e,r),yMax:w(e,r)};if("lineOrder"===i)return["INCREASING_Y"][I(e,r)];if("float"===i)return R(e,r);else if("v2f"===i)return[R(e,r),R(e,r)];else if("v3f"===i)return[R(e,r),R(e,r),R(e,r)];else if("int"===i)return E(e,r);else if("rational"===i)return[E(e,r),w(e,r)];else if("timecode"===i)return[w(e,r),w(e,r)];else return"preview"===i?(r.value+=n,"skipped"):void(r.value+=n)}(e,t,r,o,l);void 0===u?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${o}'.`):i[a]=u}}if(0!=n)throw console.error("EXRHeader:",i),"THREE.EXRLoader: provided file is currently unsupported.";return i}(S,e,P),L=function(e,t,r,i,n){let s={size:0,viewer:t,array:r,offset:i,width:e.dataWindow.xMax-e.dataWindow.xMin+1,height:e.dataWindow.yMax-e.dataWindow.yMin+1,channels:e.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:e.channels[0].pixelType,uncompress:null,getter:null,format:null,[z?"colorSpace":"encoding"]:null};switch(e.compression){case"NO_COMPRESSION":s.lines=1,s.uncompress=B;break;case"RLE_COMPRESSION":s.lines=1,s.uncompress=g;break;case"ZIPS_COMPRESSION":s.lines=1,s.uncompress=v;break;case"ZIP_COMPRESSION":s.lines=16,s.uncompress=v;break;case"PIZ_COMPRESSION":s.lines=32,s.uncompress=C;break;case"PXR24_COMPRESSION":s.lines=16,s.uncompress=y;break;case"DWAA_COMPRESSION":s.lines=32,s.uncompress=b;break;case"DWAB_COMPRESSION":s.lines=256,s.uncompress=b;break;default:throw"EXRLoader.parse: "+e.compression+" is unsupported"}if(s.scanlineBlockSize=s.lines,1==s.type)switch(n){case a.FloatType:s.getter=T,s.inputSize=2;break;case a.HalfFloatType:s.getter=G,s.inputSize=2}else if(2==s.type)switch(n){case a.FloatType:s.getter=R,s.inputSize=4;break;case a.HalfFloatType:s.getter=x,s.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+s.type+" for "+e.compression+".";s.blockCount=(e.dataWindow.yMax+1)/s.scanlineBlockSize;for(var o=0;o<s.blockCount;o++)_(t,i);s.outputChannels=3==s.channels?4:s.channels;let l=s.width*s.height*s.outputChannels;switch(n){case a.FloatType:s.byteArray=new Float32Array(l),s.channels<s.outputChannels&&s.byteArray.fill(1,0,l);break;case a.HalfFloatType:s.byteArray=new Uint16Array(l),s.channels<s.outputChannels&&s.byteArray.fill(15360,0,l);break;default:console.error("THREE.EXRLoader: unsupported type: ",n)}return s.bytesPerLine=s.width*s.inputSize*s.channels,4==s.outputChannels?s.format=a.RGBAFormat:s.format=a.RedFormat,z?s.colorSpace="srgb-linear":s.encoding=3e3,s}(O,S,H,P,this.type),J={value:0},U={R:0,G:1,B:2,A:3,Y:0};for(let e=0;e<L.height/L.scanlineBlockSize;e++){let t=w(S,P);L.size=w(S,P),L.lines=t+L.scanlineBlockSize>L.height?L.height-t:L.scanlineBlockSize;let r=L.size<L.lines*L.bytesPerLine?L.uncompress(L):B(L);P.value+=L.size;for(let t=0;t<L.scanlineBlockSize;t++){let i=t+e*L.scanlineBlockSize;if(i>=L.height)break;for(let e=0;e<L.channels;e++){let n=U[O.channels[e].name];for(let s=0;s<L.width;s++){J.value=(L.channels*L.width*t+e*L.width+s)*L.inputSize;let a=(L.height-1-i)*(L.width*L.outputChannels)+s*L.outputChannels+n;L.byteArray[a]=L.getter(r,J)}}}}return{header:O,width:L.width,height:L.height,data:L.byteArray,format:L.format,[z?"colorSpace":"encoding"]:L[z?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,r,i){return super.load(e,function(e,r){z?e.colorSpace=r.colorSpace:e.encoding=r.encoding,e.minFilter=a.LinearFilter,e.magFilter=a.LinearFilter,e.generateMipmaps=!1,e.flipY=!1,t&&t(e,r)},r,i)}}let $={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},ee=e=>Array.isArray(e);function et({files:e=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:t="",preset:r,encoding:i,extensions:n}={}){var o;let l;let c=null,h=!1;if(r){if(!(r in $))throw Error("Preset must be one of: "+Object.keys($).join(", "));e=$[r],t="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/"}if(h=ee(e),l=ee(e)?"cube":e.startsWith("data:application/exr")?"exr":e.startsWith("data:application/hdr")?"hdr":null==(o=e.split(".").pop())||null==(o=o.split("?"))||null==(o=o.shift())?void 0:o.toLowerCase(),!(c=h?a.CubeTextureLoader:"hdr"===l?u:"exr"===l?q:null))throw Error("useEnvironment: Unrecognized file extension: "+e);let d=(0,s.F)(c,h?[e]:e,e=>{null==e.setPath||e.setPath(t),n&&n(e)}),f=h?d[0]:d;return f.mapping=h?a.CubeReflectionMapping:a.EquirectangularReflectionMapping,"colorSpace"in f?f.colorSpace=(null!=i?i:h)?"srgb":"srgb-linear":f.encoding=(null!=i?i:h)?3001:3e3,f}let er=e=>e.current&&e.current.isScene,ei=e=>er(e)?e.current:e;function en(e,t,r,i,n=0){let s=ei(t||r),a=s.background,o=s.environment,l=s.backgroundBlurriness||0;return"only"!==e&&(s.environment=i),e&&(s.background=i),e&&void 0!==s.backgroundBlurriness&&(s.backgroundBlurriness=n),()=>{"only"!==e&&(s.environment=o),e&&(s.background=a),e&&void 0!==s.backgroundBlurriness&&(s.backgroundBlurriness=l)}}function es({scene:e,background:t=!1,blur:r,map:i}){let a=(0,s.A)(e=>e.scene);return n.useLayoutEffect(()=>{if(i)return en(t,e,a,i,r)},[a,e,i,t,r]),null}function ea({background:e=!1,scene:t,blur:r,...i}){let a=et(i),o=(0,s.A)(e=>e.scene);return n.useLayoutEffect(()=>en(e,t,o,a,r),[a,e,t,o,r]),null}function eo({children:e,near:t=1,far:r=1e3,resolution:i=256,frames:o=1,map:l,background:u=!1,blur:c,scene:h,files:d,path:f,preset:A,extensions:p}){let m=(0,s.A)(e=>e.gl),B=(0,s.A)(e=>e.scene),g=n.useRef(null),[v]=n.useState(()=>new a.Scene),C=n.useMemo(()=>{let e=new a.WebGLCubeRenderTarget(i);return e.texture.type=a.HalfFloatType,e},[i]);n.useLayoutEffect(()=>(1===o&&g.current.update(m,v),en(u,h,B,C.texture,c)),[e,v,C.texture,h,B,u,o,m]);let y=1;return(0,s.C)(()=>{(o===1/0||y<o)&&(g.current.update(m,v),y++)}),n.createElement(n.Fragment,null,(0,s.g)(n.createElement(n.Fragment,null,e,n.createElement("cubeCamera",{ref:g,args:[t,r,C]}),d||A?n.createElement(ea,{background:!0,files:d,preset:A,path:f,extensions:p}):l?n.createElement(es,{background:!0,map:l,extensions:p}):null),v))}function el(e){var t,r,a,o;let u=et(e),c=e.map||u;n.useMemo(()=>(0,s.e)({GroundProjectedEnvImpl:l}),[]);let h=n.useMemo(()=>[c],[c]),d=null==(t=e.ground)?void 0:t.height,f=null==(r=e.ground)?void 0:r.radius,A=null!==(a=null==(o=e.ground)?void 0:o.scale)&&void 0!==a?a:1e3;return n.createElement(n.Fragment,null,n.createElement(es,(0,i.Z)({},e,{map:c})),n.createElement("groundProjectedEnvImpl",{args:h,scale:A,height:d,radius:f}))}function eu(e){return e.ground?n.createElement(el,e):e.map?n.createElement(es,e):e.children?n.createElement(eo,e):n.createElement(ea,e)}},9040:function(e,t,r){"use strict";r.d(t,{i:function(){return u}});var i=r(7462),n=r(7294),s=r(793),a=r(9626),o=r(319);let l=e=>"function"==typeof e,u=n.forwardRef(({envMap:e,resolution:t=256,frames:r=1/0,children:u,makeDefault:c,...h},d)=>{let f=(0,s.A)(({set:e})=>e),A=(0,s.A)(({camera:e})=>e),p=(0,s.A)(({size:e})=>e),m=n.useRef(null),B=n.useRef(null),g=(0,o.R)(t);n.useLayoutEffect(()=>{h.manual||m.current.updateProjectionMatrix()},[p,h]),n.useLayoutEffect(()=>{m.current.updateProjectionMatrix()}),n.useLayoutEffect(()=>{if(c)return f(()=>({camera:m.current})),()=>f(()=>({camera:A}))},[m,c,f]);let v=0,C=null,y=l(u);return(0,s.C)(t=>{y&&(r===1/0||v<r)&&(B.current.visible=!1,t.gl.setRenderTarget(g),C=t.scene.background,e&&(t.scene.background=e),t.gl.render(t.scene,m.current),t.scene.background=C,t.gl.setRenderTarget(null),B.current.visible=!0,v++)}),n.createElement(n.Fragment,null,n.createElement("orthographicCamera",(0,i.Z)({left:-(p.width/2),right:p.width/2,top:p.height/2,bottom:-(p.height/2),ref:(0,a.Z)([m,d])},h),!y&&u),n.createElement("group",{ref:B},y&&u(g.texture)))})},7433:function(e,t,r){"use strict";r.d(t,{c:function(){return u}});var i=r(7462),n=r(7294),s=r(793),a=r(9626),o=r(319);let l=e=>"function"==typeof e,u=n.forwardRef(({envMap:e,resolution:t=256,frames:r=1/0,makeDefault:u,children:c,...h},d)=>{let f=(0,s.A)(({set:e})=>e),A=(0,s.A)(({camera:e})=>e),p=(0,s.A)(({size:e})=>e),m=n.useRef(null),B=n.useRef(null),g=(0,o.R)(t);n.useLayoutEffect(()=>{h.manual||(m.current.aspect=p.width/p.height)},[p,h]),n.useLayoutEffect(()=>{m.current.updateProjectionMatrix()});let v=0,C=null,y=l(c);return(0,s.C)(t=>{y&&(r===1/0||v<r)&&(B.current.visible=!1,t.gl.setRenderTarget(g),C=t.scene.background,e&&(t.scene.background=e),t.gl.render(t.scene,m.current),t.scene.background=C,t.gl.setRenderTarget(null),B.current.visible=!0,v++)}),n.useLayoutEffect(()=>{if(u)return f(()=>({camera:m.current})),()=>f(()=>({camera:A}))},[m,u,f]),n.createElement(n.Fragment,null,n.createElement("perspectiveCamera",(0,i.Z)({ref:(0,a.Z)([m,d])},h),!y&&c),n.createElement("group",{ref:B},y&&c(g.texture)))})},3346:function(e,t,r){"use strict";r.d(t,{l:function(){return l}});var i=r(9477);let n=new i.Matrix4,s=new i.Ray,a=new i.Sphere,o=new i.Vector3;function l(e,t){let r=this.geometry,i=this.material,l=this.matrixWorld;void 0!==i&&(null===r.boundingSphere&&r.computeBoundingSphere(),a.copy(r.boundingSphere),a.applyMatrix4(l),!1!==e.ray.intersectsSphere(a)&&(n.copy(l).invert(),s.copy(e.ray).applyMatrix4(n),(null===r.boundingBox||null!==s.intersectBox(r.boundingBox,o))&&t.push({distance:o.distanceTo(e.ray.origin),point:o.clone(),object:this})))}},3857:function(e,t,r){"use strict";r.d(t,{v:function(){return a}});var i=r(7294),n=r(9477),s=r(793);function a(e,t){let r=i.useRef(),[a]=i.useState(()=>t?t instanceof n.Object3D?{current:t}:t:r),[o]=i.useState(()=>new n.AnimationMixer(void 0));i.useLayoutEffect(()=>{t&&(a.current=t instanceof n.Object3D?t:t.current),o._root=a.current});let l=i.useRef({}),u=i.useMemo(()=>{let t={};return e.forEach(e=>Object.defineProperty(t,e.name,{enumerable:!0,get(){if(a.current)return l.current[e.name]||(l.current[e.name]=o.clipAction(e,a.current))},configurable:!0})),{ref:a,clips:e,actions:t,names:e.map(e=>e.name),mixer:o}},[e]);return(0,s.C)((e,t)=>o.update(t)),i.useEffect(()=>{let e=a.current;return()=>{l.current={},o.stopAllAction(),Object.values(u.actions).forEach(t=>{e&&o.uncacheAction(t,e)})}},[e]),u}},319:function(e,t,r){"use strict";r.d(t,{R:function(){return a}});var i=r(7294),n=r(9477),s=r(793);function a(e,t,r){let a=(0,s.A)(e=>e.size),o=(0,s.A)(e=>e.viewport),l="number"==typeof e?e:a.width*o.dpr,u="number"==typeof t?t:a.height*o.dpr,{samples:c=0,depth:h,...d}=("number"==typeof e?r:e)||{},f=i.useMemo(()=>{let e=new n.WebGLRenderTarget(l,u,{minFilter:n.LinearFilter,magFilter:n.LinearFilter,type:n.HalfFloatType,...d});return h&&(e.depthTexture=new n.DepthTexture(l,u,n.FloatType)),e.samples=c,e},[]);return i.useLayoutEffect(()=>{f.setSize(l,u),c&&(f.samples=c)},[c,f,l,u]),i.useEffect(()=>()=>f.dispose(),[]),f}},5918:function(e,t,r){"use strict";let i;r.d(t,{L:function(){return es}});var n=r(9477);let s=new WeakMap;class a extends n.Loader{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){let s=new n.FileLoader(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,e=>{let r={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(e,r).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){let n={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,n).then(t)}decodeGeometry(e,t){let r;for(let e in t.attributeTypes){let r=t.attributeTypes[e];void 0!==r.BYTES_PER_ELEMENT&&(t.attributeTypes[e]=r.name)}let i=JSON.stringify(t);if(s.has(e)){let t=s.get(e);if(t.key===i)return t.promise;if(0===e.byteLength)throw Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let n=this.workerNextTaskID++,a=e.byteLength,o=this._getWorker(n,a).then(i=>(r=i,new Promise((i,s)=>{r._callbacks[n]={resolve:i,reject:s},r.postMessage({type:"decode",id:n,taskConfig:t,buffer:e},[e])}))).then(e=>this._createGeometry(e.geometry));return o.catch(()=>!0).then(()=>{r&&n&&this._releaseTask(r,n)}),s.set(e,{key:i,promise:o}),o}_createGeometry(e){let t=new n.BufferGeometry;e.index&&t.setIndex(new n.BufferAttribute(e.index.array,1));for(let r=0;r<e.attributes.length;r++){let i=e.attributes[r],s=i.name,a=i.array,o=i.itemSize;t.setAttribute(s,new n.BufferAttribute(a,o))}return t}_loadLibrary(e,t){let r=new n.FileLoader(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((t,i)=>{r.load(e,t,void 0,i)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;let e="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(t=>{let r=t[0];e||(this.decoderConfig.wasmBinary=t[1]);let i=o.toString(),n=["/* draco decoder */",r,"","/* worker */",i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([n]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){let e=new Worker(this.workerSourceURL);e._callbacks={},e._taskCosts={},e._taskLoad=0,e.postMessage({type:"init",decoderConfig:this.decoderConfig}),e.onmessage=function(t){let r=t.data;switch(r.type){case"decode":e._callbacks[r.id].resolve(r);break;case"error":e._callbacks[r.id].reject(r);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+r.type+'"')}},this.workerPool.push(e)}else this.workerPool.sort(function(e,t){return e._taskLoad>t._taskLoad?-1:1});let r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function o(){let e,t;onmessage=function(r){let i=r.data;switch(i.type){case"init":e=i.decoderConfig,t=new Promise(function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)});break;case"decode":let n=i.buffer,s=i.taskConfig;t.then(e=>{let t=e.draco,r=new t.Decoder,a=new t.DecoderBuffer;a.Init(new Int8Array(n),n.byteLength);try{let e=function(e,t,r,i){let n,s;let a=i.attributeIDs,o=i.attributeTypes,l=t.GetEncodedGeometryType(r);if(l===e.TRIANGULAR_MESH)n=new e.Mesh,s=t.DecodeBufferToMesh(r,n);else if(l===e.POINT_CLOUD)n=new e.PointCloud,s=t.DecodeBufferToPointCloud(r,n);else throw Error("THREE.DRACOLoader: Unexpected geometry type.");if(!s.ok()||0===n.ptr)throw Error("THREE.DRACOLoader: Decoding failed: "+s.error_msg());let u={index:null,attributes:[]};for(let r in a){let s,l;let c=self[o[r]];if(i.useUniqueIDs)l=a[r],s=t.GetAttributeByUniqueId(n,l);else{if(-1===(l=t.GetAttributeId(n,e[a[r]])))continue;s=t.GetAttribute(n,l)}u.attributes.push(function(e,t,r,i,n,s){let a=s.num_components(),o=r.num_points()*a,l=o*n.BYTES_PER_ELEMENT,u=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,n),c=e._malloc(l);t.GetAttributeDataArrayForAllPoints(r,s,u,l,c);let h=new n(e.HEAPF32.buffer,c,o).slice();return e._free(c),{name:i,array:h,itemSize:a}}(e,t,n,r,c,s))}return l===e.TRIANGULAR_MESH&&(u.index=function(e,t,r){let i=3*r.num_faces(),n=4*i,s=e._malloc(n);t.GetTrianglesUInt32Array(r,n,s);let a=new Uint32Array(e.HEAPF32.buffer,s,i).slice();return e._free(s),{array:a,itemSize:1}}(e,t,n)),e.destroy(n),u}(t,r,a,s),n=e.attributes.map(e=>e.array.buffer);e.index&&n.push(e.index.array.buffer),self.postMessage({type:"decode",id:i.id,geometry:e},n)}catch(e){console.error(e),self.postMessage({type:"error",id:i.id,error:e.message})}finally{t.destroy(a),t.destroy(r)}})}}}let l=()=>{let e;if(i)return i;let t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if("object"!=typeof WebAssembly)return{supported:!1};let n="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";WebAssembly.validate(t)&&(n="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");let s=WebAssembly.instantiate(function(e){let t=new Uint8Array(e.length);for(let r=0;r<e.length;++r){let i=e.charCodeAt(r);t[r]=i>96?i-71:i>64?i-65:i>47?i+4:i>46?63:62}let i=0;for(let n=0;n<e.length;++n)t[i++]=t[n]<60?r[t[n]]:(t[n]-60)*64+t[++n];return t.buffer.slice(0,i)}(n),{}).then(t=>{(e=t.instance).exports.__wasm_call_ctors()});function a(t,r,i,n,s,a){let o=e.exports.sbrk,l=i+3&-4,u=o(l*n),c=o(s.length),h=new Uint8Array(e.exports.memory.buffer);h.set(s,c);let d=t(u,i,n,c,s.length);if(0===d&&a&&a(u,l,n),r.set(h.subarray(u,u+i*n)),o(u-o(0)),0!==d)throw Error(`Malformed buffer data: ${d}`)}let o={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},l={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return i={ready:s,supported:!0,decodeVertexBuffer(t,r,i,n,s){a(e.exports.meshopt_decodeVertexBuffer,t,r,i,n,e.exports[o[s]])},decodeIndexBuffer(t,r,i,n){a(e.exports.meshopt_decodeIndexBuffer,t,r,i,n)},decodeIndexSequence(t,r,i,n){a(e.exports.meshopt_decodeIndexSequence,t,r,i,n)},decodeGltfBuffer(t,r,i,n,s,u){a(e.exports[l[s]],t,r,i,n,e.exports[o[u]])}}};function u(e,t){if(t===n.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t!==n.TriangleFanDrawMode&&t!==n.TriangleStripDrawMode)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e;{let r=e.getIndex();if(null===r){let t=[],i=e.getAttribute("position");if(void 0===i)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(let e=0;e<i.count;e++)t.push(e);e.setIndex(t),r=e.getIndex()}let i=r.count-2,s=[];if(r){if(t===n.TriangleFanDrawMode)for(let e=1;e<=i;e++)s.push(r.getX(0)),s.push(r.getX(e)),s.push(r.getX(e+1));else for(let e=0;e<i;e++)e%2==0?(s.push(r.getX(e)),s.push(r.getX(e+1)),s.push(r.getX(e+2))):(s.push(r.getX(e+2)),s.push(r.getX(e+1)),s.push(r.getX(e)))}s.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");let a=e.clone();return a.setIndex(s),a.clearGroups(),a}}let c=parseInt(n.REVISION.replace(/\D+/g,""));class h extends n.Loader{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(e){return new B(e)}),this.register(function(e){return new w(e)}),this.register(function(e){return new F(e)}),this.register(function(e){return new I(e)}),this.register(function(e){return new v(e)}),this.register(function(e){return new C(e)}),this.register(function(e){return new y(e)}),this.register(function(e){return new b(e)}),this.register(function(e){return new m(e)}),this.register(function(e){return new M(e)}),this.register(function(e){return new g(e)}),this.register(function(e){return new E(e)}),this.register(function(e){return new A(e)}),this.register(function(e){return new _(e)}),this.register(function(e){return new R(e)})}load(e,t,r,i){let s;let a=this;s=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:n.LoaderUtils.extractUrlBase(e),this.manager.itemStart(e);let o=function(t){i?i(t):console.error(t),a.manager.itemError(e),a.manager.itemEnd(e)},l=new n.FileLoader(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(r){try{a.parse(r,s,function(r){t(r),a.manager.itemEnd(e)},o)}catch(e){o(e)}},r,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return -1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return -1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;let a={},o={};if("string"==typeof e)s=JSON.parse(e);else if(e instanceof ArrayBuffer){if(n.LoaderUtils.decodeText(new Uint8Array(e.slice(0,4)))===x){try{a[f.KHR_BINARY_GLTF]=new G(e)}catch(e){i&&i(e);return}s=JSON.parse(a[f.KHR_BINARY_GLTF].content)}else s=JSON.parse(n.LoaderUtils.decodeText(new Uint8Array(e)))}else s=e;if(void 0===s.asset||s.asset.version[0]<2){i&&i(Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}let l=new $(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let e=0;e<this.pluginCallbacks.length;e++){let t=this.pluginCallbacks[e](l);o[t.name]=t,a[t.name]=!0}if(s.extensionsUsed)for(let e=0;e<s.extensionsUsed.length;++e){let t=s.extensionsUsed[e],r=s.extensionsRequired||[];switch(t){case f.KHR_MATERIALS_UNLIT:a[t]=new p;break;case f.KHR_DRACO_MESH_COMPRESSION:a[t]=new T(s,this.dracoLoader);break;case f.KHR_TEXTURE_TRANSFORM:a[t]=new S;break;case f.KHR_MESH_QUANTIZATION:a[t]=new H;break;default:r.indexOf(t)>=0&&void 0===o[t]&&console.warn('THREE.GLTFLoader: Unknown extension "'+t+'".')}}l.setExtensions(a),l.setPlugins(o),l.parse(r,i)}parseAsync(e,t){let r=this;return new Promise(function(i,n){r.parse(e,t,i,n)})}}function d(){let e={};return{get:function(t){return e[t]},add:function(t,r){e[t]=r},remove:function(t){delete e[t]},removeAll:function(){e={}}}}let f={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class A{constructor(e){this.parser=e,this.name=f.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){let e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){let i=t[r];i.extensions&&i.extensions[this.name]&&void 0!==i.extensions[this.name].light&&e._addNodeRef(this.cache,i.extensions[this.name].light)}}_loadLight(e){let t;let r=this.parser,i="light:"+e,s=r.cache.get(i);if(s)return s;let a=r.json,o=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e],l=new n.Color(16777215);void 0!==o.color&&l.fromArray(o.color);let u=void 0!==o.range?o.range:0;switch(o.type){case"directional":(t=new n.DirectionalLight(l)).target.position.set(0,0,-1),t.add(t.target);break;case"point":(t=new n.PointLight(l)).distance=u;break;case"spot":(t=new n.SpotLight(l)).distance=u,o.spot=o.spot||{},o.spot.innerConeAngle=void 0!==o.spot.innerConeAngle?o.spot.innerConeAngle:0,o.spot.outerConeAngle=void 0!==o.spot.outerConeAngle?o.spot.outerConeAngle:Math.PI/4,t.angle=o.spot.outerConeAngle,t.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,t.target.position.set(0,0,-1),t.add(t.target);break;default:throw Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return t.position.set(0,0,0),t.decay=2,Y(t,o),void 0!==o.intensity&&(t.intensity=o.intensity),t.name=r.createUniqueName(o.name||"light_"+e),s=Promise.resolve(t),r.cache.add(i,s),s}getDependency(e,t){if("light"===e)return this._loadLight(t)}createNodeAttachment(e){let t=this,r=this.parser,i=r.json.nodes[e],n=(i.extensions&&i.extensions[this.name]||{}).light;return void 0===n?null:this._loadLight(n).then(function(e){return r._getNodeRef(t.cache,n,e)})}}class p{constructor(){this.name=f.KHR_MATERIALS_UNLIT}getMaterialType(){return n.MeshBasicMaterial}extendParams(e,t,r){let i=[];e.color=new n.Color(1,1,1),e.opacity=1;let s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){let t=s.baseColorFactor;e.color.fromArray(t),e.opacity=t[3]}void 0!==s.baseColorTexture&&i.push(r.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(i)}}class m{constructor(e){this.parser=e,this.name=f.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){let r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let i=r.extensions[this.name].emissiveStrength;return void 0!==i&&(t.emissiveIntensity=i),Promise.resolve()}}class B{constructor(e){this.parser=e,this.name=f.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}extendMaterialParams(e,t){let r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();let s=[],a=i.extensions[this.name];if(void 0!==a.clearcoatFactor&&(t.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&s.push(r.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(s.push(r.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){let e=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new n.Vector2(e,e)}return Promise.all(s)}}class g{constructor(e){this.parser=e,this.name=f.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}extendMaterialParams(e,t){let r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();let n=[],s=i.extensions[this.name];return void 0!==s.iridescenceFactor&&(t.iridescence=s.iridescenceFactor),void 0!==s.iridescenceTexture&&n.push(r.assignTexture(t,"iridescenceMap",s.iridescenceTexture)),void 0!==s.iridescenceIor&&(t.iridescenceIOR=s.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==s.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=s.iridescenceThicknessMinimum),void 0!==s.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=s.iridescenceThicknessMaximum),void 0!==s.iridescenceThicknessTexture&&n.push(r.assignTexture(t,"iridescenceThicknessMap",s.iridescenceThicknessTexture)),Promise.all(n)}}class v{constructor(e){this.parser=e,this.name=f.KHR_MATERIALS_SHEEN}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}extendMaterialParams(e,t){let r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();let s=[];t.sheenColor=new n.Color(0,0,0),t.sheenRoughness=0,t.sheen=1;let a=i.extensions[this.name];return void 0!==a.sheenColorFactor&&t.sheenColor.fromArray(a.sheenColorFactor),void 0!==a.sheenRoughnessFactor&&(t.sheenRoughness=a.sheenRoughnessFactor),void 0!==a.sheenColorTexture&&s.push(r.assignTexture(t,"sheenColorMap",a.sheenColorTexture,3001)),void 0!==a.sheenRoughnessTexture&&s.push(r.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(s)}}class C{constructor(e){this.parser=e,this.name=f.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}extendMaterialParams(e,t){let r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();let n=[],s=i.extensions[this.name];return void 0!==s.transmissionFactor&&(t.transmission=s.transmissionFactor),void 0!==s.transmissionTexture&&n.push(r.assignTexture(t,"transmissionMap",s.transmissionTexture)),Promise.all(n)}}class y{constructor(e){this.parser=e,this.name=f.KHR_MATERIALS_VOLUME}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}extendMaterialParams(e,t){let r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();let s=[],a=i.extensions[this.name];t.thickness=void 0!==a.thicknessFactor?a.thicknessFactor:0,void 0!==a.thicknessTexture&&s.push(r.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;let o=a.attenuationColor||[1,1,1];return t.attenuationColor=new n.Color(o[0],o[1],o[2]),Promise.all(s)}}class b{constructor(e){this.parser=e,this.name=f.KHR_MATERIALS_IOR}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}extendMaterialParams(e,t){let r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let i=r.extensions[this.name];return t.ior=void 0!==i.ior?i.ior:1.5,Promise.resolve()}}class M{constructor(e){this.parser=e,this.name=f.KHR_MATERIALS_SPECULAR}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}extendMaterialParams(e,t){let r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();let s=[],a=i.extensions[this.name];t.specularIntensity=void 0!==a.specularFactor?a.specularFactor:1,void 0!==a.specularTexture&&s.push(r.assignTexture(t,"specularIntensityMap",a.specularTexture));let o=a.specularColorFactor||[1,1,1];return t.specularColor=new n.Color(o[0],o[1],o[2]),void 0!==a.specularColorTexture&&s.push(r.assignTexture(t,"specularColorMap",a.specularColorTexture,3001)),Promise.all(s)}}class E{constructor(e){this.parser=e,this.name=f.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}extendMaterialParams(e,t){let r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();let n=[],s=i.extensions[this.name];return void 0!==s.anisotropyStrength&&(t.anisotropy=s.anisotropyStrength),void 0!==s.anisotropyRotation&&(t.anisotropyRotation=s.anisotropyRotation),void 0!==s.anisotropyTexture&&n.push(r.assignTexture(t,"anisotropyMap",s.anisotropyTexture)),Promise.all(n)}}class w{constructor(e){this.parser=e,this.name=f.KHR_TEXTURE_BASISU}loadTexture(e){let t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;let n=i.extensions[this.name],s=t.options.ktx2Loader;if(!s){if(!(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0))return null;throw Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures")}return t.loadTextureImage(e,n.source,s)}}class F{constructor(e){this.parser=e,this.name=f.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){let t=this.name,r=this.parser,i=r.json,n=i.textures[e];if(!n.extensions||!n.extensions[t])return null;let s=n.extensions[t],a=i.images[s.source],o=r.textureLoader;if(a.uri){let e=r.options.manager.getHandler(a.uri);null!==e&&(o=e)}return this.detectSupport().then(function(n){if(n)return r.loadTextureImage(e,s.source,o);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){let t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}})),this.isSupported}}class I{constructor(e){this.parser=e,this.name=f.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){let t=this.name,r=this.parser,i=r.json,n=i.textures[e];if(!n.extensions||!n.extensions[t])return null;let s=n.extensions[t],a=i.images[s.source],o=r.textureLoader;if(a.uri){let e=r.options.manager.getHandler(a.uri);null!==e&&(o=e)}return this.detectSupport().then(function(n){if(n)return r.loadTextureImage(e,s.source,o);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){let t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(1===t.height)}})),this.isSupported}}class _{constructor(e){this.name=f.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){let t=this.parser.json,r=t.bufferViews[e];if(!r.extensions||!r.extensions[this.name])return null;{let e=r.extensions[this.name],i=this.parser.getDependency("buffer",e.buffer),n=this.parser.options.meshoptDecoder;if(!n||!n.supported){if(!(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0))return null;throw Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files")}return i.then(function(t){let r=e.byteOffset||0,i=e.byteLength||0,s=e.count,a=e.byteStride,o=new Uint8Array(t,r,i);return n.decodeGltfBufferAsync?n.decodeGltfBufferAsync(s,a,o,e.mode,e.filter).then(function(e){return e.buffer}):n.ready.then(function(){let t=new ArrayBuffer(s*a);return n.decodeGltfBuffer(new Uint8Array(t),s,a,o,e.mode,e.filter),t})})}}}class R{constructor(e){this.name=f.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){let t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||void 0===r.mesh)return null;for(let e of t.meshes[r.mesh].primitives)if(e.mode!==J.TRIANGLES&&e.mode!==J.TRIANGLE_STRIP&&e.mode!==J.TRIANGLE_FAN&&void 0!==e.mode)return null;let i=r.extensions[this.name].attributes,s=[],a={};for(let e in i)s.push(this.parser.getDependency("accessor",i[e]).then(t=>(a[e]=t,a[e])));return s.length<1?null:(s.push(this.parser.createNodeMesh(e)),Promise.all(s).then(e=>{let t=e.pop(),r=t.isGroup?t.children:[t],i=e[0].count,s=[];for(let e of r){let t=new n.Matrix4,r=new n.Vector3,o=new n.Quaternion,l=new n.Vector3(1,1,1),u=new n.InstancedMesh(e.geometry,e.material,i);for(let e=0;e<i;e++)a.TRANSLATION&&r.fromBufferAttribute(a.TRANSLATION,e),a.ROTATION&&o.fromBufferAttribute(a.ROTATION,e),a.SCALE&&l.fromBufferAttribute(a.SCALE,e),u.setMatrixAt(e,t.compose(r,o,l));for(let t in a)"TRANSLATION"!==t&&"ROTATION"!==t&&"SCALE"!==t&&e.geometry.setAttribute(t,a[t]);n.Object3D.prototype.copy.call(u,e),this.parser.assignFinalMaterial(u),s.push(u)}return t.isGroup?(t.clear(),t.add(...s),t):s[0]}))}}let x="glTF",D={JSON:1313821514,BIN:5130562};class G{constructor(e){this.name=f.KHR_BINARY_GLTF,this.content=null,this.body=null;let t=new DataView(e,0,12);if(this.header={magic:n.LoaderUtils.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==x)throw Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw Error("THREE.GLTFLoader: Legacy binary file detected.");let r=this.header.length-12,i=new DataView(e,12),s=0;for(;s<r;){let t=i.getUint32(s,!0);s+=4;let r=i.getUint32(s,!0);if(s+=4,r===D.JSON){let r=new Uint8Array(e,12+s,t);this.content=n.LoaderUtils.decodeText(r)}else if(r===D.BIN){let r=12+s;this.body=e.slice(r,r+t)}s+=t}if(null===this.content)throw Error("THREE.GLTFLoader: JSON content not found.")}}class T{constructor(e,t){if(!t)throw Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=f.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){let r=this.json,i=this.dracoLoader,n=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,a={},o={},l={};for(let e in s)a[Q[e]||e.toLowerCase()]=s[e];for(let t in e.attributes){let i=Q[t]||t.toLowerCase();if(void 0!==s[t]){let n=r.accessors[e.attributes[t]],s=U[n.componentType];l[i]=s.name,o[i]=!0===n.normalized}}return t.getDependency("bufferView",n).then(function(e){return new Promise(function(t){i.decodeDracoFile(e,function(e){for(let t in e.attributes){let r=e.attributes[t],i=o[t];void 0!==i&&(r.normalized=i)}t(e)},a,l)})})}}class S{constructor(){this.name=f.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(void 0===t.texCoord||t.texCoord===e.channel)&&void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.texCoord&&(e.channel=t.texCoord),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class H{constructor(){this.name=f.KHR_MESH_QUANTIZATION}}class P extends n.Interpolant{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){let t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,n=e*i*3+i;for(let e=0;e!==i;e++)t[e]=r[n+e];return t}interpolate_(e,t,r,i){let n=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=2*a,l=3*a,u=i-t,c=(r-t)/u,h=c*c,d=h*c,f=e*l,A=f-l,p=-2*d+3*h,m=d-h,B=1-p,g=m-h+c;for(let e=0;e!==a;e++){let t=s[A+e+a],r=s[A+e+o]*u,i=s[f+e+a],l=s[f+e]*u;n[e]=B*t+g*r+p*i+m*l}return n}}let O=new n.Quaternion;class L extends P{interpolate_(e,t,r,i){let n=super.interpolate_(e,t,r,i);return O.fromArray(n).normalize().toArray(n),n}}let J={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},U={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},k={9728:n.NearestFilter,9729:n.LinearFilter,9984:n.NearestMipmapNearestFilter,9985:n.LinearMipmapNearestFilter,9986:n.NearestMipmapLinearFilter,9987:n.LinearMipmapLinearFilter},K={33071:n.ClampToEdgeWrapping,33648:n.MirroredRepeatWrapping,10497:n.RepeatWrapping},N={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Q={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...c>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},j={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},X={CUBICSPLINE:void 0,LINEAR:n.InterpolateLinear,STEP:n.InterpolateDiscrete},V={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function W(e,t,r){for(let i in r.extensions)void 0===e[i]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[i]=r.extensions[i])}function Y(e,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function Z(e){let t="",r=Object.keys(e).sort();for(let i=0,n=r.length;i<n;i++)t+=r[i]+":"+e[r[i]]+";";return t}function z(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}let q=new n.Matrix4;class ${constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new d,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;"undefined"!=typeof navigator&&void 0!==navigator.userAgent&&(r=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),s=(i=navigator.userAgent.indexOf("Firefox")>-1)?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),"undefined"==typeof createImageBitmap||r||i&&s<98?this.textureLoader=new n.TextureLoader(this.options.manager):this.textureLoader=new n.ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new n.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){let r=this,i=this.json,n=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(e){return e._markDefs&&e._markDefs()}),Promise.all(this._invokeAll(function(e){return e.beforeRoot&&e.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(t){let s={scene:t[0][i.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:i.asset,parser:r,userData:{}};W(n,s,i),Y(s,i),Promise.all(r._invokeAll(function(e){return e.afterRoot&&e.afterRoot(s)})).then(function(){e(s)})}).catch(t)}_markDefs(){let e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let r=0,i=t.length;r<i;r++){let i=t[r].joints;for(let t=0,r=i.length;t<r;t++)e[i[t]].isBone=!0}for(let t=0,i=e.length;t<i;t++){let i=e[t];void 0!==i.mesh&&(this._addNodeRef(this.meshCache,i.mesh),void 0!==i.skin&&(r[i.mesh].isSkinnedMesh=!0)),void 0!==i.camera&&this._addNodeRef(this.cameraCache,i.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;let i=r.clone(),n=(e,t)=>{let r=this.associations.get(e);for(let[i,s]of(null!=r&&this.associations.set(t,r),e.children.entries()))n(s,t.children[i])};return n(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){let t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){let i=e(t[r]);if(i)return i}return null}_invokeAll(e){let t=Object.values(this.plugins);t.unshift(this);let r=[];for(let i=0;i<t.length;i++){let n=e(t[i]);n&&r.push(n)}return r}getDependency(e,t){let r=e+":"+t,i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(e){return e.loadNode&&e.loadNode(t)});break;case"mesh":i=this._invokeOne(function(e){return e.loadMesh&&e.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(e){return e.loadBufferView&&e.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(e){return e.loadMaterial&&e.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(e){return e.loadTexture&&e.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(e){return e.loadAnimation&&e.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(!(i=this._invokeOne(function(r){return r!=this&&r.getDependency&&r.getDependency(e,t)})))throw Error("Unknown type: "+e)}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){let r=this;t=Promise.all((this.json[e+("mesh"===e?"es":"s")]||[]).map(function(t,i){return r.getDependency(e,i)})),this.cache.add(e,t)}return t}loadBuffer(e){let t=this.json.buffers[e],r=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[f.KHR_BINARY_GLTF].body);let i=this.options;return new Promise(function(e,s){r.load(n.LoaderUtils.resolveURL(t.uri,i.path),e,void 0,function(){s(Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){let t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(e){let r=t.byteLength||0,i=t.byteOffset||0;return e.slice(i,i+r)})}loadAccessor(e){let t=this,r=this.json,i=this.json.accessors[e];if(void 0===i.bufferView&&void 0===i.sparse){let e=N[i.type],t=U[i.componentType],r=!0===i.normalized,s=new t(i.count*e);return Promise.resolve(new n.BufferAttribute(s,e,r))}let s=[];return void 0!==i.bufferView?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),void 0!==i.sparse&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(e){let s,a;let o=e[0],l=N[i.type],u=U[i.componentType],c=u.BYTES_PER_ELEMENT,h=c*l,d=i.byteOffset||0,f=void 0!==i.bufferView?r.bufferViews[i.bufferView].byteStride:void 0,A=!0===i.normalized;if(f&&f!==h){let e=Math.floor(d/f),r="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+e+":"+i.count,h=t.cache.get(r);h||(s=new u(o,e*f,i.count*f/c),h=new n.InterleavedBuffer(s,f/c),t.cache.add(r,h)),a=new n.InterleavedBufferAttribute(h,l,d%f/c,A)}else s=null===o?new u(i.count*l):new u(o,d,i.count*l),a=new n.BufferAttribute(s,l,A);if(void 0!==i.sparse){let t=N.SCALAR,r=U[i.sparse.indices.componentType],s=i.sparse.indices.byteOffset||0,c=i.sparse.values.byteOffset||0,h=new r(e[1],s,i.sparse.count*t),d=new u(e[2],c,i.sparse.count*l);null!==o&&(a=new n.BufferAttribute(a.array.slice(),a.itemSize,a.normalized));for(let e=0,t=h.length;e<t;e++){let t=h[e];if(a.setX(t,d[e*l]),l>=2&&a.setY(t,d[e*l+1]),l>=3&&a.setZ(t,d[e*l+2]),l>=4&&a.setW(t,d[e*l+3]),l>=5)throw Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return a})}loadTexture(e){let t=this.json,r=this.options,i=t.textures[e].source,n=t.images[i],s=this.textureLoader;if(n.uri){let e=r.manager.getHandler(n.uri);null!==e&&(s=e)}return this.loadTextureImage(e,i,s)}loadTextureImage(e,t,r){let i=this,s=this.json,a=s.textures[e],o=s.images[t],l=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[l])return this.textureCache[l];let u=this.loadImageSource(t,r).then(function(t){t.flipY=!1,t.name=a.name||o.name||"",""===t.name&&"string"==typeof o.uri&&!1===o.uri.startsWith("data:image/")&&(t.name=o.uri);let r=(s.samplers||{})[a.sampler]||{};return t.magFilter=k[r.magFilter]||n.LinearFilter,t.minFilter=k[r.minFilter]||n.LinearMipmapLinearFilter,t.wrapS=K[r.wrapS]||n.RepeatWrapping,t.wrapT=K[r.wrapT]||n.RepeatWrapping,i.associations.set(t,{textures:e}),t}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,t){let r=this.json,i=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then(e=>e.clone());let s=r.images[e],a=self.URL||self.webkitURL,o=s.uri||"",l=!1;if(void 0!==s.bufferView)o=this.getDependency("bufferView",s.bufferView).then(function(e){l=!0;let t=new Blob([e],{type:s.mimeType});return o=a.createObjectURL(t)});else if(void 0===s.uri)throw Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");let u=Promise.resolve(o).then(function(e){return new Promise(function(r,s){let a=r;!0===t.isImageBitmapLoader&&(a=function(e){let t=new n.Texture(e);t.needsUpdate=!0,r(t)}),t.load(n.LoaderUtils.resolveURL(e,i.path),a,void 0,s)})}).then(function(e){var t;return!0===l&&a.revokeObjectURL(o),e.userData.mimeType=s.mimeType||((t=s.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":"image/png"),e}).catch(function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",o),e});return this.sourceCache[e]=u,u}assignTexture(e,t,r,i){let n=this;return this.getDependency("texture",r.index).then(function(s){if(!s)return null;if(void 0!==r.texCoord&&r.texCoord>0&&((s=s.clone()).channel=r.texCoord),n.extensions[f.KHR_TEXTURE_TRANSFORM]){let e=void 0!==r.extensions?r.extensions[f.KHR_TEXTURE_TRANSFORM]:void 0;if(e){let t=n.associations.get(s);s=n.extensions[f.KHR_TEXTURE_TRANSFORM].extendTexture(s,e),n.associations.set(s,t)}}return void 0!==i&&("colorSpace"in s?s.colorSpace=3001===i?"srgb":"srgb-linear":s.encoding=i),e[t]=s,s})}assignFinalMaterial(e){let t=e.geometry,r=e.material,i=void 0===t.attributes.tangent,s=void 0!==t.attributes.color,a=void 0===t.attributes.normal;if(e.isPoints){let e="PointsMaterial:"+r.uuid,t=this.cache.get(e);t||(t=new n.PointsMaterial,n.Material.prototype.copy.call(t,r),t.color.copy(r.color),t.map=r.map,t.sizeAttenuation=!1,this.cache.add(e,t)),r=t}else if(e.isLine){let e="LineBasicMaterial:"+r.uuid,t=this.cache.get(e);t||(t=new n.LineBasicMaterial,n.Material.prototype.copy.call(t,r),t.color.copy(r.color),t.map=r.map,this.cache.add(e,t)),r=t}if(i||s||a){let e="ClonedMaterial:"+r.uuid+":";i&&(e+="derivative-tangents:"),s&&(e+="vertex-colors:"),a&&(e+="flat-shading:");let t=this.cache.get(e);t||(t=r.clone(),s&&(t.vertexColors=!0),a&&(t.flatShading=!0),i&&(t.normalScale&&(t.normalScale.y*=-1),t.clearcoatNormalScale&&(t.clearcoatNormalScale.y*=-1)),this.cache.add(e,t),this.associations.set(t,this.associations.get(r))),r=t}e.material=r}getMaterialType(){return n.MeshStandardMaterial}loadMaterial(e){let t;let r=this,i=this.json,s=this.extensions,a=i.materials[e],o={},l=a.extensions||{},u=[];if(l[f.KHR_MATERIALS_UNLIT]){let e=s[f.KHR_MATERIALS_UNLIT];t=e.getMaterialType(),u.push(e.extendParams(o,a,r))}else{let i=a.pbrMetallicRoughness||{};if(o.color=new n.Color(1,1,1),o.opacity=1,Array.isArray(i.baseColorFactor)){let e=i.baseColorFactor;o.color.fromArray(e),o.opacity=e[3]}void 0!==i.baseColorTexture&&u.push(r.assignTexture(o,"map",i.baseColorTexture,3001)),o.metalness=void 0!==i.metallicFactor?i.metallicFactor:1,o.roughness=void 0!==i.roughnessFactor?i.roughnessFactor:1,void 0!==i.metallicRoughnessTexture&&(u.push(r.assignTexture(o,"metalnessMap",i.metallicRoughnessTexture)),u.push(r.assignTexture(o,"roughnessMap",i.metallicRoughnessTexture))),t=this._invokeOne(function(t){return t.getMaterialType&&t.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,o)})))}!0===a.doubleSided&&(o.side=n.DoubleSide);let c=a.alphaMode||V.OPAQUE;if(c===V.BLEND?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,c===V.MASK&&(o.alphaTest=void 0!==a.alphaCutoff?a.alphaCutoff:.5)),void 0!==a.normalTexture&&t!==n.MeshBasicMaterial&&(u.push(r.assignTexture(o,"normalMap",a.normalTexture)),o.normalScale=new n.Vector2(1,1),void 0!==a.normalTexture.scale)){let e=a.normalTexture.scale;o.normalScale.set(e,e)}return void 0!==a.occlusionTexture&&t!==n.MeshBasicMaterial&&(u.push(r.assignTexture(o,"aoMap",a.occlusionTexture)),void 0!==a.occlusionTexture.strength&&(o.aoMapIntensity=a.occlusionTexture.strength)),void 0!==a.emissiveFactor&&t!==n.MeshBasicMaterial&&(o.emissive=new n.Color().fromArray(a.emissiveFactor)),void 0!==a.emissiveTexture&&t!==n.MeshBasicMaterial&&u.push(r.assignTexture(o,"emissiveMap",a.emissiveTexture,3001)),Promise.all(u).then(function(){let i=new t(o);return a.name&&(i.name=a.name),Y(i,a),r.associations.set(i,{materials:e}),a.extensions&&W(s,i,a),i})}createUniqueName(e){let t=n.PropertyBinding.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){let t=this,r=this.extensions,i=this.primitiveCache,s=[];for(let a=0,o=e.length;a<o;a++){let o=e[a],l=function(e){let t;let r=e.extensions&&e.extensions[f.KHR_DRACO_MESH_COMPRESSION];if(t=r?"draco:"+r.bufferView+":"+r.indices+":"+Z(r.attributes):e.indices+":"+Z(e.attributes)+":"+e.mode,void 0!==e.targets)for(let r=0,i=e.targets.length;r<i;r++)t+=":"+Z(e.targets[r]);return t}(o),u=i[l];if(u)s.push(u.promise);else{let e;e=o.extensions&&o.extensions[f.KHR_DRACO_MESH_COMPRESSION]?function(e){return r[f.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then(function(r){return ee(r,e,t)})}(o):ee(new n.BufferGeometry,o,t),i[l]={primitive:o,promise:e},s.push(e)}}return Promise.all(s)}loadMesh(e){let t=this,r=this.json,i=this.extensions,s=r.meshes[e],a=s.primitives,o=[];for(let e=0,t=a.length;e<t;e++){var l;let t=void 0===a[e].material?(void 0===(l=this.cache).DefaultMaterial&&(l.DefaultMaterial=new n.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:n.FrontSide})),l.DefaultMaterial):this.getDependency("material",a[e].material);o.push(t)}return o.push(t.loadGeometries(a)),Promise.all(o).then(function(r){let o=r.slice(0,r.length-1),l=r[r.length-1],c=[];for(let r=0,h=l.length;r<h;r++){let h;let d=l[r],f=a[r],A=o[r];if(f.mode===J.TRIANGLES||f.mode===J.TRIANGLE_STRIP||f.mode===J.TRIANGLE_FAN||void 0===f.mode)!0===(h=!0===s.isSkinnedMesh?new n.SkinnedMesh(d,A):new n.Mesh(d,A)).isSkinnedMesh&&h.normalizeSkinWeights(),f.mode===J.TRIANGLE_STRIP?h.geometry=u(h.geometry,n.TriangleStripDrawMode):f.mode===J.TRIANGLE_FAN&&(h.geometry=u(h.geometry,n.TriangleFanDrawMode));else if(f.mode===J.LINES)h=new n.LineSegments(d,A);else if(f.mode===J.LINE_STRIP)h=new n.Line(d,A);else if(f.mode===J.LINE_LOOP)h=new n.LineLoop(d,A);else if(f.mode===J.POINTS)h=new n.Points(d,A);else throw Error("THREE.GLTFLoader: Primitive mode unsupported: "+f.mode);Object.keys(h.geometry.morphAttributes).length>0&&function(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(let r=0,i=t.weights.length;r<i;r++)e.morphTargetInfluences[r]=t.weights[r];if(t.extras&&Array.isArray(t.extras.targetNames)){let r=t.extras.targetNames;if(e.morphTargetInfluences.length===r.length){e.morphTargetDictionary={};for(let t=0,i=r.length;t<i;t++)e.morphTargetDictionary[r[t]]=t}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}(h,s),h.name=t.createUniqueName(s.name||"mesh_"+e),Y(h,s),f.extensions&&W(i,h,f),t.assignFinalMaterial(h),c.push(h)}for(let r=0,i=c.length;r<i;r++)t.associations.set(c[r],{meshes:e,primitives:r});if(1===c.length)return s.extensions&&W(i,c[0],s),c[0];let h=new n.Group;s.extensions&&W(i,h,s),t.associations.set(h,{meshes:e});for(let e=0,t=c.length;e<t;e++)h.add(c[e]);return h})}loadCamera(e){let t;let r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return"perspective"===r.type?t=new n.PerspectiveCamera(n.MathUtils.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):"orthographic"===r.type&&(t=new n.OrthographicCamera(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Y(t,r),Promise.resolve(t)}loadSkin(e){let t=this.json.skins[e],r=[];for(let e=0,i=t.joints.length;e<i;e++)r.push(this._loadNodeShallow(t.joints[e]));return void 0!==t.inverseBindMatrices?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(e){let r=e.pop(),i=[],s=[];for(let a=0,o=e.length;a<o;a++){let o=e[a];if(o){i.push(o);let e=new n.Matrix4;null!==r&&e.fromArray(r.array,16*a),s.push(e)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[a])}return new n.Skeleton(i,s)})}loadAnimation(e){let t=this.json.animations[e],r=t.name?t.name:"animation_"+e,i=[],s=[],a=[],o=[],l=[];for(let e=0,r=t.channels.length;e<r;e++){let r=t.channels[e],n=t.samplers[r.sampler],u=r.target,c=u.node,h=void 0!==t.parameters?t.parameters[n.input]:n.input,d=void 0!==t.parameters?t.parameters[n.output]:n.output;void 0!==u.node&&(i.push(this.getDependency("node",c)),s.push(this.getDependency("accessor",h)),a.push(this.getDependency("accessor",d)),o.push(n),l.push(u))}return Promise.all([Promise.all(i),Promise.all(s),Promise.all(a),Promise.all(o),Promise.all(l)]).then(function(e){let t=e[0],i=e[1],s=e[2],a=e[3],o=e[4],l=[];for(let e=0,r=t.length;e<r;e++){let r;let u=t[e],c=i[e],h=s[e],d=a[e],f=o[e];if(void 0===u)continue;switch(u.updateMatrix(),j[f.path]){case j.weights:r=n.NumberKeyframeTrack;break;case j.rotation:r=n.QuaternionKeyframeTrack;break;case j.position:case j.scale:default:r=n.VectorKeyframeTrack}let A=u.name?u.name:u.uuid,p=void 0!==d.interpolation?X[d.interpolation]:n.InterpolateLinear,m=[];j[f.path]===j.weights?u.traverse(function(e){e.morphTargetInfluences&&m.push(e.name?e.name:e.uuid)}):m.push(A);let B=h.array;if(h.normalized){let e=z(B.constructor),t=new Float32Array(B.length);for(let r=0,i=B.length;r<i;r++)t[r]=B[r]*e;B=t}for(let e=0,t=m.length;e<t;e++){let t=new r(m[e]+"."+j[f.path],c.array,B,p);"CUBICSPLINE"===d.interpolation&&(t.createInterpolant=function(e){return new(this instanceof n.QuaternionKeyframeTrack?L:P)(this.times,this.values,this.getValueSize()/3,e)},t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),l.push(t)}}return new n.AnimationClip(r,void 0,l)})}createNodeMesh(e){let t=this.json,r=this,i=t.nodes[e];return void 0===i.mesh?null:r.getDependency("mesh",i.mesh).then(function(e){let t=r._getNodeRef(r.meshCache,i.mesh,e);return void 0!==i.weights&&t.traverse(function(e){if(e.isMesh)for(let t=0,r=i.weights.length;t<r;t++)e.morphTargetInfluences[t]=i.weights[t]}),t})}loadNode(e){let t=this.json.nodes[e],r=this._loadNodeShallow(e),i=[],n=t.children||[];for(let e=0,t=n.length;e<t;e++)i.push(this.getDependency("node",n[e]));let s=void 0===t.skin?Promise.resolve(null):this.getDependency("skin",t.skin);return Promise.all([r,Promise.all(i),s]).then(function(e){let t=e[0],r=e[1],i=e[2];null!==i&&t.traverse(function(e){e.isSkinnedMesh&&e.bind(i,q)});for(let e=0,i=r.length;e<i;e++)t.add(r[e]);return t})}_loadNodeShallow(e){let t=this.json,r=this.extensions,i=this;if(void 0!==this.nodeCache[e])return this.nodeCache[e];let s=t.nodes[e],a=s.name?i.createUniqueName(s.name):"",o=[],l=i._invokeOne(function(t){return t.createNodeMesh&&t.createNodeMesh(e)});return l&&o.push(l),void 0!==s.camera&&o.push(i.getDependency("camera",s.camera).then(function(e){return i._getNodeRef(i.cameraCache,s.camera,e)})),i._invokeAll(function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)}).forEach(function(e){o.push(e)}),this.nodeCache[e]=Promise.all(o).then(function(t){let o;if((o=!0===s.isBone?new n.Bone:t.length>1?new n.Group:1===t.length?t[0]:new n.Object3D)!==t[0])for(let e=0,r=t.length;e<r;e++)o.add(t[e]);if(s.name&&(o.userData.name=s.name,o.name=a),Y(o,s),s.extensions&&W(r,o,s),void 0!==s.matrix){let e=new n.Matrix4;e.fromArray(s.matrix),o.applyMatrix4(e)}else void 0!==s.translation&&o.position.fromArray(s.translation),void 0!==s.rotation&&o.quaternion.fromArray(s.rotation),void 0!==s.scale&&o.scale.fromArray(s.scale);return i.associations.has(o)||i.associations.set(o,{}),i.associations.get(o).nodes=e,o}),this.nodeCache[e]}loadScene(e){let t=this.extensions,r=this.json.scenes[e],i=this,s=new n.Group;r.name&&(s.name=i.createUniqueName(r.name)),Y(s,r),r.extensions&&W(t,s,r);let a=r.nodes||[],o=[];for(let e=0,t=a.length;e<t;e++)o.push(i.getDependency("node",a[e]));return Promise.all(o).then(function(e){for(let t=0,r=e.length;t<r;t++)s.add(e[t]);return i.associations=(e=>{let t=new Map;for(let[e,r]of i.associations)(e instanceof n.Material||e instanceof n.Texture)&&t.set(e,r);return e.traverse(e=>{let r=i.associations.get(e);null!=r&&t.set(e,r)}),t})(s),s})}}function ee(e,t,r){let i=t.attributes,s=[];for(let t in i){let n=Q[t]||t.toLowerCase();n in e.attributes||s.push(function(t,i){return r.getDependency("accessor",t).then(function(t){e.setAttribute(i,t)})}(i[t],n))}if(void 0!==t.indices&&!e.index){let i=r.getDependency("accessor",t.indices).then(function(t){e.setIndex(t)});s.push(i)}return Y(e,t),!function(e,t,r){let i=t.attributes,s=new n.Box3;if(void 0===i.POSITION)return;{let e=r.json.accessors[i.POSITION],t=e.min,a=e.max;if(void 0!==t&&void 0!==a){if(s.set(new n.Vector3(t[0],t[1],t[2]),new n.Vector3(a[0],a[1],a[2])),e.normalized){let t=z(U[e.componentType]);s.min.multiplyScalar(t),s.max.multiplyScalar(t)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}let a=t.targets;if(void 0!==a){let e=new n.Vector3,t=new n.Vector3;for(let i=0,n=a.length;i<n;i++){let n=a[i];if(void 0!==n.POSITION){let i=r.json.accessors[n.POSITION],s=i.min,a=i.max;if(void 0!==s&&void 0!==a){if(t.setX(Math.max(Math.abs(s[0]),Math.abs(a[0]))),t.setY(Math.max(Math.abs(s[1]),Math.abs(a[1]))),t.setZ(Math.max(Math.abs(s[2]),Math.abs(a[2]))),i.normalized){let e=z(U[i.componentType]);t.multiplyScalar(e)}e.max(t)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}s.expandByVector(e)}e.boundingBox=s;let o=new n.Sphere;s.getCenter(o.center),o.radius=s.min.distanceTo(s.max)/2,e.boundingSphere=o}(e,t,r),Promise.all(s).then(function(){return void 0!==t.targets?function(e,t,r){let i=!1,n=!1,s=!1;for(let e=0,r=t.length;e<r;e++){let r=t[e];if(void 0!==r.POSITION&&(i=!0),void 0!==r.NORMAL&&(n=!0),void 0!==r.COLOR_0&&(s=!0),i&&n&&s)break}if(!i&&!n&&!s)return Promise.resolve(e);let a=[],o=[],l=[];for(let u=0,c=t.length;u<c;u++){let c=t[u];if(i){let t=void 0!==c.POSITION?r.getDependency("accessor",c.POSITION):e.attributes.position;a.push(t)}if(n){let t=void 0!==c.NORMAL?r.getDependency("accessor",c.NORMAL):e.attributes.normal;o.push(t)}if(s){let t=void 0!==c.COLOR_0?r.getDependency("accessor",c.COLOR_0):e.attributes.color;l.push(t)}}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(l)]).then(function(t){let r=t[0],a=t[1],o=t[2];return i&&(e.morphAttributes.position=r),n&&(e.morphAttributes.normal=a),s&&(e.morphAttributes.color=o),e.morphTargetsRelative=!0,e})}(e,t.targets,r):e})}var et=r(793);let er=null,ei="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function en(e,t,r){return i=>{r&&r(i),e&&(er||(er=new a),er.setDecoderPath("string"==typeof e?e:ei),i.setDRACOLoader(er)),t&&i.setMeshoptDecoder("function"==typeof l?l():l)}}function es(e,t=!0,r=!0,i){return(0,et.F)(h,e,en(t,r,i))}es.preload=(e,t=!0,r=!0,i)=>et.F.preload(h,e,en(t,r,i)),es.clear=e=>et.F.clear(h,e),es.setDecoderPath=e=>{ei=e}},5769:function(e,t,r){"use strict";r.d(t,{m:function(){return o}});var i=r(9477),n=r(793),s=r(7294);let a=e=>e===Object(e)&&!Array.isArray(e)&&"function"!=typeof e;function o(e,t){let r=(0,n.A)(e=>e.gl),o=(0,n.F)(i.TextureLoader,a(e)?Object.values(e):e);if((0,s.useLayoutEffect)(()=>{null==t||t(o)},[t]),(0,s.useEffect)(()=>{"initTexture"in r&&(Array.isArray(o)?o:[o]).forEach(r.initTexture)},[r,o]),!a(e))return o;{let t={},r=0;for(let i in e)t[i]=o[r++];return t}}o.preload=e=>n.F.preload(i.TextureLoader,e),o.clear=e=>n.F.clear(i.TextureLoader,e)},9626:function(e,t){"use strict";t.Z=function(e){return function(t){e.forEach(function(e){"function"==typeof e?e(t):null!=e&&(e.current=t)})}}},7854:function(e,t,r){"use strict";r.d(t,{V:function(){return g}});var i,n,s=r(7462),a=r(7294),o=r(745),l=r(9477),u=r(793);let c=new l.Vector3,h=new l.Vector3,d=new l.Vector3;function f(e,t,r){let i=c.setFromMatrixPosition(e.matrixWorld);i.project(t);let n=r.width/2,s=r.height/2;return[i.x*n+n,-(i.y*s)+s]}let A=e=>1e-10>Math.abs(e)?0:e;function p(e,t,r=""){let i="matrix3d(";for(let r=0;16!==r;r++)i+=A(t[r]*e.elements[r])+(15!==r?",":")");return r+i}let m=(i=[1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1],e=>p(e,i)),B=(n=e=>[1/e,1/e,1/e,1,-1/e,-1/e,-1/e,-1,1/e,1/e,1/e,1,1,1,1,1],(e,t)=>p(e,n(t),"translate(-50%,-50%)")),g=a.forwardRef(({children:e,eps:t=.001,style:r,className:i,prepend:n,center:p,fullscreen:g,portal:v,distanceFactor:C,sprite:y=!1,transform:b=!1,occlude:M,onOcclude:E,castShadow:w,receiveShadow:F,material:I,geometry:_,zIndexRange:R=[16777271,0],calculatePosition:x=f,as:D="div",wrapperClass:G,pointerEvents:T="auto",...S},H)=>{let{gl:P,camera:O,scene:L,size:J,raycaster:U,events:k,viewport:K}=(0,u.A)(),[N]=a.useState(()=>document.createElement(D)),Q=a.useRef(),j=a.useRef(null),X=a.useRef(0),V=a.useRef([0,0]),W=a.useRef(null),Y=a.useRef(null),Z=(null==v?void 0:v.current)||k.connected||P.domElement.parentNode,z=a.useRef(null),q=a.useRef(!1),$=a.useMemo(()=>{var e;return M&&"blending"!==M||Array.isArray(M)&&M.length&&(e=M[0])&&"object"==typeof e&&"current"in e},[M]);a.useLayoutEffect(()=>{let e=P.domElement;M&&"blending"===M?(e.style.zIndex=`${Math.floor(R[0]/2)}`,e.style.position="absolute",e.style.pointerEvents="none"):(e.style.zIndex=null,e.style.position=null,e.style.pointerEvents=null)},[M]),a.useLayoutEffect(()=>{if(j.current){let e=Q.current=o.createRoot(N);if(L.updateMatrixWorld(),b)N.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{let e=x(j.current,O,J);N.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${e[0]}px,${e[1]}px,0);transform-origin:0 0;`}return Z&&(n?Z.prepend(N):Z.appendChild(N)),()=>{Z&&Z.removeChild(N),e.unmount()}}},[Z,b]),a.useLayoutEffect(()=>{G&&(N.className=G)},[G]);let ee=a.useMemo(()=>b?{position:"absolute",top:0,left:0,width:J.width,height:J.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:p?"translate3d(-50%,-50%,0)":"none",...g&&{top:-J.height/2,left:-J.width/2,width:J.width,height:J.height},...r},[r,p,g,J,b]),et=a.useMemo(()=>({position:"absolute",pointerEvents:T}),[T]);a.useLayoutEffect(()=>{var t,n;q.current=!1,b?null==(t=Q.current)||t.render(a.createElement("div",{ref:W,style:ee},a.createElement("div",{ref:Y,style:et},a.createElement("div",{ref:H,className:i,style:r,children:e})))):null==(n=Q.current)||n.render(a.createElement("div",{ref:H,style:ee,className:i,children:e}))});let er=a.useRef(!0);(0,u.C)(e=>{if(j.current){O.updateMatrixWorld(),j.current.updateWorldMatrix(!0,!1);let e=b?V.current:x(j.current,O,J);if(b||Math.abs(X.current-O.zoom)>t||Math.abs(V.current[0]-e[0])>t||Math.abs(V.current[1]-e[1])>t){let t=function(e,t){let r=c.setFromMatrixPosition(e.matrixWorld),i=h.setFromMatrixPosition(t.matrixWorld),n=r.sub(i),s=t.getWorldDirection(d);return n.angleTo(s)>Math.PI/2}(j.current,O),r=!1;$&&(Array.isArray(M)?r=M.map(e=>e.current):"blending"!==M&&(r=[L]));let i=er.current;if(r){let e=function(e,t,r,i){let n=c.setFromMatrixPosition(e.matrixWorld),s=n.clone();s.project(t),r.setFromCamera(s,t);let a=r.intersectObjects(i,!0);if(a.length){let e=a[0].distance;return n.distanceTo(r.ray.origin)<e}return!0}(j.current,O,U,r);er.current=e&&!t}else er.current=!t;i!==er.current&&(E?E(!er.current):N.style.display=er.current?"block":"none");let n=Math.floor(R[0]/2),s=M?$?[R[0],n]:[n-1,0]:R;if(N.style.zIndex=`${function(e,t,r){if(t instanceof l.PerspectiveCamera||t instanceof l.OrthographicCamera){let i=c.setFromMatrixPosition(e.matrixWorld),n=h.setFromMatrixPosition(t.matrixWorld),s=i.distanceTo(n),a=(r[1]-r[0])/(t.far-t.near),o=r[1]-a*t.far;return Math.round(a*s+o)}}(j.current,O,s)}`,b){let[e,t]=[J.width/2,J.height/2],r=O.projectionMatrix.elements[5]*t,{isOrthographicCamera:i,top:n,left:s,bottom:a,right:o}=O,l=m(O.matrixWorldInverse),u=i?`scale(${r})translate(${A(-(o+s)/2)}px,${A((n+a)/2)}px)`:`translateZ(${r}px)`,c=j.current.matrixWorld;y&&((c=O.matrixWorldInverse.clone().transpose().copyPosition(c).scale(j.current.scale)).elements[3]=c.elements[7]=c.elements[11]=0,c.elements[15]=1),N.style.width=J.width+"px",N.style.height=J.height+"px",N.style.perspective=i?"":`${r}px`,W.current&&Y.current&&(W.current.style.transform=`${u}${l}translate(${e}px,${t}px)`,Y.current.style.transform=B(c,1/((C||10)/400)))}else{let t=void 0===C?1:function(e,t){if(t instanceof l.OrthographicCamera)return t.zoom;if(!(t instanceof l.PerspectiveCamera))return 1;{let r=c.setFromMatrixPosition(e.matrixWorld),i=h.setFromMatrixPosition(t.matrixWorld);return 1/(2*Math.tan(t.fov*Math.PI/180/2)*r.distanceTo(i))}}(j.current,O)*C;N.style.transform=`translate3d(${e[0]}px,${e[1]}px,0) scale(${t})`}V.current=e,X.current=O.zoom}}if(!$&&z.current&&!q.current){if(b){if(W.current){let e=W.current.children[0];if(null!=e&&e.clientWidth&&null!=e&&e.clientHeight){let{isOrthographicCamera:t}=O;if(t||_)S.scale&&(Array.isArray(S.scale)?S.scale instanceof l.Vector3?z.current.scale.copy(S.scale.clone().divideScalar(1)):z.current.scale.set(1/S.scale[0],1/S.scale[1],1/S.scale[2]):z.current.scale.setScalar(1/S.scale));else{let t=(C||10)/400,r=e.clientWidth*t,i=e.clientHeight*t;z.current.scale.set(r,i,1)}q.current=!0}}}else{let t=N.children[0];if(null!=t&&t.clientWidth&&null!=t&&t.clientHeight){let e=1/K.factor,r=t.clientWidth*e,i=t.clientHeight*e;z.current.scale.set(r,i,1),q.current=!0}z.current.lookAt(e.camera.position)}}});let ei=a.useMemo(()=>({vertexShader:b?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[b]);return a.createElement("group",(0,s.Z)({},S,{ref:j}),M&&!$&&a.createElement("mesh",{castShadow:w,receiveShadow:F,ref:z},_||a.createElement("planeGeometry",null),I||a.createElement("shaderMaterial",{side:l.DoubleSide,vertexShader:ei.vertexShader,fragmentShader:ei.fragmentShader})))})},4751:function(e,t,r){"use strict";r.d(t,{useGesture:function(){return ef}});let i={toVector:(e,t)=>(void 0===e&&(e=t),Array.isArray(e)?e:[e,e]),add:(e,t)=>[e[0]+t[0],e[1]+t[1]],sub:(e,t)=>[e[0]-t[0],e[1]-t[1]],addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function n(e,t,r){return 0===t||Math.abs(t)===1/0?Math.pow(e,5*r):e*t*r/(t+r*e)}function s(e,t,r,i=.15){return 0===i?Math.max(t,Math.min(e,r)):e<t?-n(t-e,r-t,i)+t:e>r?+n(e-r,r-t,i)+r:e}function a(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let u={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function c(e){return e?e[0].toUpperCase()+e.slice(1):""}let h=["enter","leave"],d=["gotpointercapture","lostpointercapture"];function f(e){return"touches"in e}function A(e){return f(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function p(e){return f(e)?("touchend"===e.type||"touchcancel"===e.type?e.changedTouches:e.targetTouches)[0]:e}function m(e,t){try{let r=t.clientX-e.clientX,i=t.clientY-e.clientY,n=(t.clientX+e.clientX)/2,s=(t.clientY+e.clientY)/2;return{angle:-(180*Math.atan2(r,i))/Math.PI,distance:Math.hypot(r,i),origin:[n,s]}}catch(e){}return null}function B(e,t){let[r,i]=Array.from(e.touches).filter(e=>t.includes(e.identifier));return m(r,i)}function g(e){let t=p(e);return f(e)?t.identifier:t.pointerId}function v(e){let t=p(e);return[t.clientX,t.clientY]}function C(e){let{deltaX:t,deltaY:r,deltaMode:i}=e;return 1===i?(t*=40,r*=40):2===i&&(t*=800,r*=800),[t,r]}function y(e,...t){return"function"==typeof e?e(...t):e}function b(){}function M(e,t){return Object.assign({},t,e||{})}class E{constructor(e,t,r){this.ctrl=e,this.args=t,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){let{state:e,shared:t,ingKey:r,args:i}=this;t[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){let t=this.state,r=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=r.from?y(r.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){let t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){let e=this.state;e._initial=e._values,e.initial=e.values}compute(e){let{state:t,config:r,shared:n}=this;t.args=this.args;let a=0;if(e&&(t.event=e,r.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,n.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,n.locked=!!document.pointerLockElement,Object.assign(n,function(e){let t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){let{shiftKey:r,altKey:i,metaKey:n,ctrlKey:s}=e;Object.assign(t,{shiftKey:r,altKey:i,metaKey:n,ctrlKey:s})}return t}(e)),n.down=n.pressed=n.buttons%2==1||n.touches>0,a=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){let e=t._delta.map(Math.abs);i.addTo(t._distance,e)}this.axisIntent&&this.axisIntent(e);let[o,l]=t._movement,[u,c]=r.threshold,{_step:h,values:d}=t;if(r.hasCustomTransform?(!1===h[0]&&(h[0]=Math.abs(o)>=u&&d[0]),!1===h[1]&&(h[1]=Math.abs(l)>=c&&d[1])):(!1===h[0]&&(h[0]=Math.abs(o)>=u&&Math.sign(o)*u),!1===h[1]&&(h[1]=Math.abs(l)>=c&&Math.sign(l)*c)),t.intentional=!1!==h[0]||!1!==h[1],!t.intentional)return;let f=[0,0];if(r.hasCustomTransform){let[e,t]=d;f[0]=!1!==h[0]?e-h[0]:0,f[1]=!1!==h[1]?t-h[1]:0}else f[0]=!1!==h[0]?o-h[0]:0,f[1]=!1!==h[1]?l-h[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(f);let A=t.offset,p=t._active&&!t._blocked||t.active;p&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=n[this.ingKey]=t._active,e&&(t.first&&("bounds"in r&&(t._bounds=y(r.bounds,t)),this.setup&&this.setup()),t.movement=f,this.computeOffset()));let[m,B]=t.offset,[[g,v],[C,b]]=t._bounds;t.overflow=[m<g?-1:m>v?1:0,B<C?-1:B>b?1:0],t._movementBound[0]=!!t.overflow[0]&&(!1===t._movementBound[0]?t._movement[0]:t._movementBound[0]),t._movementBound[1]=!!t.overflow[1]&&(!1===t._movementBound[1]?t._movement[1]:t._movementBound[1]);let M=t._active&&r.rubberband||[0,0];if(t.offset=function(e,[t,r],[i,n]){let[[a,o],[l,u]]=e;return[s(t,a,o,i),s(r,l,u,n)]}(t._bounds,t.offset,M),t.delta=i.sub(t.offset,A),this.computeMovement(),p&&(!t.last||a>32)){t.delta=i.sub(t.offset,A);let e=t.delta.map(Math.abs);i.addTo(t.distance,e),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&a>0&&(t.velocity=[e[0]/a,e[1]/a],t.timeDelta=a)}}emit(){let e=this.state,t=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;let i=this.handler(l(l(l({},t),e),{},{[this.aliasKey]:e.values}));void 0!==i&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}class w extends E{constructor(...e){super(...e),a(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=i.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=i.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){let t=this.state,r=this.config;if(!t.axis&&e){let i="object"==typeof r.axisThreshold?r.axisThreshold[A(e)]:r.axisThreshold;t.axis=function([e,t],r){let i=Math.abs(e),n=Math.abs(t);return i>n&&i>r?"x":n>i&&n>r?"y":void 0}(t._movement,i)}t._blocked=(r.lockDirection||!!r.axis)&&!t.axis||!!r.axis&&r.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0}}}let F=e=>e,I={enabled:(e=!0)=>e,eventOptions:(e,t,r)=>l(l({},r.shared.eventOptions),e),preventDefault:(e=!1)=>e,triggerAllEvents:(e=!1)=>e,rubberband(e=0){switch(e){case!0:return[.15,.15];case!1:return[0,0];default:return i.toVector(e)}},from:e=>"function"==typeof e?e:null!=e?i.toVector(e):void 0,transform(e,t,r){let i=e||r.shared.transform;return this.hasCustomTransform=!!i,i||F},threshold:e=>i.toVector(e,0)},_=0,R=l(l({},I),{},{axis(e,t,{axis:r}){if(this.lockDirection="lock"===r,!this.lockDirection)return r},axisThreshold:(e=_)=>e,bounds(e={}){if("function"==typeof e)return t=>R.bounds(e(t));if("current"in e)return()=>e.current;if("function"==typeof HTMLElement&&e instanceof HTMLElement)return e;let{left:t=-1/0,right:r=1/0,top:i=-1/0,bottom:n=1/0}=e;return[[t,r],[i,n]]}}),x={ArrowRight:(e,t=1)=>[e*t,0],ArrowLeft:(e,t=1)=>[-1*e*t,0],ArrowUp:(e,t=1)=>[0,-1*e*t],ArrowDown:(e,t=1)=>[0,e*t]};class D extends w{constructor(...e){super(...e),a(this,"ingKey","dragging")}reset(){super.reset();let e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){let e=this.state;if(e._bounds instanceof HTMLElement){let t=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:t.left-r.left+e.offset[0],right:t.right-r.right+e.offset[0],top:t.top-r.top+e.offset[1],bottom:t.bottom-r.bottom+e.offset[1]};e._bounds=R.bounds(i)}}cancel(){let e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){let t=this.config,r=this.state;if(null!=e.buttons&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):-1!==t.pointerButtons&&t.pointerButtons!==e.buttons))return;let i=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),i&&i.size>1&&r._pointerActive||(this.start(e),this.setupPointer(e),r._pointerId=g(e),r._pointerActive=!0,this.computeValues(v(e)),this.computeInitial(),t.preventScrollAxis&&"mouse"!==A(e)?(r._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){let t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){let t=this.state,r=this.config;if(!t._pointerActive)return;let n=g(e);if(void 0!==t._pointerId&&n!==t._pointerId)return;let s=v(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=i.sub(s,t._values),this.computeValues(s)),i.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!t._preventScroll){if(!t.axis)return;if(t.axis===r.preventScrollAxis||"xy"===r.preventScrollAxis){t._active=!1,this.clean();return}this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch(e){}let t=this.state,r=this.config;if(!t._active||!t._pointerActive)return;let i=g(e);if(void 0!==t._pointerId&&i!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);let[n,s]=t._distance;if(t.tap=n<=r.tapsThreshold&&s<=r.tapsThreshold,t.tap&&r.filterTaps)t._force=!0;else{let[e,i]=t._delta,[n,s]=t._movement,[a,o]=r.swipe.velocity,[l,u]=r.swipe.distance,c=r.swipe.duration;if(t.elapsedTime<c){let r=Math.abs(e/t.timeDelta),c=Math.abs(i/t.timeDelta);r>a&&Math.abs(n)>l&&(t.swipe[0]=Math.sign(e)),c>o&&Math.abs(s)>u&&(t.swipe[1]=Math.sign(i))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){let t=this.config,r=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,"persist"in e&&"function"==typeof e.persist&&e.persist();let t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){let t=x[e.key];if(t){let r=this.state,n=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=t(this.config.keyboardDisplacement,n),r._keyboardActive=!0,i.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in x&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){let t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}let G="undefined"!=typeof window&&window.document&&window.document.createElement;function T(){return G&&"ontouchstart"in window}let S={isBrowser:G,gesture:function(){try{return"constructor"in GestureEvent}catch(e){return!1}}(),touch:T(),touchscreen:T()||G&&window.navigator.maxTouchPoints>1,pointer:G&&"onpointerdown"in window,pointerLock:G&&"exitPointerLock"in window.document},H=10,P={mouse:0,touch:0,pen:8},O=l(l({},R),{},{device(e,t,{pointer:{touch:r=!1,lock:i=!1,mouse:n=!1}={}}){return(this.pointerLock=i&&S.pointerLock,S.touch&&r)?"touch":this.pointerLock?"mouse":S.pointer&&!n?"pointer":S.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:r}){if(this.preventScrollDelay="number"==typeof r?r:r||void 0===r&&e?250:void 0,S.touchscreen&&!1!==r)return e||(void 0!==r?"y":void 0)},pointerCapture(e,t,{pointer:{capture:r=!0,buttons:i=1,keys:n=!0}={}}){return this.pointerButtons=i,this.keys=n,!this.pointerLock&&"pointer"===this.device&&r},threshold(e,t,{filterTaps:r=!1,tapsThreshold:n=3,axis:s}){let a=i.toVector(e,r?n:s?1:0);return this.filterTaps=r,this.tapsThreshold=n,a},swipe({velocity:e=.5,distance:t=50,duration:r=250}={}){return{velocity:this.transform(i.toVector(e)),distance:this.transform(i.toVector(t)),duration:r}},delay(e=0){switch(e){case!0:return 180;case!1:return 0;default:return e}},axisThreshold:e=>e?l(l({},P),e):P,keyboardDisplacement:(e=H)=>e});function L(e){let[t,r]=e.overflow,[i,n]=e._delta,[s,a]=e._direction;(t<0&&i>0&&s<0||t>0&&i<0&&s>0)&&(e._movement[0]=e._movementBound[0]),(r<0&&n>0&&a<0||r>0&&n<0&&a>0)&&(e._movement[1]=e._movementBound[1])}class J extends E{constructor(...e){super(...e),a(this,"ingKey","pinching"),a(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();let e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){let{type:e,movement:t,lastOffset:r}=this.state;"wheel"===e?this.state.offset=i.add(t,r):this.state.offset=[(1+t[0])*r[0],t[1]+r[1]]}computeMovement(){let{offset:e,lastOffset:t}=this.state;this.state.movement=[e[0]/t[0],e[1]-t[1]]}axisIntent(){let e=this.state,[t,r]=e._movement;if(!e.axis){let i=30*Math.abs(t)-Math.abs(r);i<0?e.axis="angle":i>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&("scale"===this.state.axis?e[1]=0:"angle"===this.state.axis&&(e[0]=0))}cancel(){let e=this.state;e.canceled||setTimeout(()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()},0)}touchStart(e){this.ctrl.setEventIds(e);let t=this.state,r=this.ctrl.touchIds;if(t._active&&t._touchIds.every(e=>r.has(e))||r.size<2)return;this.start(e),t._touchIds=Array.from(r).slice(0,2);let i=B(e,t._touchIds);i&&this.pinchStart(e,i)}pointerStart(e){if(null!=e.buttons&&e.buttons%2!=1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);let t=this.state,r=t._pointerEvents,i=this.ctrl.pointerIds;if(t._active&&Array.from(r.keys()).every(e=>i.has(e))||(r.size<2&&r.set(e.pointerId,e),t._pointerEvents.size<2))return;this.start(e);let n=m(...Array.from(r.values()));n&&this.pinchStart(e,n)}pinchStart(e,t){this.state.origin=t.origin,this.computeValues([t.distance,t.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;let t=B(e,this.state._touchIds);t&&this.pinchMove(e,t)}pointerMove(e){let t=this.state._pointerEvents;if(t.has(e.pointerId)&&t.set(e.pointerId,e),!this.state._active)return;let r=m(...Array.from(t.values()));r&&this.pinchMove(e,r)}pinchMove(e,t){let r=this.state,i=r._values[1],n=t.angle-i,s=0;Math.abs(n)>270&&(s+=Math.sign(n)),this.computeValues([t.distance,t.angle-360*s]),r.origin=t.origin,r.turns=s,r._movement=[r._values[0]/r._initial[0]-1,r._values[1]-r._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some(e=>!this.ctrl.touchIds.has(e))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){let t=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch(e){}t._pointerEvents.has(e.pointerId)&&t._pointerEvents.delete(e.pointerId),t._active&&t._pointerEvents.size<2&&(t._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();let t=this.state;t._active||(this.start(e),this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;let t=this.state;this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY];let r=t._movement;t._movement=[e.scale-1,e.rotation],t._delta=i.sub(t._movement,r),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){let t=this.config.modifierKey;(!t||(Array.isArray(t)?t.find(t=>e[t]):e[t]))&&(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||!e.cancelable||e.preventDefault();let t=this.state;t._delta=[-C(e)[1]/100*t.offset[0],0],i.addTo(t._movement,t._delta),L(t),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){let t=this.config.device;t&&(e(t,"start",this[t+"Start"].bind(this)),e(t,"change",this[t+"Move"].bind(this)),e(t,"end",this[t+"End"].bind(this)),e(t,"cancel",this[t+"End"].bind(this)),e("lostPointerCapture","",this[t+"End"].bind(this))),this.config.pinchOnWheel&&e("wheel","",this.wheel.bind(this),{passive:!1})}}let U=l(l({},I),{},{device(e,t,{shared:r,pointer:{touch:i=!1}={}}){if(r.target&&!S.touch&&S.gesture)return"gesture";if(S.touch&&i)return"touch";if(S.touchscreen){if(S.pointer)return"pointer";if(S.touch)return"touch"}},bounds(e,t,{scaleBounds:r={},angleBounds:i={}}){let n=e=>{let t=M(y(r,e),{min:-1/0,max:1/0});return[t.min,t.max]},s=e=>{let t=M(y(i,e),{min:-1/0,max:1/0});return[t.min,t.max]};return"function"!=typeof r&&"function"!=typeof i?[n(),s()]:e=>[n(e),s(e)]},threshold(e,t,r){return this.lockDirection="lock"===r.axis,i.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey:e=>void 0===e?"ctrlKey":e,pinchOnWheel:(e=!0)=>e});class k extends w{constructor(...e){super(...e),a(this,"ingKey","moving")}move(e){this.config.mouseOnly&&"mouse"!==e.pointerType||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(e){this.start(e),this.computeValues(v(e)),this.compute(e),this.computeInitial(),this.emit()}moveChange(e){if(!this.state._active)return;let t=v(e),r=this.state;r._delta=i.sub(t,r._values),i.addTo(r._movement,r._delta),this.computeValues(t),this.compute(e),this.emit()}moveEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}bind(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}}let K=l(l({},R),{},{mouseOnly:(e=!0)=>e});class N extends w{constructor(...e){super(...e),a(this,"ingKey","scrolling")}scroll(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(e){e.cancelable&&e.preventDefault();let t=this.state,r=function(e){var t,r;let{scrollX:i,scrollY:n,scrollLeft:s,scrollTop:a}=e.currentTarget;return[null!==(t=null!=i?i:s)&&void 0!==t?t:0,null!==(r=null!=n?n:a)&&void 0!==r?r:0]}(e);t._delta=i.sub(r,t._values),i.addTo(t._movement,t._delta),this.computeValues(r),this.compute(e),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("scroll","",this.scroll.bind(this))}}class Q extends w{constructor(...e){super(...e),a(this,"ingKey","wheeling")}wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){let t=this.state;t._delta=C(e),i.addTo(t._movement,t._delta),L(t),this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}}class j extends w{constructor(...e){super(...e),a(this,"ingKey","hovering")}enter(e){this.config.mouseOnly&&"mouse"!==e.pointerType||(this.start(e),this.computeValues(v(e)),this.compute(e),this.emit())}leave(e){if(this.config.mouseOnly&&"mouse"!==e.pointerType)return;let t=this.state;if(!t._active)return;t._active=!1;let r=v(e);t._movement=t._delta=i.sub(r,t._values),this.computeValues(r),this.compute(e),t.delta=t.movement,this.emit()}bind(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}}let X=l(l({},R),{},{mouseOnly:(e=!0)=>e}),V=new Map,W=new Map;function Y(e){V.set(e.key,e.engine),W.set(e.key,e.resolver)}let Z={key:"drag",engine:D,resolver:O},z={key:"hover",engine:j,resolver:X},q={key:"move",engine:k,resolver:K},$={key:"pinch",engine:J,resolver:U},ee={key:"scroll",engine:N,resolver:R},et={key:"wheel",engine:Q,resolver:R};var er=r(7294);let ei={target(e){if(e)return()=>"current"in e?e.current:e},enabled:(e=!0)=>e,window:(e=S.isBrowser?window:void 0)=>e,eventOptions:({passive:e=!0,capture:t=!1}={})=>({passive:e,capture:t}),transform:e=>e},en=["target","eventOptions","window","enabled","transform"];function es(e={},t){let r={};for(let[i,n]of Object.entries(t))switch(typeof n){case"function":r[i]=n.call(r,e[i],i,e);break;case"object":r[i]=es(e[i],n);break;case"boolean":n&&(r[i]=e[i])}return r}class ea{constructor(e,t){a(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,r,i,n){let s=this._listeners,a=function(e,t=""){let r=u[e];return e+(r&&r[t]||t)}(t,r),o=l(l({},this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{}),n);e.addEventListener(a,i,o);let c=()=>{e.removeEventListener(a,i,o),s.delete(c)};return s.add(c),c}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class eo{constructor(){a(this,"_timeouts",new Map)}add(e,t,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(t,r,...i))}remove(e){let t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class el{constructor(e){a(this,"gestures",new Set),a(this,"_targetEventStore",new ea(this)),a(this,"gestureEventStores",{}),a(this,"gestureTimeoutStores",{}),a(this,"handlers",{}),a(this,"config",{}),a(this,"pointerIds",new Set),a(this,"touchIds",new Set),a(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),e.drag&&eu(this,"drag"),e.wheel&&eu(this,"wheel"),e.scroll&&eu(this,"scroll"),e.move&&eu(this,"move"),e.pinch&&eu(this,"pinch"),e.hover&&eu(this,"hover")}setEventIds(e){return f(e)?(this.touchIds=new Set(Array.from(e.touches).filter(t=>{var r,i;return t.target===e.currentTarget||(null===(r=e.currentTarget)||void 0===r||null===(i=r.contains)||void 0===i?void 0:i.call(r,t.target))}).map(e=>e.identifier)),this.touchIds):"pointerId"in e?("pointerup"===e.type||"pointercancel"===e.type?this.pointerIds.delete(e.pointerId):"pointerdown"===e.type&&this.pointerIds.add(e.pointerId),this.pointerIds):void 0}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=function(e,t,r={}){let{target:i,eventOptions:n,window:s,enabled:a,transform:o}=e,u=function(e,t){if(null==e)return{};var r,i,n=function(e,t){if(null==e)return{};var r,i,n={},s=Object.keys(e);for(i=0;i<s.length;i++)r=s[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,en);if(r.shared=es({target:i,eventOptions:n,window:s,enabled:a,transform:o},ei),t){let e=W.get(t);r[t]=es(l({shared:r.shared},u),e)}else for(let e in u){let t=W.get(e);t&&(r[e]=es(l({shared:r.shared},u[e]),t))}return r}(e,t,this.config)}clean(){for(let e of(this._targetEventStore.clean(),this.gestures))this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){let t;let r=this.config.shared,i={};if(!r.target||(t=r.target())){if(r.enabled){for(let r of this.gestures){let n=this.config[r],s=ec(i,n.eventOptions,!!t);n.enabled&&new(V.get(r))(this,e,r).bind(s)}let n=ec(i,r.eventOptions,!!t);for(let t in this.nativeHandlers)n(t,"",r=>this.nativeHandlers[t](l(l({},this.state.shared),{},{event:r,args:e})),void 0,!0)}for(let e in i)i[e]=function(...e){return 0===e.length?b:1===e.length?e[0]:function(){let t;for(let r of e)t=r.apply(this,arguments)||t;return t}}(...i[e]);if(!t)return i;for(let e in i){let{device:r,capture:n,passive:s}=function(e){let t=e.substring(2).toLowerCase(),r=!!~t.indexOf("passive");r&&(t=t.replace("passive",""));let i=d.includes(t)?"capturecapture":"capture",n=!!~t.indexOf(i);return n&&(t=t.replace("capture","")),{device:t,capture:n,passive:r}}(e);this._targetEventStore.add(t,r,"",i[e],{capture:n,passive:s})}}}}function eu(e,t){e.gestures.add(t),e.gestureEventStores[t]=new ea(e,t),e.gestureTimeoutStores[t]=new eo}let ec=(e,t,r)=>(i,n,s,a={},o=!1)=>{var l,d;let f=null!==(l=a.capture)&&void 0!==l?l:t.capture,A=null!==(d=a.passive)&&void 0!==d?d:t.passive,p=o?i:function(e,t="",r=!1){let i=u[e],n=i&&i[t]||t;return"on"+c(e)+c(n)+(!function(e=!1,t){return e&&!h.includes(t)}(r,n)?"":"Capture")}(i,n,f);r&&A&&(p+="Passive"),e[p]=e[p]||[],e[p].push(s)},eh=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function ed(e,t,r,i,n,s){if(!e.has(r)||!V.has(i))return;let a=r+"Start",o=r+"End";n[i]=e=>{let i;return e.first&&a in t&&t[a](e),r in t&&(i=t[r](e)),e.last&&o in t&&t[o](e),i},s[i]=s[i]||{}}function ef(e,t){return([Z,$,ee,et,q,z].forEach(Y),function(e,t){let{handlers:r,nativeHandlers:i,config:n}=function(e,t){let[r,i,n]=function(e){let t={},r={},i=new Set;for(let n in e)eh.test(n)?(i.add(RegExp.lastMatch),r[n]=e[n]):t[n]=e[n];return[r,t,i]}(e),s={};return ed(n,r,"onDrag","drag",s,t),ed(n,r,"onWheel","wheel",s,t),ed(n,r,"onScroll","scroll",s,t),ed(n,r,"onPinch","pinch",s,t),ed(n,r,"onMove","move",s,t),ed(n,r,"onHover","hover",s,t),{handlers:s,config:t,nativeHandlers:i}}(e,t||{});return function(e,t={},r,i){let n=er.useMemo(()=>new el(e),[]);if(n.applyHandlers(e,i),n.applyConfig(t,r),er.useEffect(n.effect.bind(n)),er.useEffect(()=>n.clean.bind(n),[]),void 0===t.target)return n.bind.bind(n)}(r,n,void 0,i)})(e,t||{})}},7561:function(e,t,r){var i=r(7990),n=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(n,""):e}},7990:function(e){var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},3279:function(e,t,r){var i=r(3218),n=r(7771),s=r(4841),a=Math.max,o=Math.min;e.exports=function(e,t,r){var l,u,c,h,d,f,A=0,p=!1,m=!1,B=!0;if("function"!=typeof e)throw TypeError("Expected a function");function g(t){var r=l,i=u;return l=u=void 0,A=t,h=e.apply(i,r)}function v(e){var r=e-f,i=e-A;return void 0===f||r>=t||r<0||m&&i>=c}function C(){var e,r,i,s=n();if(v(s))return y(s);d=setTimeout(C,(e=s-f,r=s-A,i=t-e,m?o(i,c-r):i))}function y(e){return(d=void 0,B&&l)?g(e):(l=u=void 0,h)}function b(){var e,r=n(),i=v(r);if(l=arguments,u=this,f=r,i){if(void 0===d)return A=e=f,d=setTimeout(C,t),p?g(e):h;if(m)return clearTimeout(d),d=setTimeout(C,t),g(f)}return void 0===d&&(d=setTimeout(C,t)),h}return t=s(t)||0,i(r)&&(p=!!r.leading,c=(m="maxWait"in r)?a(s(r.maxWait)||0,t):c,B="trailing"in r?!!r.trailing:B),b.cancel=function(){void 0!==d&&clearTimeout(d),A=0,l=f=u=d=void 0},b.flush=function(){return void 0===d?h:y(n())},b}},7771:function(e,t,r){var i=r(5639);e.exports=function(){return i.Date.now()}},3493:function(e,t,r){var i=r(3279),n=r(3218);e.exports=function(e,t,r){var s=!0,a=!0;if("function"!=typeof e)throw TypeError("Expected a function");return n(r)&&(s="leading"in r?!!r.leading:s,a="trailing"in r?!!r.trailing:a),i(e,t,{leading:s,maxWait:t,trailing:a})}},4841:function(e,t,r){var i=r(7561),n=r(3218),s=r(3448),a=0/0,o=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(s(e))return a;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var r=l.test(e);return r||u.test(e)?c(e.slice(2),r?2:8):o.test(e)?a:+e}},211:function(e,t,r){"use strict";function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.d(t,{Ui:function(){return eh}});var s,a,o,l,u,c,h,d,f,A,p,m,B,g,v,C,y,b,M,E,w,F,I,_,R,x=r(9477);function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}function G(e,t){if(e){if("string"==typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D(e,t)}}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,i,n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s=[],a=!0,o=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);a=!0);}catch(e){o=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(o)throw i}}return s}}(e,t)||G(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}new x.Vector2,new x.Vector2;var H=function e(t,r,n){var s=this;S(this,e),i(this,"dot2",function(e,t){return s.x*e+s.y*t}),i(this,"dot3",function(e,t,r){return s.x*e+s.y*t+s.z*r}),this.x=t,this.y=r,this.z=n},P=[new H(1,1,0),new H(-1,1,0),new H(1,-1,0),new H(-1,-1,0),new H(1,0,1),new H(-1,0,1),new H(1,0,-1),new H(-1,0,-1),new H(0,1,1),new H(0,-1,1),new H(0,1,-1),new H(0,-1,-1)],O=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],L=Array(512),J=Array(512);function U(e){var t=function(e){if("number"==typeof e)e=Math.abs(e);else if("string"==typeof e){var t=e;e=0;for(var r=0;r<t.length;r++)e=(e+t.charCodeAt(r)%96*(r+1))%2147483647}return 0===e&&(e=311),e}(e);return function(){var e=48271*t%2147483647;return t=e,e/2147483647}}!function(e){e>0&&e<1&&(e*=65536),(e=Math.floor(e))<256&&(e|=e<<8);for(var t,r=0;r<256;r++)t=1&r?O[r]^255&e:O[r]^e>>8&255,L[r]=L[r+256]=t,J[r]=J[r+256]=P[t%12]}(0),new function e(t){var r=this;S(this,e),i(this,"seed",0),i(this,"init",function(e){r.seed=e,r.value=U(e)}),i(this,"value",U(this.seed)),this.init(t)}(Math.random());var k=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)};function K(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.25,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.01,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1/0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:k,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:.001,l="velocity_"+t;if(void 0===e.__damp&&(e.__damp={}),void 0===e.__damp[l]&&(e.__damp[l]=0),Math.abs(e[t]-r)<=o)return e[t]=r,!1;var u=2/(i=Math.max(1e-4,i)),c=a(u*n),h=e[t]-r,d=r,f=s*i;h=Math.min(Math.max(h,-f),f),r=e[t]-h;var A=(e.__damp[l]+u*h)*n;e.__damp[l]=(e.__damp[l]-u*A)*c;var p=r+(h+A)*c;return d-e[t]>0==p>d&&(p=d,e.__damp[l]=(p-d)/n),e[t]=p,!0}var N=new x.Vector3,Q=new x.Quaternion,j=new x.Quaternion,X=new x.Matrix4,V=new x.Vector3;function W(e,t,r,i,n,s,a,o){var l,u,c,h;return K(e,t,e[t]+(c=(l=r-e[t])-Math.floor(l/(u=2*Math.PI))*u,(h=Math.max(0,Math.min(u,c)))>Math.PI&&(h-=2*Math.PI),h),i,n,s,a,o)}var Y=new x.Vector2,Z=new x.Vector3;function z(e,t,r,i,n,s,a){return"number"==typeof t?Z.setScalar(t):Array.isArray(t)?Z.set(t[0],t[1],t[2]):Z.copy(t),o=K(e,"x",Z.x,r,i,n,s,a),l=K(e,"y",Z.y,r,i,n,s,a),u=K(e,"z",Z.z,r,i,n,s,a),o||l||u}var q=new x.Vector4,$=new x.Euler,ee=new x.Color,et=new x.Quaternion,er=new x.Vector4,ei=new x.Vector4,en=new x.Vector4;function es(e,t,r,i,n,s,a){Array.isArray(t)?et.set(t[0],t[1],t[2],t[3]):et.copy(t);var o=e.dot(et)>0?1:-1;return et.x*=o,et.y*=o,et.z*=o,et.w*=o,C=K(e,"x",et.x,r,i,n,s,a),y=K(e,"y",et.y,r,i,n,s,a),b=K(e,"z",et.z,r,i,n,s,a),M=K(e,"w",et.w,r,i,n,s,a),er.set(e.x,e.y,e.z,e.w).normalize(),ei.set(e.__damp.velocity_x,e.__damp.velocity_y,e.__damp.velocity_z,e.__damp.velocity_w),en.copy(er).multiplyScalar(ei.dot(er)/er.dot(er)),e.__damp.velocity_x-=en.x,e.__damp.velocity_y-=en.y,e.__damp.velocity_z-=en.z,e.__damp.velocity_w-=en.w,e.set(er.x,er.y,er.z,er.w),C||y||b||M}var ea=new x.Spherical,eo=new x.Matrix4,el=new x.Vector3,eu=new x.Quaternion,ec=new x.Vector3,eh=Object.freeze({__proto__:null,rsqw:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/(2*Math.PI);return r/Math.atan(1/t)*Math.atan(Math.sin(2*Math.PI*e*i)/t)},exp:k,linear:function(e){return e},sine:{in:function(e){return 1-Math.cos(e*Math.PI/2)},out:function(e){return Math.sin(e*Math.PI/2)},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{in:function(e){return e*e*e},out:function(e){return 1-Math.pow(1-e,3)},inOut:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}},quint:{in:function(e){return e*e*e*e*e},out:function(e){return 1-Math.pow(1-e,5)},inOut:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2}},circ:{in:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},out:function(e){return Math.sqrt(1-Math.pow(e-1,2))},inOut:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2}},quart:{in:function(e){return e*e*e*e},out:function(e){return 1- --e*e*e*e},inOut:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e}},expo:{in:function(e){return 0===e?0:Math.pow(2,10*e-10)},out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},inOut:function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}},damp:K,dampLookAt:function(e,t,r,i,n,s,a){"number"==typeof t?N.setScalar(t):Array.isArray(t)?N.set(t[0],t[1],t[2]):N.copy(t);var o=e.parent;(e.updateWorldMatrix(!0,!1),V.setFromMatrixPosition(e.matrixWorld),e&&e.isCamera||e&&e.isLight)?X.lookAt(V,N,e.up):X.lookAt(N,V,e.up),es(e.quaternion,j.setFromRotationMatrix(X),r,i,n,s,a),o&&(X.extractRotation(o.matrixWorld),Q.setFromRotationMatrix(X),es(e.quaternion,j.copy(e.quaternion).premultiply(Q.invert()),r,i,n,s,a))},dampAngle:W,damp2:function(e,t,r,i,n,o,l){return"number"==typeof t?Y.setScalar(t):Array.isArray(t)?Y.set(t[0],t[1]):Y.copy(t),s=K(e,"x",Y.x,r,i,n,o,l),a=K(e,"y",Y.y,r,i,n,o,l),s||a},damp3:z,damp4:function(e,t,r,i,n,s,a){return"number"==typeof t?q.setScalar(t):Array.isArray(t)?q.set(t[0],t[1],t[2],t[3]):q.copy(t),c=K(e,"x",q.x,r,i,n,s,a),h=K(e,"y",q.y,r,i,n,s,a),d=K(e,"z",q.z,r,i,n,s,a),f=K(e,"w",q.w,r,i,n,s,a),c||h||d||f},dampE:function(e,t,r,i,n,s,a){return Array.isArray(t)?$.set(t[0],t[1],t[2],t[3]):$.copy(t),A=W(e,"x",$.x,r,i,n,s,a),p=W(e,"y",$.y,r,i,n,s,a),m=W(e,"z",$.z,r,i,n,s,a),A||p||m},dampC:function(e,t,r,i,n,s,a){return t instanceof x.Color?ee.copy(t):Array.isArray(t)?ee.setRGB(t[0],t[1],t[2]):ee.set(t),B=K(e,"r",ee.r,r,i,n,s,a),g=K(e,"g",ee.g,r,i,n,s,a),v=K(e,"b",ee.b,r,i,n,s,a),B||g||v},dampQ:es,dampS:function(e,t,r,i,n,s,a){return Array.isArray(t)?ea.set(t[0],t[1],t[2]):ea.copy(t),E=K(e,"radius",ea.radius,r,i,n,s,a),w=W(e,"phi",ea.phi,r,i,n,s,a),F=W(e,"theta",ea.theta,r,i,n,s,a),E||w||F},dampM:function(e,t,r,i,n,s,a){var o;return void 0===e.__damp&&(e.__damp={position:new x.Vector3,rotation:new x.Quaternion,scale:new x.Vector3},e.decompose(e.__damp.position,e.__damp.rotation,e.__damp.scale)),Array.isArray(t)?eo.set.apply(eo,function(e){if(Array.isArray(e))return D(e)}(o=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||G(o)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):eo.copy(t),eo.decompose(el,eu,ec),I=z(e.__damp.position,el,r,i,n,s,a),_=es(e.__damp.rotation,eu,r,i,n,s,a),R=z(e.__damp.scale,ec,r,i,n,s,a),e.compose(e.__damp.position,e.__damp.rotation,e.__damp.scale),I||_||R}});x.BufferGeometry},7485:function(e,t,r){"use strict";r.d(t,{Rt:function(){return l},r7:function(){return h},sP:function(){return d}});var i=r(9477),n=Object.defineProperty,s=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,a=(e,t,r)=>(s(e,"symbol"!=typeof t?t+"":t,r),r);function o(e,t,r,i,n){let s;if(e=e.subarray||e.slice?e:e.buffer,r=r.subarray||r.slice?r:r.buffer,e=t?e.subarray?e.subarray(t,n&&t+n):e.slice(t,n&&t+n):e,r.set)r.set(e,i);else for(s=0;s<e.length;s++)r[s+i]=e[s];return r}class l extends i.BufferGeometry{constructor(){super(),a(this,"type","MeshLine"),a(this,"isMeshLine",!0),a(this,"positions",[]),a(this,"previous",[]),a(this,"next",[]),a(this,"side",[]),a(this,"width",[]),a(this,"indices_array",[]),a(this,"uvs",[]),a(this,"counters",[]),a(this,"widthCallback",null),a(this,"_attributes"),a(this,"_points",[]),a(this,"points"),a(this,"matrixWorld",new i.Matrix4),Object.defineProperties(this,{points:{enumerable:!0,get(){return this._points},set(e){this.setPoints(e,this.widthCallback)}}})}setMatrixWorld(e){this.matrixWorld=e}setPoints(e,t){var r;if(e=(r=e)instanceof Float32Array?r:r instanceof i.BufferGeometry?r.getAttribute("position").array:r.map(e=>{let t=Array.isArray(e);return e instanceof i.Vector3?[e.x,e.y,e.z]:e instanceof i.Vector2?[e.x,e.y,0]:t&&3===e.length?[e[0],e[1],e[2]]:t&&2===e.length?[e[0],e[1],0]:e}).flat(),this._points=e,this.widthCallback=null!=t?t:null,this.positions=[],this.counters=[],e.length&&e[0]instanceof i.Vector3)for(let t=0;t<e.length;t++){let r=e[t],i=t/(e.length-1);this.positions.push(r.x,r.y,r.z),this.positions.push(r.x,r.y,r.z),this.counters.push(i),this.counters.push(i)}else for(let t=0;t<e.length;t+=3){let r=t/(e.length-1);this.positions.push(e[t],e[t+1],e[t+2]),this.positions.push(e[t],e[t+1],e[t+2]),this.counters.push(r),this.counters.push(r)}this.process()}compareV3(e,t){let r=6*e,i=6*t;return this.positions[r]===this.positions[i]&&this.positions[r+1]===this.positions[i+1]&&this.positions[r+2]===this.positions[i+2]}copyV3(e){let t=6*e;return[this.positions[t],this.positions[t+1],this.positions[t+2]]}process(){let e,t;let r=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],t=this.compareV3(0,r-1)?this.copyV3(r-2):[this.positions[0]-(this.positions[6]-this.positions[0]),this.positions[1]-(this.positions[7]-this.positions[1]),this.positions[2]-(this.positions[8]-this.positions[2])],this.previous.push(t[0],t[1],t[2]),this.previous.push(t[0],t[1],t[2]);for(let i=0;i<r;i++){if(this.side.push(1),this.side.push(-1),e=this.widthCallback?this.widthCallback(i/(r-1)):1,this.width.push(e),this.width.push(e),this.uvs.push(i/(r-1),0),this.uvs.push(i/(r-1),1),i<r-1){t=this.copyV3(i),this.previous.push(t[0],t[1],t[2]),this.previous.push(t[0],t[1],t[2]);let e=2*i;this.indices_array.push(e,e+1,e+2),this.indices_array.push(e+2,e+1,e+3)}i>0&&(t=this.copyV3(i),this.next.push(t[0],t[1],t[2]),this.next.push(t[0],t[1],t[2]))}t=this.compareV3(r-1,0)?this.copyV3(1):[this.positions[r-1]+(this.positions[r-1]-this.positions[r-1-6]),this.positions[r-2]+(this.positions[r-2]-this.positions[r-2-6]),this.positions[r-3]+(this.positions[r-3]-this.positions[r-3-6])],this.next.push(t[0],t[1],t[2]),this.next.push(t[0],t[1],t[2]),this._attributes&&this._attributes.position.count===this.counters.length?(this._attributes.position.copyArray(new Float32Array(this.positions)),this._attributes.position.needsUpdate=!0,this._attributes.previous.copyArray(new Float32Array(this.previous)),this._attributes.previous.needsUpdate=!0,this._attributes.next.copyArray(new Float32Array(this.next)),this._attributes.next.needsUpdate=!0,this._attributes.side.copyArray(new Float32Array(this.side)),this._attributes.side.needsUpdate=!0,this._attributes.width.copyArray(new Float32Array(this.width)),this._attributes.width.needsUpdate=!0,this._attributes.uv.copyArray(new Float32Array(this.uvs)),this._attributes.uv.needsUpdate=!0,this._attributes.index.copyArray(new Uint16Array(this.indices_array)),this._attributes.index.needsUpdate=!0):this._attributes={position:new i.BufferAttribute(new Float32Array(this.positions),3),previous:new i.BufferAttribute(new Float32Array(this.previous),3),next:new i.BufferAttribute(new Float32Array(this.next),3),side:new i.BufferAttribute(new Float32Array(this.side),1),width:new i.BufferAttribute(new Float32Array(this.width),1),uv:new i.BufferAttribute(new Float32Array(this.uvs),2),index:new i.BufferAttribute(new Uint16Array(this.indices_array),1),counters:new i.BufferAttribute(new Float32Array(this.counters),1)},this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setIndex(this._attributes.index),this.computeBoundingSphere(),this.computeBoundingBox()}advance({x:e,y:t,z:r}){let i=this._attributes.position.array,n=this._attributes.previous.array,s=this._attributes.next.array,a=i.length;o(i,0,n,0,a),o(i,6,i,0,a-6),i[a-6]=e,i[a-5]=t,i[a-4]=r,i[a-3]=e,i[a-2]=t,i[a-1]=r,o(i,6,s,0,a-6),s[a-6]=e,s[a-5]=t,s[a-4]=r,s[a-3]=e,s[a-2]=t,s[a-1]=r,this._attributes.position.needsUpdate=!0,this._attributes.previous.needsUpdate=!0,this._attributes.next.needsUpdate=!0}}let u=`
  #include <common>
  #include <logdepthbuf_pars_vertex>
  #include <fog_pars_vertex>

  attribute vec3 previous;
  attribute vec3 next;
  attribute float side;
  attribute float width;
  attribute float counters;
  
  uniform vec2 resolution;
  uniform float lineWidth;
  uniform vec3 color;
  uniform float opacity;
  uniform float sizeAttenuation;
  
  varying vec2 vUV;
  varying vec4 vColor;
  varying float vCounters;
  
  vec2 fix(vec4 i, float aspect) {
    vec2 res = i.xy / i.w;
    res.x *= aspect;
  	vCounters = counters;
    return res;
  }
  
  void main() {
    float aspect = resolution.x / resolution.y;
    vColor = vec4(color, opacity);
    vUV = uv;
  
    mat4 m = projectionMatrix * modelViewMatrix;
    vec4 finalPosition = m * vec4(position, 1.0);
    vec4 prevPos = m * vec4(previous, 1.0);
    vec4 nextPos = m * vec4(next, 1.0);
  
    vec2 currentP = fix(finalPosition, aspect);
    vec2 prevP = fix(prevPos, aspect);
    vec2 nextP = fix(nextPos, aspect);
  
    float w = lineWidth * width;
  
    vec2 dir1 = normalize(currentP - prevP);
    vec2 dir2 = normalize(nextP - currentP);
    vec2 dir = normalize(dir1 + dir2);

    vec2 perp = vec2(-dir1.y, dir1.x);
    vec2 miter = vec2(-dir.y, dir.x);
    //w = clamp(w / dot(miter, perp), 0., 4. * lineWidth * width);
  
    //vec2 normal = (cross(vec3(dir, 0.), vec3(0., 0., 1.))).xy;
    vec4 normal = vec4(-dir.y, dir.x, 0., 1.);
    normal.xy *= .5 * w;
    //normal *= projectionMatrix;
    if (sizeAttenuation == 0.) {
      normal.xy *= finalPosition.w;
      normal.xy /= (vec4(resolution, 0., 1.) * projectionMatrix).xy;
    }
  
    finalPosition.xy += normal.xy * side;
    gl_Position = finalPosition;
    #include <logdepthbuf_vertex>
    #include <fog_vertex>
    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
    #include <fog_vertex>
  }
`,c=`
  #include <fog_pars_fragment>
  #include <logdepthbuf_pars_fragment>
  
  uniform sampler2D map;
  uniform sampler2D alphaMap;
  uniform float useGradient;
  uniform float useMap;
  uniform float useAlphaMap;
  uniform float useDash;
  uniform float dashArray;
  uniform float dashOffset;
  uniform float dashRatio;
  uniform float visibility;
  uniform float alphaTest;
  uniform vec2 repeat;
  uniform vec3 gradient[2];
  
  varying vec2 vUV;
  varying vec4 vColor;
  varying float vCounters;
  
  void main() {
    #include <logdepthbuf_fragment>
    vec4 c = vColor;
    if (useGradient == 1.) c = vec4(mix(gradient[0], gradient[1], vCounters), 1.0);
    if (useMap == 1.) c *= texture2D(map, vUV * repeat);
    if (useAlphaMap == 1.) c.a *= texture2D(alphaMap, vUV * repeat).a;
    if (c.a < alphaTest) discard;
    if (useDash == 1.) {
      c.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));
    }
    gl_FragColor = c;
    gl_FragColor.a *= step(vCounters, visibility);
    #include <fog_fragment>
    #include <tonemapping_fragment>
    #include <encodings_fragment>
  }
`;class h extends i.ShaderMaterial{constructor(e){super({uniforms:{...i.UniformsLib.fog,lineWidth:{value:1},map:{value:null},useMap:{value:0},alphaMap:{value:null},useAlphaMap:{value:0},color:{value:new i.Color(16777215)},gradient:{value:[new i.Color(16711680),new i.Color(65280)]},opacity:{value:1},resolution:{value:new i.Vector2(1,1)},sizeAttenuation:{value:1},dashArray:{value:0},dashOffset:{value:0},dashRatio:{value:.5},useDash:{value:0},useGradient:{value:0},visibility:{value:1},alphaTest:{value:0},repeat:{value:new i.Vector2(1,1)}},vertexShader:u,fragmentShader:c}),a(this,"lineWidth"),a(this,"map"),a(this,"useMap"),a(this,"alphaMap"),a(this,"useAlphaMap"),a(this,"color"),a(this,"gradient"),a(this,"resolution"),a(this,"sizeAttenuation"),a(this,"dashArray"),a(this,"dashOffset"),a(this,"dashRatio"),a(this,"useDash"),a(this,"useGradient"),a(this,"visibility"),a(this,"repeat"),this.type="MeshLineMaterial",Object.defineProperties(this,{lineWidth:{enumerable:!0,get(){return this.uniforms.lineWidth.value},set(e){this.uniforms.lineWidth.value=e}},map:{enumerable:!0,get(){return this.uniforms.map.value},set(e){this.uniforms.map.value=e}},useMap:{enumerable:!0,get(){return this.uniforms.useMap.value},set(e){this.uniforms.useMap.value=e}},alphaMap:{enumerable:!0,get(){return this.uniforms.alphaMap.value},set(e){this.uniforms.alphaMap.value=e}},useAlphaMap:{enumerable:!0,get(){return this.uniforms.useAlphaMap.value},set(e){this.uniforms.useAlphaMap.value=e}},color:{enumerable:!0,get(){return this.uniforms.color.value},set(e){this.uniforms.color.value=e}},gradient:{enumerable:!0,get(){return this.uniforms.gradient.value},set(e){this.uniforms.gradient.value=e}},opacity:{enumerable:!0,get(){return this.uniforms.opacity.value},set(e){this.uniforms.opacity.value=e}},resolution:{enumerable:!0,get(){return this.uniforms.resolution.value},set(e){this.uniforms.resolution.value.copy(e)}},sizeAttenuation:{enumerable:!0,get(){return this.uniforms.sizeAttenuation.value},set(e){this.uniforms.sizeAttenuation.value=e}},dashArray:{enumerable:!0,get(){return this.uniforms.dashArray.value},set(e){this.uniforms.dashArray.value=e,this.useDash=0!==e?1:0}},dashOffset:{enumerable:!0,get(){return this.uniforms.dashOffset.value},set(e){this.uniforms.dashOffset.value=e}},dashRatio:{enumerable:!0,get(){return this.uniforms.dashRatio.value},set(e){this.uniforms.dashRatio.value=e}},useDash:{enumerable:!0,get(){return this.uniforms.useDash.value},set(e){this.uniforms.useDash.value=e}},useGradient:{enumerable:!0,get(){return this.uniforms.useGradient.value},set(e){this.uniforms.useGradient.value=e}},visibility:{enumerable:!0,get(){return this.uniforms.visibility.value},set(e){this.uniforms.visibility.value=e}},alphaTest:{enumerable:!0,get(){return this.uniforms.alphaTest.value},set(e){this.uniforms.alphaTest.value=e}},repeat:{enumerable:!0,get(){return this.uniforms.repeat.value},set(e){this.uniforms.repeat.value.copy(e)}}}),this.setValues(e)}copy(e){return super.copy(e),this.lineWidth=e.lineWidth,this.map=e.map,this.useMap=e.useMap,this.alphaMap=e.alphaMap,this.useAlphaMap=e.useAlphaMap,this.color.copy(e.color),this.gradient=e.gradient,this.opacity=e.opacity,this.resolution.copy(e.resolution),this.sizeAttenuation=e.sizeAttenuation,this.dashArray=e.dashArray,this.dashOffset=e.dashOffset,this.dashRatio=e.dashRatio,this.useDash=e.useDash,this.useGradient=e.useGradient,this.visibility=e.visibility,this.alphaTest=e.alphaTest,this.repeat.copy(e.repeat),this}}function d(e,t){let r=new i.Matrix4,n=new i.Ray,s=new i.Sphere,a=new i.Vector3,o=this.geometry;if(s.copy(o.boundingSphere),s.applyMatrix4(this.matrixWorld),!e.ray.intersectSphere(s,a))return;r.copy(this.matrixWorld).invert(),n.copy(e.ray).applyMatrix4(r);let l=new i.Vector3,u=new i.Vector3,c=new i.Vector3,h=this instanceof i.LineSegments?2:1,d=o.index,f=o.attributes;if(null!==d){let r=d.array,i=f.position.array,s=f.width.array;for(let o=0,d=r.length-1;o<d;o+=h){let h=r[o],f=r[o+1];l.fromArray(i,3*h),u.fromArray(i,3*f);let A=void 0!=s[Math.floor(o/3)]?s[Math.floor(o/3)]:1,p=e.params.Line.threshold+this.material.lineWidth*A/2,m=p*p;if(n.distanceSqToSegment(l,u,a,c)>m)continue;a.applyMatrix4(this.matrixWorld);let B=e.ray.origin.distanceTo(a);B<e.near||B>e.far||(t.push({distance:B,point:c.clone().applyMatrix4(this.matrixWorld),index:o,face:null,faceIndex:void 0,object:this}),o=d)}}}},6680:function(e,t,r){"use strict";r.d(t,{T:function(){return l},w:function(){return o}});var i=r(9477),n=Object.defineProperty,s=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,a=(e,t,r)=>(s(e,"symbol"!=typeof t?t+"":t,r),r);class o{constructor(){a(this,"enabled",!0),a(this,"needsSwap",!0),a(this,"clear",!1),a(this,"renderToScreen",!1)}setSize(e,t){}render(e,t,r,i,n){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}class l{constructor(e){a(this,"camera",new i.OrthographicCamera(-1,1,1,-1,0,1)),a(this,"geometry",new i.PlaneGeometry(2,2)),a(this,"mesh"),this.mesh=new i.Mesh(this.geometry,e)}get material(){return this.mesh.material}set material(e){this.mesh.material=e}dispose(){this.mesh.geometry.dispose()}render(e){e.render(this.mesh,this.camera)}}},6103:function(e,t,r){"use strict";r.d(t,{T:function(){return l}});var i=r(9477),n=r(6680),s=Object.defineProperty,a=(e,t,r)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,o=(e,t,r)=>(a(e,"symbol"!=typeof t?t+"":t,r),r);class l extends n.w{constructor(e,t="tDiffuse"){super(),o(this,"textureID"),o(this,"uniforms"),o(this,"material"),o(this,"fsQuad"),this.textureID=t,e instanceof i.ShaderMaterial?(this.uniforms=e.uniforms,this.material=e):(this.uniforms=i.UniformsUtils.clone(e.uniforms),this.material=new i.ShaderMaterial({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new n.T(this.material)}render(e,t,r){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=r.texture),this.fsQuad.material=this.material,this.renderToScreen?e.setRenderTarget(null):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil)),this.fsQuad.render(e)}}},5914:function(e,t,r){"use strict";r.d(t,{C:function(){return i}});let i={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:"varying vec2 vUv;\nvoid main() {\n	vUv = uv;\n	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform float opacity;\nuniform sampler2D tDiffuse;\nvarying vec2 vUv;\nvoid main() {\n	vec4 texel = texture2D( tDiffuse, vUv );\n	gl_FragColor = opacity * texel;\n}"}}}]);