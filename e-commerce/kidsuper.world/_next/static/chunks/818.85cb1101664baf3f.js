(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[818],{533:function(e,t,r){"use strict";r.d(t,{A:function(){return s}});var i=r(7294),n=r(793);let o=(0,i.createContext)(null);function s({iterations:e=10,ms:t=250,threshold:r=.75,step:s=.1,factor:l=.5,flipflops:a=1/0,bounds:c=e=>e>100?[60,100]:[40,60],onIncline:u,onDecline:d,onChange:p,onFallback:h,children:f}){let[g,m]=(0,i.useState)(()=>({fps:0,index:0,factor:l,flipped:0,refreshrate:0,fallback:!1,frames:[],averages:[],subscriptions:new Map,subscribe:e=>{let t=Symbol();return g.subscriptions.set(t,e.current),()=>void g.subscriptions.delete(t)}})),x=0;return(0,n.C)(()=>{let{frames:i,averages:n}=g;if(!g.fallback&&n.length<e){i.push(performance.now());let o=i[i.length-1]-i[0];if(o>=t){if(g.fps=Math.round(i.length/o*1e3)/1,g.refreshrate=Math.max(g.refreshrate,g.fps),n[g.index++%e]=g.fps,n.length===e){let[t,i]=c(g.refreshrate),o=n.filter(e=>e>=i),l=n.filter(e=>e<t);o.length>e*r&&(g.factor=Math.min(1,g.factor+s),g.flipped++,u&&u(g),g.subscriptions.forEach(e=>e.onIncline&&e.onIncline(g))),l.length>e*r&&(g.factor=Math.max(0,g.factor-s),g.flipped++,d&&d(g),g.subscriptions.forEach(e=>e.onDecline&&e.onDecline(g))),x!==g.factor&&(x=g.factor,p&&p(g),g.subscriptions.forEach(e=>e.onChange&&e.onChange(g))),g.flipped>a&&!g.fallback&&(g.fallback=!0,h&&h(g),g.subscriptions.forEach(e=>e.onFallback&&e.onFallback(g))),g.averages=[]}g.frames=[]}}}),i.createElement(o.Provider,{value:g},f)}},5029:function(e,t,r){"use strict";r.d(t,{Xz:function(){return I}});var i=r(793),n=r(7462),o=r(7294),s=r(9477),l=r(296),a=r.n(l);let c=["x","y","top","bottom","left","right","width","height"],u=(e,t)=>c.every(r=>e[r]===t[r]);var d=Object.defineProperty,p=Object.defineProperties,h=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,x=(e,t,r)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,b=(e,t)=>{for(var r in t||(t={}))g.call(t,r)&&x(e,r,t[r]);if(f)for(var r of f(t))m.call(t,r)&&x(e,r,t[r]);return e},v=(e,t)=>p(e,h(t));function y(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}let j=y(o.createContext(null));class S extends o.Component{render(){return o.createElement(j.Provider,{value:this._reactInternals},this.props.children)}}let{ReactCurrentOwner:w,ReactCurrentDispatcher:k}=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;r(2576),r(6525),r(3840);let E={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function C(e){let{handlePointer:t}=(0,i.c)(e);return{priority:1,enabled:!0,compute(e,t,r){t.pointer.set(e.offsetX/t.size.width*2-1,-(e.offsetY/t.size.height*2)+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(E).reduce((e,r)=>({...e,[r]:t(r)}),{}),update:()=>{var t;let{events:r,internal:i}=e.getState();null!=(t=i.lastEvent)&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;let{set:i,events:n}=e.getState();null==n.disconnect||n.disconnect(),i(e=>({events:{...e.events,connected:t}})),Object.entries(null!=(r=n.handlers)?r:[]).forEach(([e,r])=>{let[i,n]=E[e];t.addEventListener(i,r,{passive:n})})},disconnect:()=>{let{set:t,events:r}=e.getState();if(r.connected){var i;Object.entries(null!=(i=r.handlers)?i:[]).forEach(([e,t])=>{if(r&&r.connected instanceof HTMLElement){let[i]=E[e];r.connected.removeEventListener(i,t)}}),t(e=>({events:{...e.events,connected:void 0}}))}}}}let M=o.forwardRef(function({children:e,fallback:t,resize:r,style:l,gl:c,events:d=C,eventSource:p,eventPrefix:h,shadows:f,linear:g,flat:m,legacy:x,orthographic:E,frameloop:M,dpr:I,performance:z,raycaster:R,camera:A,scene:L,onPointerMissed:B,onCreated:P,...O},$){o.useMemo(()=>(0,i.e)(s),[]);let T=function(){let e=function(){var e,t;let r=function(){let e=o.useContext(j);if(null===e)throw Error("its-fine: useFiber must be called within a <FiberProvider />!");let t=o.useId();return o.useMemo(()=>{for(let r of[null==w?void 0:w.current,e,null==e?void 0:e.alternate]){if(!r)continue;let e=function e(t,r,i){if(!t)return;if(!0===i(t))return t;let n=r?t.return:t.child;for(;n;){let t=e(n,r,i);if(t)return t;n=r?null:n.sibling}}(r,!1,e=>{let r=e.memoizedState;for(;r;){if(r.memoizedState===t)return!0;r=r.next}});if(e)return e}},[e,t])}(),[i]=o.useState(()=>new Map);i.clear();let n=r;for(;n;){let r=null==(e=n.type)?void 0:e._context;r&&r!==j&&!i.has(r)&&i.set(r,null==(t=null==k?void 0:k.current)?void 0:t.readContext(y(r))),n=n.return}return i}();return o.useMemo(()=>Array.from(e.keys()).reduce((t,r)=>i=>o.createElement(t,null,o.createElement(r.Provider,v(b({},i),{value:e.get(r)}))),e=>o.createElement(S,b({},e))),[e])}(),[_,W]=function(e){var t;let{debounce:r,scroll:i,polyfill:n,offsetSize:s}=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,l=n||("undefined"==typeof window?class{}:window.ResizeObserver);if(!l)throw Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[c,d]=(0,o.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),p=(0,o.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:c}),h=r?"number"==typeof r?r:r.scroll:null,f=r?"number"==typeof r?r:r.resize:null,g=(0,o.useRef)(!1);(0,o.useEffect)(()=>(g.current=!0,()=>void(g.current=!1)));let[m,x,b]=(0,o.useMemo)(()=>{let e=()=>{if(!p.current.element)return;let{left:e,top:t,width:r,height:i,bottom:n,right:o,x:l,y:a}=p.current.element.getBoundingClientRect(),c={left:e,top:t,width:r,height:i,bottom:n,right:o,x:l,y:a};p.current.element instanceof HTMLElement&&s&&(c.height=p.current.element.offsetHeight,c.width=p.current.element.offsetWidth),Object.freeze(c),g.current&&!u(p.current.lastBounds,c)&&d(p.current.lastBounds=c)};return[e,f?a()(e,f):e,h?a()(e,h):e]},[d,s,h,f]);function v(){p.current.scrollContainers&&(p.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",b,!0)),p.current.scrollContainers=null),p.current.resizeObserver&&(p.current.resizeObserver.disconnect(),p.current.resizeObserver=null)}function y(){p.current.element&&(p.current.resizeObserver=new l(b),p.current.resizeObserver.observe(p.current.element),i&&p.current.scrollContainers&&p.current.scrollContainers.forEach(e=>e.addEventListener("scroll",b,{capture:!0,passive:!0})))}return t=!!i,(0,o.useEffect)(()=>{if(t)return window.addEventListener("scroll",b,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",b,!0)},[b,t]),(0,o.useEffect)(()=>(window.addEventListener("resize",x),()=>void window.removeEventListener("resize",x)),[x]),(0,o.useEffect)(()=>{v(),y()},[i,b,x]),(0,o.useEffect)(()=>v,[]),[e=>{e&&e!==p.current.element&&(v(),p.current.element=e,p.current.scrollContainers=function e(t){let r=[];if(!t||t===document.body)return r;let{overflow:i,overflowX:n,overflowY:o}=window.getComputedStyle(t);return[i,n,o].some(e=>"auto"===e||"scroll"===e)&&r.push(t),[...r,...e(t.parentElement)]}(e),y())},c,m]}({scroll:!0,debounce:{scroll:50,resize:0},...r}),F=o.useRef(null),D=o.useRef(null);o.useImperativeHandle($,()=>F.current);let U=(0,i.u)(B),[G,N]=o.useState(!1),[H,X]=o.useState(!1);if(G)throw G;if(H)throw H;let Y=o.useRef(null);(0,i.a)(()=>{let t=F.current;W.width>0&&W.height>0&&t&&(Y.current||(Y.current=(0,i.b)(t)),Y.current.configure({gl:c,events:d,shadows:f,linear:g,flat:m,legacy:x,orthographic:E,frameloop:M,dpr:I,performance:z,raycaster:R,camera:A,scene:L,size:W,onPointerMissed:(...e)=>null==U.current?void 0:U.current(...e),onCreated:e=>{null==e.events.connect||e.events.connect(p?(0,i.i)(p)?p.current:p:D.current),h&&e.setEvents({compute:(e,t)=>{let r=e[h+"X"],i=e[h+"Y"];t.pointer.set(r/t.size.width*2-1,-(i/t.size.height*2)+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==P||P(e)}}),Y.current.render(o.createElement(T,null,o.createElement(i.E,{set:X},o.createElement(o.Suspense,{fallback:o.createElement(i.B,{set:N})},e)))))}),o.useEffect(()=>{let e=F.current;if(e)return()=>(0,i.d)(e)},[]);let q=p?"none":"auto";return o.createElement("div",(0,n.Z)({ref:D,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:q,...l}},O),o.createElement("div",{ref:_,style:{width:"100%",height:"100%"}},o.createElement("canvas",{ref:F,style:{display:"block"}},t)))}),I=o.forwardRef(function(e,t){return o.createElement(S,null,o.createElement(M,(0,n.Z)({},e,{ref:t})))})},7284:function(e){"use strict";var t=Object.prototype.hasOwnProperty,r="~";function i(){}function n(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,i,o,s){if("function"!=typeof i)throw TypeError("The listener must be a function");var l=new n(i,o||e,s),a=r?r+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],l]:e._events[a].push(l):(e._events[a]=l,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function l(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1)),l.prototype.eventNames=function(){var e,i,n=[];if(0===this._eventsCount)return n;for(i in e=this._events)t.call(e,i)&&n.push(r?i.slice(1):i);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},l.prototype.listeners=function(e){var t=r?r+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,o=i.length,s=Array(o);n<o;n++)s[n]=i[n].fn;return s},l.prototype.listenerCount=function(e){var t=r?r+e:e,i=this._events[t];return i?i.fn?1:i.length:0},l.prototype.emit=function(e,t,i,n,o,s){var l=r?r+e:e;if(!this._events[l])return!1;var a,c,u=this._events[l],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,i),!0;case 4:return u.fn.call(u.context,t,i,n),!0;case 5:return u.fn.call(u.context,t,i,n,o),!0;case 6:return u.fn.call(u.context,t,i,n,o,s),!0}for(c=1,a=Array(d-1);c<d;c++)a[c-1]=arguments[c];u.fn.apply(u.context,a)}else{var p,h=u.length;for(c=0;c<h;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,i);break;case 4:u[c].fn.call(u[c].context,t,i,n);break;default:if(!a)for(p=1,a=Array(d-1);p<d;p++)a[p-1]=arguments[p];u[c].fn.apply(u[c].context,a)}}return!0},l.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},l.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},l.prototype.removeListener=function(e,t,i,n){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var l=this._events[o];if(l.fn)l.fn!==t||n&&!l.once||i&&l.context!==i||s(this,o);else{for(var a=0,c=[],u=l.length;a<u;a++)(l[a].fn!==t||n&&!l[a].once||i&&l[a].context!==i)&&c.push(l[a]);c.length?this._events[o]=1===c.length?c[0]:c:s(this,o)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&s(this,t)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l},296:function(e){function t(e,t,r){function i(){var c=Date.now()-l;c<t&&c>=0?n=setTimeout(i,t-c):(n=null,r||(a=e.apply(s,o),s=o=null))}null==t&&(t=100);var n,o,s,l,a,c=function(){s=this,o=arguments,l=Date.now();var c=r&&!n;return n||(n=setTimeout(i,t)),c&&(a=e.apply(s,o),s=o=null),a};return c.clear=function(){n&&(clearTimeout(n),n=null)},c.flush=function(){n&&(a=e.apply(s,o),s=o=null,clearTimeout(n),n=null)},c}t.debounce=t,e.exports=t},5439:function(e,t,r){"use strict";r.d(t,{I:function(){return td},B:function(){return ti}});var i=r(5893),n=r(7294),o=r(793),s=r(9477);let l=e=>{let t;let r=new Set,i=(e,i)=>{let n="function"==typeof e?e(t):e;if(!Object.is(n,t)){let e=t;t=(null!=i?i:"object"!=typeof n)?n:Object.assign({},t,n),r.forEach(r=>r(t,e))}},n=()=>t,o={setState:i,getState:n,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>r.clear()};return t=e(i,n,o),o},a=e=>e?l(e):l,{useSyncExternalStoreWithSelector:c}=r(2798),u=e=>{let t="function"==typeof e?a(e):e,r=(e,r)=>(function(e,t=e.getState,r){let i=c(e.subscribe,e.getState,e.getServerState||e.getState,t,r);return(0,n.useDebugValue)(i),i})(t,e,r);return Object.assign(r,t),r};function d(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(let[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;return!0}let r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!Object.is(e[r[i]],t[r[i]]))return!1;return!0}let p=(L=(e,t)=>({log:null,paused:!1,triggerProgramsUpdate:0,startTime:0,customData:0,fpsLimit:60,overclockingFps:!1,accumulated:{totalFrames:0,gl:{calls:0,triangles:0,points:0,lines:0,counts:0},log:{gpu:0,cpu:0,mem:0,fps:0},max:{gl:{calls:0,triangles:0,points:0,lines:0,counts:0},log:{gpu:0,cpu:0,mem:0,fps:0}}},chart:{data:{fps:[],cpu:[],gpu:[],mem:[]},circularId:0},gl:void 0,objectWithMaterials:null,scene:void 0,programs:new Map,sceneLength:void 0,tab:"infos",getReport:function(){var e;let{accumulated:r,startTime:i,infos:n}=t(),o=null==(e=t().log)?void 0:e.maxMemory,{totalFrames:s,log:l,gl:a,max:c}=r,u={calls:a.calls/s,triangles:a.triangles/s,points:a.points/s,lines:a.lines/s},d={gpu:l.gpu/s,cpu:l.cpu/s,mem:l.mem/s,fps:l.fps/s};return{sessionTime:(window.performance.now()-i)/1e3,infos:n,log:d,gl:u,max:c,maxMemory:o,totalFrames:s}}}))?u(L):u,h=e=>p(e,d);Object.assign(h,p);let{getState:f,setState:g}=p,m={value:0,fpsLimit:60,isOverLimit:0},x=e=>(null==e?void 0:e.reduce((e,t)=>e+t,0))/e.length;class b{constructor(e={}){this.names=[""],this.finished=[],this.paused=!1,this.overClock=!1,this.queryHasResult=!1,this.queryCreated=!1,this.isWebGL2=!0,this.memAccums=[],this.gpuAccums=[],this.activeAccums=[],this.logsAccums={mem:[],gpu:[],cpu:[],fps:[],fpsFixed:[]},this.fpsChart=[],this.gpuChart=[],this.cpuChart=[],this.memChart=[],this.paramLogger=()=>{},this.glFinish=()=>{},this.chartLogger=()=>{},this.chartLen=60,this.logsPerSecond=10,this.maxMemory=1500,this.chartHz=10,this.startCpuProfiling=!1,this.lastCalculateFixed=0,this.chartFrame=0,this.gpuTimeProcess=0,this.chartTime=0,this.activeQueries=0,this.circularId=0,this.detected=0,this.frameId=0,this.rafId=0,this.idleCbId=0,this.checkQueryId=0,this.uuid=void 0,this.currentCpu=0,this.currentMem=0,this.paramFrame=0,this.paramTime=0,this.now=()=>{},this.t0=0,window.GLPerf=window.GLPerf||{},Object.assign(this,e),this.fpsChart=Array(this.chartLen).fill(0),this.gpuChart=Array(this.chartLen).fill(0),this.cpuChart=Array(this.chartLen).fill(0),this.memChart=Array(this.chartLen).fill(0),this.now=()=>window.performance&&window.performance.now?window.performance.now():Date.now(),this.initGpu(),this.is120hz()}initGpu(){this.uuid=s.MathUtils.generateUUID(),this.gl&&(this.isWebGL2=!0,this.extension||(this.extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")),null===this.extension&&(this.isWebGL2=!1))}is120hz(){let e=0,t=r=>{++e<20?this.rafId=window.requestAnimationFrame(t):(this.detected=Math.ceil(1e3*e/(r-this.t0)/70),window.cancelAnimationFrame(this.rafId)),this.t0||(this.t0=r)};this.rafId=window.requestAnimationFrame(t)}addUI(e){-1===this.names.indexOf(e)&&(this.names.push(e),this.gpuAccums.push(0),this.activeAccums.push(!1))}nextFps(e){let t=1e3/60-e.timeRemaining(),r=1e3/60*m.fpsLimit/10/t;!(r<0)&&(m.value=r,m.isOverLimit<25?m.isOverLimit++:g({overclockingFps:!0}))}nextFrame(e){this.frameId++;let t=e||this.now(),r=t-this.paramTime,i=0;if(this.frameId<=1)this.paramFrame=this.frameId,this.paramTime=t;else if(t>=this.paramTime){this.maxMemory=window.performance.memory?window.performance.memory.jsHeapSizeLimit/1048576:0;let n=this.frameId-this.paramFrame,o=1e3*n/r,s=f().overclockingFps?m.value:o;if(i=this.isWebGL2?this.gpuAccums[0]:this.gpuAccums[0]/r,this.isWebGL2?this.gpuAccums[0]=0:Promise.all(this.finished).then(()=>{this.gpuAccums[0]=0,this.finished=[]}),this.currentMem=Math.round(window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize/1048576:0),window.performance&&this.startCpuProfiling){window.performance.mark("cpu-finished");let e=performance.measure("cpu-duration","cpu-started","cpu-finished");this.currentCpu=e.duration,this.logsAccums.cpu.push(this.currentCpu),this.startCpuProfiling=!1}this.logsAccums.mem.push(this.currentMem),this.logsAccums.fpsFixed.push(o),this.logsAccums.fps.push(s),this.logsAccums.gpu.push(i),this.overClock&&void 0!==window.requestIdleCallback&&(m.isOverLimit>0&&s>o?m.isOverLimit--:f().overclockingFps&&g({overclockingFps:!1})),t>=this.paramTime+1e3/this.logsPerSecond&&(this.paramLogger({cpu:x(this.logsAccums.cpu),gpu:x(this.logsAccums.gpu),mem:x(this.logsAccums.mem),fps:x(this.logsAccums.fps),duration:Math.round(r),maxMemory:this.maxMemory,frameCount:n}),this.logsAccums.mem=[],this.logsAccums.fps=[],this.logsAccums.gpu=[],this.logsAccums.cpu=[],this.paramFrame=this.frameId,this.paramTime=t),this.overClock&&t-this.lastCalculateFixed>=2e3&&(this.lastCalculateFixed=e,m.fpsLimit=100*Math.round(x(this.logsAccums.fpsFixed)/10),g({fpsLimit:m.fpsLimit/10}),this.logsAccums.fpsFixed=[],this.paramFrame=this.frameId,this.paramTime=t)}if(this.detected&&this.chartFrame){let e=t-this.chartTime,i=this.chartHz*e/1e3;for(;--i>0&&this.detected;){let i=(this.frameId-this.chartFrame)/e*1e3,n=f().overclockingFps?m.value:i;this.fpsChart[this.circularId%this.chartLen]=n;let o=1e3/this.currentMem,s=this.currentCpu,l=(this.isWebGL2?2*this.gpuAccums[1]:Math.round(this.gpuAccums[1]/r*100))+4;l>0&&(this.gpuChart[this.circularId%this.chartLen]=l),s>0&&(this.cpuChart[this.circularId%this.chartLen]=s),o>0&&(this.memChart[this.circularId%this.chartLen]=o);for(let e=0;e<this.names.length;e++)this.chartLogger({i:e,data:{fps:this.fpsChart,gpu:this.gpuChart,cpu:this.cpuChart,mem:this.memChart},circularId:this.circularId});this.circularId++,this.chartFrame=this.frameId,this.chartTime=t}}else this.chartFrame=this.frameId,this.chartTime=t,this.circularId=0}startGpu(){let e=this.gl,t=this.extension;if(e&&t&&this.isWebGL2){let r,i=!1;if(this.query){this.queryHasResult=!1;let n=this.query;if(i=e.getQueryParameter(n,e.QUERY_RESULT_AVAILABLE),r=e.getParameter(t.GPU_DISJOINT_EXT),i&&!r){let t=1e-6*e.getQueryParameter(this.query,e.QUERY_RESULT);(i||r)&&(e.deleteQuery(this.query),n=null),i&&t>0&&!r&&this.activeAccums.forEach((e,r)=>{this.gpuAccums[r]=t})}}(i||!this.query)&&(this.queryCreated=!0,this.query=e.createQuery(),e.beginQuery(t.TIME_ELAPSED_EXT,this.query))}}endGpu(){let e=this.extension,t=this.gl;this.isWebGL2&&this.queryCreated&&t.getQuery(e.TIME_ELAPSED_EXT,t.CURRENT_QUERY)&&t.endQuery(e.TIME_ELAPSED_EXT)}begin(e){this.startGpu(),this.updateAccums(e)}end(e){this.endGpu(),this.updateAccums(e)}updateAccums(e){let t=this.names.indexOf(e);-1===t&&(t=this.names.length,this.addUI(e));let r=this.now();this.activeAccums[t]=!this.activeAccums[t],this.t0=r}}let v=e=>{e.forEach((e,t)=>{let{meshes:r}=e;if(!r)return;let i={total:0,type:"Triangle",data:[]};Object.keys(r).forEach(e=>{let t=r[e],{geometry:n,material:o}=t,s=n.index,l=n.attributes.position;if(!l)return;let a=1;!0===o.wireframe&&(a=0);let c=null!==s?s.count:l.count,u=n.drawRange.start*a,d=n.drawRange.count*a,p=1,h=t.count||1,f="Triangle",g=0;t.isMesh?!0===o.wireframe?(f="Line",p/=2):(f="Triangle",p/=3):t.isLine?(f="Line",t.isLineSegments?p/=2:t.isLineLoop||(p-=1)):t.isPoints?f="Point":t.isSprite&&(f="Triangle",p/=3);let m=Math.round(p*h*Math.max(0,Math.min(c,u+d)-1-u+1));m>g&&(g=m,i.type=f),i.total+=m,i.data.push({drawCount:m,type:f}),t.userData.drawCount={type:f,count:m}}),e.drawCounts=i})},y=new(r(7284)),j=s.Object3D.prototype.updateMatrixWorld,S=s.Object3D.prototype.updateWorldMatrix,w=s.Object3D.prototype.updateMatrix,k=["calls","triangles","points","lines"],E=["gpu","cpu","mem","fps"],C={value:0},M={value:0},I=e=>{let t=""+e;return null!==(t=t.match("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"))},z=(e,t)=>{e.defines||(e.defines={}),e.defines&&!e.defines.muiPerf&&(e.defines=Object.assign(e.defines||{},{muiPerf:e.uuid}));let r=e.uuid;return t[r]||(t[r]={meshes:{},material:e},e.needsUpdate=!0),e.needsUpdate=!1,r},R=e=>"muiPerf"===e,A=({overClock:e,logsPerSecond:t,chart:r,deepAnalyze:i,matrixUpdate:l})=>{let{gl:a,scene:c}=(0,o.A)();g({gl:a,scene:c});let u=(0,n.useMemo)(()=>{let i=new b({trackGPU:!0,overClock:e,chartLen:r?r.length:120,chartHz:r?r.hz:60,logsPerSecond:t||10,gl:a.getContext(),chartLogger:e=>{g({chart:e})},paramLogger:e=>{var t;let r={maxMemory:e.maxMemory,gpu:e.gpu,cpu:e.cpu,mem:e.mem,fps:e.fps,totalTime:e.duration,frameCount:e.frameCount};g({log:r});let{accumulated:i}=f(),n=a.info.render;i.totalFrames++,i.gl.calls+=n.calls,i.gl.triangles+=n.triangles,i.gl.points+=n.points,i.gl.lines+=n.lines,i.log.gpu+=e.gpu,i.log.cpu+=e.cpu,i.log.mem+=e.mem,i.log.fps+=e.fps;for(let e=0;e<k.length;e++){let t=k[e],r=n[t];r>i.max.gl[t]&&(i.max.gl[t]=r)}for(let t=0;t<E.length;t++){let r=E[t],n=e[r];n>i.max.log[r]&&(i.max.log[r]=n)}g({accumulated:i}),t=[r,a],y.emit("log",t)}}),n=a.getContext(),o=null,l=null,c=n.getExtension("WEBGL_debug_renderer_info"),u=n.getParameter(n.VERSION);null!=c&&(o=n.getParameter(c.UNMASKED_RENDERER_WEBGL),l=n.getParameter(c.UNMASKED_VENDOR_WEBGL)),l||(l="Unknown vendor"),o||(o=n.getParameter(n.RENDERER)),g({startTime:window.performance.now(),infos:{version:u,renderer:o,vendor:l}});let d=new Map,p=new Map;return Object.defineProperty(s.Scene.prototype,"onBeforeRender",{get(){return(...e)=>{var t;i&&i.begin("profiler"),null==(t=d.get(this))||t(...e)}},set(e){d.set(this,e)},configurable:!0}),Object.defineProperty(s.Scene.prototype,"onAfterRender",{get(){return(...e)=>{var t;i&&i.end("profiler"),null==(t=p.get(this))||t(...e)}},set(e){p.set(this,e)},configurable:!0}),i},[]);return(0,n.useEffect)(()=>{u&&(u.overClock=e||!1,!1===e&&(g({overclockingFps:!1}),m.value=0,m.isOverLimit=0),u.chartHz=(null==r?void 0:r.hz)||60,u.chartLen=(null==r?void 0:r.length)||120)},[e,u,null==r?void 0:r.length,null==r?void 0:r.hz]),(0,n.useEffect)(()=>{l&&(s.Object3D.prototype.updateMatrixWorld=function(){(this.matrixWorldNeedsUpdate||arguments[0])&&C.value++,j.apply(this,arguments)},s.Object3D.prototype.updateWorldMatrix=function(){C.value++,S.apply(this,arguments)},s.Object3D.prototype.updateMatrix=function(){M.value++,w.apply(this,arguments)}),a.info.autoReset=!1;let t=null,r=null;if(a.info)return t=(0,o.n)(function(){f().paused&&g({paused:!1}),window.performance&&(window.performance.mark("cpu-started"),u.startCpuProfiling=!0),M.value-=1,C.value=0,M.value=0,a.info&&a.info.reset()}),r=(0,o.o)(function(){var t,r;if(u&&!u.paused&&(u.nextFrame(window.performance.now()),e&&void 0!==window.requestIdleCallback&&(u.idleCbId=requestIdleCallback(u.nextFps))),i){let e={},i=new Map;c.traverse(function(t){if((t instanceof s.Mesh||t instanceof s.Points)&&t.material){let r=t.material.uuid;r=Array.isArray(t.material)&&t.material.length>1?z(t.material[1],e):z(t.material,e),e[r].meshes[t.uuid]=t}}),null==(r=null==(t=null==a?void 0:a.info)?void 0:t.programs)||r.forEach(t=>{let r=t.cacheKey.split(","),n=r[r.findIndex(R)+1];if(I(n)&&e[n]){let{material:r,meshes:o}=e[n];i.set(n,{program:t,material:r,meshes:o,drawCounts:{total:0,type:"triangle",data:[]},expand:!1,visible:!0})}}),i.size!==f().programs.size&&(v(i),g({programs:i,triggerProgramsUpdate:f().triggerProgramsUpdate++}))}}),()=>{u&&(void 0!==window.cancelIdleCallback&&window.cancelIdleCallback(u.idleCbId),window.cancelAnimationFrame(u.rafId),window.cancelAnimationFrame(u.checkQueryId)),l&&(s.Object3D.prototype.updateMatrixWorld=w),t(),r()}},[u,a,r,l]),(0,n.useEffect)(()=>{let e=(0,o.p)(function(){return u&&(u.paused=!0,M.value=0,C.value=0,g({paused:!0,log:{maxMemory:0,gpu:0,mem:0,cpu:0,fps:0,totalTime:0,frameCount:0}})),!1});return()=>{e()}},[]),null};var L,B,P="colors",O="sizes",$="space",T={gap:$,gridGap:$,columnGap:$,gridColumnGap:$,rowGap:$,gridRowGap:$,inset:$,insetBlock:$,insetBlockEnd:$,insetBlockStart:$,insetInline:$,insetInlineEnd:$,insetInlineStart:$,margin:$,marginTop:$,marginRight:$,marginBottom:$,marginLeft:$,marginBlock:$,marginBlockEnd:$,marginBlockStart:$,marginInline:$,marginInlineEnd:$,marginInlineStart:$,padding:$,paddingTop:$,paddingRight:$,paddingBottom:$,paddingLeft:$,paddingBlock:$,paddingBlockEnd:$,paddingBlockStart:$,paddingInline:$,paddingInlineEnd:$,paddingInlineStart:$,top:$,right:$,bottom:$,left:$,scrollMargin:$,scrollMarginTop:$,scrollMarginRight:$,scrollMarginBottom:$,scrollMarginLeft:$,scrollMarginX:$,scrollMarginY:$,scrollMarginBlock:$,scrollMarginBlockEnd:$,scrollMarginBlockStart:$,scrollMarginInline:$,scrollMarginInlineEnd:$,scrollMarginInlineStart:$,scrollPadding:$,scrollPaddingTop:$,scrollPaddingRight:$,scrollPaddingBottom:$,scrollPaddingLeft:$,scrollPaddingX:$,scrollPaddingY:$,scrollPaddingBlock:$,scrollPaddingBlockEnd:$,scrollPaddingBlockStart:$,scrollPaddingInline:$,scrollPaddingInlineEnd:$,scrollPaddingInlineStart:$,fontSize:"fontSizes",background:P,backgroundColor:P,backgroundImage:P,borderImage:P,border:P,borderBlock:P,borderBlockEnd:P,borderBlockStart:P,borderBottom:P,borderBottomColor:P,borderColor:P,borderInline:P,borderInlineEnd:P,borderInlineStart:P,borderLeft:P,borderLeftColor:P,borderRight:P,borderRightColor:P,borderTop:P,borderTopColor:P,caretColor:P,color:P,columnRuleColor:P,fill:P,outline:P,outlineColor:P,stroke:P,textDecorationColor:P,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:O,minBlockSize:O,maxBlockSize:O,inlineSize:O,minInlineSize:O,maxInlineSize:O,width:O,minWidth:O,maxWidth:O,height:O,minHeight:O,maxHeight:O,flexBasis:O,gridTemplateColumns:O,gridTemplateRows:O,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},_=(e,t)=>"function"==typeof t?{"()":Function.prototype.toString.call(t)}:t,W=()=>{let e=Object.create(null);return(t,r,...i)=>{let n=JSON.stringify(t,_);return n in e?e[n]:e[n]=r(t,...i)}},F=Symbol.for("sxs.internal"),D=(e,t)=>Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)),U=e=>{for(let t in e)return!0;return!1},{hasOwnProperty:G}=Object.prototype,N=e=>e.includes("-")?e:e.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),H=/\s+(?![^()]*\))/,X=e=>t=>e(..."string"==typeof t?String(t).split(H):[t]),Y={appearance:e=>({WebkitAppearance:e,appearance:e}),backfaceVisibility:e=>({WebkitBackfaceVisibility:e,backfaceVisibility:e}),backdropFilter:e=>({WebkitBackdropFilter:e,backdropFilter:e}),backgroundClip:e=>({WebkitBackgroundClip:e,backgroundClip:e}),boxDecorationBreak:e=>({WebkitBoxDecorationBreak:e,boxDecorationBreak:e}),clipPath:e=>({WebkitClipPath:e,clipPath:e}),content:e=>({content:e.includes('"')||e.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(e)?e:`"${e}"`}),hyphens:e=>({WebkitHyphens:e,hyphens:e}),maskImage:e=>({WebkitMaskImage:e,maskImage:e}),maskSize:e=>({WebkitMaskSize:e,maskSize:e}),tabSize:e=>({MozTabSize:e,tabSize:e}),textSizeAdjust:e=>({WebkitTextSizeAdjust:e,textSizeAdjust:e}),userSelect:e=>({WebkitUserSelect:e,userSelect:e}),marginBlock:X((e,t)=>({marginBlockStart:e,marginBlockEnd:t||e})),marginInline:X((e,t)=>({marginInlineStart:e,marginInlineEnd:t||e})),maxSize:X((e,t)=>({maxBlockSize:e,maxInlineSize:t||e})),minSize:X((e,t)=>({minBlockSize:e,minInlineSize:t||e})),paddingBlock:X((e,t)=>({paddingBlockStart:e,paddingBlockEnd:t||e})),paddingInline:X((e,t)=>({paddingInlineStart:e,paddingInlineEnd:t||e}))},q=/([\d.]+)([^]*)/,V=(e,t)=>e.length?e.reduce((e,r)=>(e.push(...t.map(e=>e.includes("&")?e.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(e)?`:is(${r})`:r):r+" "+e)),e),[]):t,Q=(e,t)=>e in J&&"string"==typeof t?t.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,r,i,n)=>r+("stretch"===i?`-moz-available${n};${N(e)}:${r}-webkit-fill-available`:`-moz-fit-content${n};${N(e)}:${r}fit-content`)+n):String(t),J={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Z=e=>e?e+"-":"",K=(e,t,r)=>e.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(e,i,n,o,s)=>"$"==o==!!n?e:(i||"--"==o?"calc(":"")+"var(--"+("$"===o?Z(t)+(s.includes("$")?"":Z(r))+s.replace(/\$/g,"-"):s)+")"+(i||"--"==o?"*"+(i||"")+(n||"1")+")":"")),ee=/\s*,\s*(?![^()]*\))/,et=Object.prototype.toString,er=(e,t,r,i,n)=>{let o,s,l;let a=(e,t,r)=>{let c,u;let d=e=>{var p;for(c in e){let h=64===c.charCodeAt(0);for(u of h&&Array.isArray(e[c])?e[c]:[e[c]]){let e=/[A-Z]/.test(p=c)?p:p.replace(/-[^]/g,e=>e[1].toUpperCase()),f="object"==typeof u&&u&&u.toString===et&&(!i.utils[e]||!t.length);if(e in i.utils&&!f){let t=i.utils[e];if(t!==s){s=t,d(t(u)),s=null;continue}}else if(e in Y){let t=Y[e];if(t!==l){l=t,d(t(u)),l=null;continue}}if(h&&(c=(c.slice(1) in i.media?"@media "+i.media[c.slice(1)]:c).replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(e,t,r,i,n,o)=>{let s=q.test(t),l=.0625*(s?-1:1),[a,c]=s?[i,t]:[t,i];return"("+("="===r[0]?"":">"===r[0]===s?"max-":"min-")+a+":"+("="!==r[0]&&1===r.length?c.replace(q,(e,t,i)=>Number(t)+l*(">"===r?1:-1)+i):c)+(n?") and ("+(">"===n[0]?"min-":"max-")+a+":"+(1===n.length?o.replace(q,(e,t,r)=>Number(t)+l*(">"===n?-1:1)+r):o):"")+")"})),f){let e=h?r.concat(c):[...r],i=h?[...t]:V(t,c.split(ee));void 0!==o&&n(ei(...o)),o=void 0,a(u,i,e)}else void 0===o&&(o=[[],t,r]),c=h||36!==c.charCodeAt(0)?c:`--${Z(i.prefix)}${c.slice(1).replace(/\$/g,"-")}`,u=f?u:"number"==typeof u?u&&e in en?String(u)+"px":String(u):K(Q(e,null==u?"":u),i.prefix,i.themeMap[e]),o[0].push(`${h?`${c} `:`${N(c)}:`}${u}`)}}};d(e),void 0!==o&&n(ei(...o)),o=void 0};a(e,t,r)},ei=(e,t,r)=>`${r.map(e=>`${e}{`).join("")}${t.length?`${t.join(",")}{`:""}${e.join(";")}${t.length?"}":""}${Array(r.length?r.length+1:0).join("}")}`,en={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},eo=e=>String.fromCharCode(e+(e>25?39:97)),es=e=>(e=>{let t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=eo(t%52)+r;return eo(t%52)+r})(((e,t)=>{let r=t.length;for(;r;)e=33*e^t.charCodeAt(--r);return e})(5381,JSON.stringify(e))>>>0),el=["themed","global","styled","onevar","resonevar","allvar","inline"],ea=e=>{if(e.href&&!e.href.startsWith(location.origin))return!1;try{return!!e.cssRules}catch(e){return!1}},ec=e=>{let t;let r=()=>{let{cssRules:e}=t.sheet;return[].map.call(e,(r,i)=>{let{cssText:n}=r,o="";if(n.startsWith("--sxs"))return"";if(e[i-1]&&(o=e[i-1].cssText).startsWith("--sxs")){if(!r.cssRules.length)return"";for(let e in t.rules)if(t.rules[e].group===r)return`--sxs{--sxs:${[...t.rules[e].cache].join(" ")}}${n}`;return r.cssRules.length?`${o}${n}`:""}return n}).join("")},i=()=>{if(t){let{rules:e,sheet:r}=t;if(!r.deleteRule){for(;3===Object(Object(r.cssRules)[0]).type;)r.cssRules.splice(0,1);r.cssRules=[]}for(let t in e)delete e[t]}for(let n of Object(e).styleSheets||[])if(ea(n)){for(let e=0,o=n.cssRules;o[e];++e){let s=Object(o[e]);if(1!==s.type)continue;let l=Object(o[e+1]);if(4!==l.type)continue;++e;let{cssText:a}=s;if(!a.startsWith("--sxs"))continue;let c=a.slice(14,-3).trim().split(/\s+/),u=el[c[0]];u&&(t||(t={sheet:n,reset:i,rules:{},toString:r}),t.rules[u]={group:l,index:e,cache:new Set(c)})}if(t)break}if(!t){let n=(e,t)=>({type:t,cssRules:[],insertRule(e,t){this.cssRules.splice(t,0,n(e,{import:3,undefined:1}[(e.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return"@media{}"===e?`@media{${[].map.call(this.cssRules,e=>e.cssText).join("")}}`:e}});t={sheet:e?(e.head||e).appendChild(document.createElement("style")).sheet:n("","text/css"),rules:{},reset:i,toString:r}}let{sheet:n,rules:o}=t;for(let e=el.length-1;e>=0;--e){let t=el[e];if(!o[t]){let r=el[e+1],i=o[r]?o[r].index:n.cssRules.length;n.insertRule("@media{}",i),n.insertRule(`--sxs{--sxs:${e}}`,i),o[t]={group:n.cssRules[i+1],index:i,cache:new Set([e])}}eu(o[t])}};return i(),t},eu=e=>{let t=e.group,r=t.cssRules.length;e.apply=e=>{try{t.insertRule(e,r),++r}catch(e){}}},ed=Symbol(),ep=W(),eh=(e,t)=>ep(e,()=>(...r)=>{let i={type:null,composers:new Set};for(let t of r)if(null!=t){if(t[F])for(let e of(null==i.type&&(i.type=t[F].type),t[F].composers))i.composers.add(e);else t.constructor!==Object||t.$$typeof?null==i.type&&(i.type=t):i.composers.add(ef(t,e))}return null==i.type&&(i.type="span"),i.composers.size||i.composers.add(["PJLV",{},[],[],{},[]]),eg(e,i,t)}),ef=({variants:e,compoundVariants:t,defaultVariants:r,...i},n)=>{let o=`${Z(n.prefix)}c-${es(i)}`,s=[],l=[],a=Object.create(null),c=[];for(let e in r)a[e]=String(r[e]);if("object"==typeof e&&e)for(let t in e){G.call(a,t)||(a[t]="undefined");let r=e[t];for(let e in r){let i={[t]:String(e)};"undefined"===String(e)&&c.push(t);let n=r[e],o=[i,n,!U(n)];s.push(o)}}if("object"==typeof t&&t)for(let e of t){let{css:t,...r}=e;for(let e in t="object"==typeof t&&t||{},r)r[e]=String(r[e]);let i=[r,t,!U(t)];l.push(i)}return[o,i,s,l,a,c]},eg=(e,t,r)=>{let[i,n,o,s]=em(t.composers),l="function"==typeof t.type||t.type.$$typeof?(e=>{function t(){for(let r=0;r<t[ed].length;r++){let[i,n]=t[ed][r];e.rules[i].apply(n)}return t[ed]=[],null}return t[ed]=[],t.rules={},el.forEach(e=>t.rules[e]={apply:r=>t[ed].push([e,r])}),t})(r):null,a=(l||r).rules,c=`.${i}${n.length>1?`:where(.${n.slice(1).join(".")})`:""}`,u=u=>{let{css:d,...p}=u="object"==typeof u&&u||eb,h={};for(let e in o)if(delete p[e],e in u){let t=u[e];"object"==typeof t&&t?h[e]={"@initial":o[e],...t}:(t=String(t),h[e]="undefined"!==t||s.has(e)?t:o[e])}else h[e]=o[e];let f=new Set([...n]);for(let[i,n,o,s]of t.composers){r.rules.styled.cache.has(i)||(r.rules.styled.cache.add(i),er(n,[`.${i}`],[],e,e=>{a.styled.apply(e)}));let t=ex(o,h,e.media),l=ex(s,h,e.media,!0);for(let n of t)if(void 0!==n)for(let[t,o,s]of n){let n=`${i}-${es(o)}-${t}`;f.add(n);let l=(s?r.rules.resonevar:r.rules.onevar).cache,c=s?a.resonevar:a.onevar;l.has(n)||(l.add(n),er(o,[`.${n}`],[],e,e=>{c.apply(e)}))}for(let t of l)if(void 0!==t)for(let[n,o]of t){let t=`${i}-${es(o)}-${n}`;f.add(t),r.rules.allvar.cache.has(t)||(r.rules.allvar.cache.add(t),er(o,[`.${t}`],[],e,e=>{a.allvar.apply(e)}))}}if("object"==typeof d&&d){let t=`${i}-i${es(d)}-css`;f.add(t),r.rules.inline.cache.has(t)||(r.rules.inline.cache.add(t),er(d,[`.${t}`],[],e,e=>{a.inline.apply(e)}))}for(let e of String(u.className||"").trim().split(/\s+/))e&&f.add(e);let g=p.className=[...f].join(" ");return{type:t.type,className:g,selector:c,props:p,toString:()=>g,deferredInjector:l}};return D(u,{className:i,selector:c,[F]:t,toString:()=>(r.rules.styled.cache.has(i)||u(),i)})},em=e=>{let t="",r=[],i={},n=[];for(let[o,,,,s,l]of e)for(let e in""===t&&(t=o),r.push(o),n.push(...l),s){let t=s[e];(void 0===i[e]||"undefined"!==t||l.includes(t))&&(i[e]=t)}return[t,r,i,new Set(n)]},ex=(e,t,r,i)=>{let n=[];e:for(let[o,s,l]of e){if(l)continue;let e,a=0,c=!1;for(e in o){let i=o[e],n=t[e];if(n!==i){if("object"!=typeof n||!n)continue e;{let e,t,o=0;for(let s in n){if(i===String(n[s])){if("@initial"!==s){let e=s.slice(1);(t=t||[]).push(e in r?r[e]:s.replace(/^@media ?/,"")),c=!0}a+=o,e=!0}++o}if(t&&t.length&&(s={["@media "+t.join(", ")]:s}),!e)continue e}}}(n[a]=n[a]||[]).push([i?"cv":`${e}-${o[e]}`,s,c])}return n},eb={},ev=W(),ey=(e,t)=>ev(e,()=>(...r)=>{let i=()=>{for(let i of r){let r=es(i="object"==typeof i&&i||{});if(!t.rules.global.cache.has(r)){if(t.rules.global.cache.add(r),"@import"in i){let e=[].indexOf.call(t.sheet.cssRules,t.rules.themed.group)-1;for(let r of[].concat(i["@import"]))r=r.includes('"')||r.includes("'")?r:`"${r}"`,t.sheet.insertRule(`@import ${r};`,e++);delete i["@import"]}er(i,[],[],e,e=>{t.rules.global.apply(e)})}}return""};return D(i,{toString:i})}),ej=W(),eS=(e,t)=>ej(e,()=>r=>{let i=`${Z(e.prefix)}k-${es(r)}`,n=()=>{if(!t.rules.global.cache.has(i)){t.rules.global.cache.add(i);let n=[];er(r,[],[],e,e=>n.push(e));let o=`@keyframes ${i}{${n.join("")}}`;t.rules.global.apply(o)}return i};return D(n,{get name(){return n()},toString:n})}),ew=class{constructor(e,t,r,i){this.token=null==e?"":String(e),this.value=null==t?"":String(t),this.scale=null==r?"":String(r),this.prefix=null==i?"":String(i)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+Z(this.prefix)+Z(this.scale)+this.token}toString(){return this.computedValue}},ek=W(),eE=(e,t)=>ek(e,()=>(r,i)=>{i="object"==typeof r&&r||Object(i);let n=`.${r=(r="string"==typeof r?r:"")||`${Z(e.prefix)}t-${es(i)}`}`,o={},s=[];for(let t in i)for(let r in o[t]={},i[t]){let n=`--${Z(e.prefix)}${t}-${r}`,l=K(String(i[t][r]),e.prefix,t);o[t][r]=new ew(r,l,t,e.prefix),s.push(`${n}:${l}`)}let l=()=>{if(s.length&&!t.rules.themed.cache.has(r)){t.rules.themed.cache.add(r);let n=`${i===e.theme?":root,":""}.${r}{${s.join(";")}}`;t.rules.themed.apply(n)}return r};return{...o,get className(){return l()},selector:n,toString:l}}),eC=W(),eM=W(),eI=e=>{let t=(e=>{let t=!1,r=eC(e,e=>{t=!0;let r="prefix"in(e="object"==typeof e&&e||{})?String(e.prefix):"",i="object"==typeof e.media&&e.media||{},n="object"==typeof e.root?e.root||null:globalThis.document||null,o="object"==typeof e.theme&&e.theme||{},s={prefix:r,media:i,theme:o,themeMap:"object"==typeof e.themeMap&&e.themeMap||{...T},utils:"object"==typeof e.utils&&e.utils||{}},l=ec(n),a={css:eh(s,l),globalCss:ey(s,l),keyframes:eS(s,l),createTheme:eE(s,l),reset(){l.reset(),a.theme.toString()},theme:{},sheet:l,config:s,prefix:r,getCssText:l.toString,toString:l.toString};return String(a.theme=a.createTheme(o)),a});return t||r.reset(),r})(e);return t.styled=(({config:e,sheet:t})=>eM(e,()=>{let r=eh(e,t);return(...e)=>{let t=r(...e),i=t[F].type,o=n.forwardRef((e,r)=>{let o=e&&e.as||i,{props:s,deferredInjector:l}=t(e);return delete s.as,s.ref=r,l?n.createElement(n.Fragment,null,n.createElement(o,s),n.createElement(l,null)):n.createElement(o,s)});return o.className=t.className,o.displayName=`Styled.${i.displayName||i.name||i}`,o.selector=t.selector,o.toString=()=>t.selector,o[F]=t[F],o}}))(t),t},ez=()=>B||(B=eI()),eR=(...e)=>ez().styled(...e);let eA=eR("div",{position:"fixed",top:0,right:0,zIndex:9999,fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif`,backgroundColor:"rgba(36, 36, 36, .9)",color:"#fff",margin:0,minHeight:"100px",padding:"4px 0","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",userSelect:"none","&.top-left":{right:"initial",left:0},"&.bottom-left":{right:"initial",top:"initial",bottom:0,left:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.bottom-right":{top:"initial",bottom:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.minimal":{backgroundColor:"rgba(36, 36, 36, .75)"},"*":{margin:"0",padding:"0",border:"0",fontSize:"100%",lineHeight:"1",verticalAlign:"baseline"}}),eL=eR("small",{position:"absolute",right:0,fontSize:"10px"}),eB=eR("div",{display:"inline-flex",fontStyle:"normal",padding:0,lineHeight:"13px",fontSize:"14px",width:"62px",position:"relative",pointerEvents:"auto",cursor:"default",fontWeight:500,letterSpacing:"0px",textAlign:"left",height:"29px",whiteSpace:"nowrap",justifyContent:"space-evenly",fontVariantNumeric:"tabular-nums",small:{paddingLeft:"12px"},svg:{padding:0,color:"rgba(145, 145, 145, 0.3)",fontSize:"40px",position:"absolute",zIndex:1,maxHeight:"20px",left:" 50%",marginLeft:"-23px",top:"4px"}}),eP=eR("span",{verticalAlign:"bottom",position:"absolute",bottom:"5px",color:"rgba(101, 197, 188, 1)",textAlign:"right",letterSpacing:"1px",fontSize:"8px",fontWeight:"500",width:"60px"}),eO=eR("div",{display:"flex"}),e$=eR("div",{backgroundColor:"#404040",padding:"6px",display:"block",fontSize:"12px",marginBottom:"6px",cursor:"pointer","*":{cursor:"pointer !important"},"> span":{},small:{fontSize:"9px"},"> b":{marginRight:"4px",cursor:"pointer"}}),eT=eR("div",{height:"66px",overflow:"hidden",position:"absolute",pointerEvents:"none",display:"flex",top:"0px",justifyContent:"center",width:"100%",minWidth:"310px",margin:"0 auto",canvas:{background:"transparent !important",position:"absolute !important"}}),e_=eR("div",{textAlign:"center",fontWeight:700,fontSize:"12px",lineHeight:"12px",display:"flex",justifyContent:"center",alignItems:"center",verticalAlign:"middle",color:"#f1f1f1",padding:"7px",width:"100%",backgroundColor:"rgba(36, 36, 37, 0.8)",zIndex:1,position:"absolute",height:"100%"}),eW=eR("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),eF=eR("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",float:"right",backgroundColor:"rgb(41, 43, 45)",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),eD=eR("div",{padding:"4px 6px",fontSize:"12px",pointerEvents:"auto"}),eU=eR("span",{fontWeight:"bold",letterSpacing:"0.08em",maxWidth:"145px",overflow:"hidden",textOverflow:"ellipsis",display:"inline-block",verticalAlign:"middle",fontSize:"11px",marginRight:"10px"}),eG=eR("div",{maxHeight:"50vh",overflowY:"auto",marginTop:"38px"}),eN=eR("div",{marginTop:"0"}),eH=eR("div",{display:"flex",position:"relative",fontWeight:"bold",color:"#fff",lineHeight:"14px",svg:{marginRight:"4px",display:"inline-block"}}),eX=eR("ul",{display:"block",position:"relative",paddingLeft:"10px",margin:"6px 6px",img:{maxHeight:"60px",maxWidth:"100%",margin:"6px auto",display:"block"},"&:after":{content:"",position:"absolute",left:"0px",top:"0px",width:"1px",height:"100%",backgroundColor:"grey",transform:"translateX(-50%)",maxHeight:"50vh",overflowY:"auto"},li:{borderBottom:"1px solid #313131",display:"block",padding:"4px",margin:0,lineHeight:1,verticalAlign:"middle",height:"24px"},b:{fontWeight:"bold"},small:{textAlign:"revert",letterSpacing:"1px",fontSize:"10px",fontWeight:"500",marginLeft:"2px",color:"rgb(101, 197, 188)"}}),eY=eR("button",{fontWeight:"bold",letterSpacing:"0.02em",backgroundColor:"rgb(41, 43, 45)",color:"rgb(211, 211, 211)",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",display:"block",verticalAlign:"middle",fontSize:"11px",padding:"5px",margin:"4px auto"}),eq=eR("div",{display:"flex",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0 auto",color:"rgba(145, 145, 145, 1)",textAlign:"center",position:"absolute",right:0,bottom:" -20px",svg:{width:"12px",height:"12px",float:"left"}}),eV=eR("li",{display:"flex !important",height:"auto !important",span:{height:"40px",display:"block",position:"relative"},b:{paddingLeft:"12px"}});var eQ=r(2469),eJ=r(5029),eZ=r(7462),eK=r(8139);let e0=n.forwardRef(({sdfGlyphSize:e=64,anchorX:t="center",anchorY:i="middle",font:s,fontSize:l=1,children:a,characters:c,onSync:u,...d},p)=>{let{Text:h,preloadFont:f}=(0,eK.Rq)(async()=>r.e(240).then(r.bind(r,9240)),[]),g=(0,o.A)(({invalidate:e})=>e),[m]=n.useState(()=>new h),[x,b]=n.useMemo(()=>{let e=[],t="";return n.Children.forEach(a,r=>{"string"==typeof r||"number"==typeof r?t+=r:e.push(r)}),[e,t]},[a]);return(0,eK.Rq)(()=>new Promise(e=>f({font:s,characters:c},e)),["troika-text",s,c]),n.useLayoutEffect(()=>void m.sync(()=>{g(),u&&u(m)})),n.useEffect(()=>()=>m.dispose(),[m]),n.createElement("primitive",(0,eZ.Z)({object:m,ref:p,font:s,text:b,anchorX:t,anchorY:i,fontSize:l,sdfGlyphSize:e},d),x)}),e1=(0,n.memo)(({isPerf:e,color:t,colorBlind:r,customData:l,isMemory:a,isShadersInfo:c,metric:u,fontSize:d,offsetY:p=0,offsetX:h,round:g,hasInstance:m})=>{let{width:x,height:b}=(0,o.A)(e=>e.viewport),v=(0,n.useRef)(null),j=(0,n.useRef)(null);return!function(e,t,r=[],i){let o=(0,n.useRef)(t);(0,n.useEffect)(()=>void(o.current=t),[t]),(0,n.useEffect)(()=>{let t=e=>{var t;return null==(t=o.current)?void 0:t.call(o,e)},r=(null==i?void 0:i.once)?y.once(e,t):y.on(e,t);return()=>{var n,o;return n={...i,context:r},void y.removeListener(e,t,null!=(o=null==n?void 0:n.context)?o:null,null==n?void 0:n.once)}},[e,null==i?void 0:i.once,...r])}("log",function([t,i]){var n;if(!t||!v.current||(l&&(v.current.text=(Math.round(f().customData*Math.pow(10,g))/Math.pow(10,g)).toFixed(g)),!u))return;let o=t[u];if(c?o=null==(n=i.info.programs)?void 0:n.length:"matriceCount"===u?o=M.value:!e&&i.info.render&&(o=(a?i.info.memory:i.info.render)[u]),"fps"===u&&(v.current.color=f().overclockingFps?ti(r).overClock.toString():`rgb(${ti(r).fps.toString()})`),v.current.text=(Math.round(o*Math.pow(10,g))/Math.pow(10,g)).toFixed(g),m){let e;let t=i.info.instance;if(void 0===t&&"matriceCount"!==u)return;(e="matriceCount"===u?C.value:t[u])>0?(v.current.fontSize=d/1.15,j.current.fontSize=o>0?d/1.4:d,v.current.position.y=b/2-p-d/1.9,j.current.text=" \xb1	"+(Math.round(e*Math.pow(10,g))/Math.pow(10,g)).toFixed(g)):(j.current.text&&(j.current.text=""),v.current.position.y=b/2-p-d,v.current.fontSize=d)}M.value-=1,v.current.updateMatrix(),v.current.matrixWorld.copy(v.current.matrix)}),(0,i.jsxs)(n.Suspense,{fallback:null,children:[(0,i.jsxs)(e0,{textAlign:"justify",matrixAutoUpdate:!1,ref:v,fontSize:d,position:[-x/2+h+d,b/2-p-d,0],color:t,characters:"0123456789",onUpdate:e=>{e.updateMatrix(),M.value-=1,e.matrixWorld.copy(e.matrix)},children:[(0,i.jsx)("meshBasicMaterial",{blending:s.NormalBlending}),"0"]}),m&&(0,i.jsx)(e0,{textAlign:"justify",matrixAutoUpdate:!1,ref:j,fontSize:8,position:[-x/2+h+d,b/2-p-1.15*d,0],color:"lightgrey",characters:"0123456789",onUpdate:e=>{e.updateMatrix(),M.value-=1,e.matrixWorld.copy(e.matrix)},children:(0,i.jsx)("meshBasicMaterial",{blending:s.NormalBlending})})]})}),e2=({colorBlind:e,customData:t,minimal:r,matrixUpdate:n})=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e1,{colorBlind:e,color:`rgb(${ti(e).fps.toString()})`,isPerf:!0,metric:"fps",fontSize:14,offsetX:140,round:0}),(0,i.jsx)(e1,{color:`rgb(${ti(e).cpu.toString()})`,isPerf:!0,metric:"cpu",fontSize:14,offsetX:72,round:3}),(0,i.jsx)(e1,{color:`rgb(${ti(e).gpu.toString()})`,isPerf:!0,metric:"gpu",fontSize:14,offsetX:10,round:3}),r?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e1,{metric:"calls",fontSize:14,offsetX:200,round:0,hasInstance:!0}),(0,i.jsx)(e1,{metric:"triangles",fontSize:14,offsetX:260,round:0,hasInstance:!0}),(0,i.jsx)(e1,{isMemory:!0,metric:"geometries",fontSize:14,offsetY:30,offsetX:0,round:0}),(0,i.jsx)(e1,{isMemory:!0,metric:"textures",fontSize:14,offsetY:30,offsetX:80,round:0}),(0,i.jsx)(e1,{isShadersInfo:!0,metric:"programs",fontSize:14,offsetY:30,offsetX:140,round:0}),(0,i.jsx)(e1,{metric:"lines",fontSize:14,offsetY:30,offsetX:200,round:0,hasInstance:!0}),(0,i.jsx)(e1,{metric:"points",fontSize:14,offsetY:30,offsetX:260,round:0,hasInstance:!0}),n&&(0,i.jsx)(e1,{isPerf:!0,metric:"matriceCount",fontSize:14,offsetY:30,offsetX:320,round:0,hasInstance:!0})]}),t&&(0,i.jsx)(e1,{color:`rgb(${ti(e).custom.toString()})`,customData:t,fontSize:14,offsetY:0,offsetX:r?200:320,round:t.round||2})]}),e3=({colorBlind:e,minimal:t,chart:r={length:120,hz:60}})=>{let l=(0,n.useMemo)(()=>({fps:new Float32Array(3*r.length),cpu:new Float32Array(3*r.length),gpu:new Float32Array(3*r.length)}),[r]),a=(0,n.useRef)(null),c=(0,n.useRef)(null),u=(0,n.useRef)(null),d=(0,n.useRef)(null),p=(0,n.useMemo)(()=>new s.Vector3(0,0,0),[]),h=(e,r=1,i,n)=>{let o=0,{width:s,height:l}=n,a=f().chart.data[e];if(!a||0===a.length)return;let c=t?2:6,u=t?12:50,d=a.length;for(let e=0;e<d;e++){let t=(f().chart.circularId+e+1)%d;void 0!==a[t]&&(a[t]>o&&(o=a[t]*r),p.set(c+e/(d-1)*(s-2*c)-s/2,Math.min(100,a[t])*r/100*(l-2*c-u)-l/2,0),p.toArray(i.attributes.position.array,3*e))}i.attributes.position.needsUpdate=!0};return(0,o.C)(function({viewport:t}){h("fps",1,a.current,t),c.current&&c.current.color.set(f().overclockingFps?ti(e).overClock.toString():`rgb(${ti(e).fps.toString()})`),h("gpu",5,u.current,t),h("cpu",5,d.current,t)}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("line",{onUpdate:e=>{e.updateMatrix(),M.value-=1,e.matrixWorld.copy(e.matrix)},children:[(0,i.jsx)("bufferGeometry",{ref:a,children:(0,i.jsx)("bufferAttribute",{attach:"attributes-position",count:r.length,array:l.fps,itemSize:3,usage:s.DynamicDrawUsage,needsUpdate:!0})}),(0,i.jsx)("lineBasicMaterial",{ref:c,color:`rgb(${ti(e).fps.toString()})`,transparent:!0,opacity:.5})]}),(0,i.jsxs)("line",{onUpdate:e=>{e.updateMatrix(),M.value-=1,e.matrixWorld.copy(e.matrix)},children:[(0,i.jsx)("bufferGeometry",{ref:u,children:(0,i.jsx)("bufferAttribute",{attach:"attributes-position",count:r.length,array:l.gpu,itemSize:3,usage:s.DynamicDrawUsage,needsUpdate:!0})}),(0,i.jsx)("lineBasicMaterial",{color:`rgb(${ti(e).gpu.toString()})`,transparent:!0,opacity:.5})]}),(0,i.jsxs)("line",{onUpdate:e=>{e.updateMatrix(),M.value-=1,e.matrixWorld.copy(e.matrix)},children:[(0,i.jsx)("bufferGeometry",{ref:d,children:(0,i.jsx)("bufferAttribute",{attach:"attributes-position",count:r.length,array:l.cpu,itemSize:3,usage:s.DynamicDrawUsage,needsUpdate:!0})}),(0,i.jsx)("lineBasicMaterial",{color:`rgb(${ti(e).cpu.toString()})`,transparent:!0,opacity:.5})]})]})},e4=({colorBlind:e,chart:t,customData:r,matrixUpdate:o,showGraph:s=!0,antialias:l=!0,minimal:a})=>{let c=(0,n.useRef)(void 0),u=h(e=>e.paused);return(0,i.jsxs)(eT,{style:{display:"flex",position:"absolute",height:`${a?37:s?100:60}px`,minWidth:`${a?"100px":r?"370px":"310px"}`},children:[(0,i.jsx)(eJ.Xz,{ref:c,orthographic:!0,dpr:l?[1,2]:1,gl:{antialias:!0,alpha:!0,stencil:!1,depth:!1},onCreated:({scene:e})=>{e.traverse(e=>{e.matrixWorldAutoUpdate=!1,e.matrixAutoUpdate=!1})},flat:!0,style:{marginBottom:"-42px",position:"relative",pointerEvents:"none",background:"transparent !important",height:`${a?37:s?100:60}px`},children:u?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e5,{}),(0,i.jsx)(e2,{customData:r,minimal:a,matrixUpdate:o}),s&&(0,i.jsx)(e3,{colorBlind:e,minimal:a,chart:t})]})}),u&&(0,i.jsxs)(e_,{children:[(0,i.jsx)(eQ.fpf,{})," PAUSED"]})]})},e5=()=>((0,o.C)(function({gl:e,scene:t,camera:r}){r.updateMatrix(),M.value-=1,r.matrixWorld.copy(r.matrix),r.matrixWorldInverse.copy(r.matrixWorld).invert(),e.render(t,r),C.value=0,M.value=0},1/0),null);var e6=r(745);let e9=(0,n.forwardRef)(({portal:e,className:t,children:r,name:s,...l},a)=>{let c=(0,o.A)(e=>e.gl),u=(0,n.useRef)(null),d=(0,n.useRef)(null),p=(null==e?void 0:e.current)!=null?e.current:c.domElement.parentNode;return(0,n.useLayoutEffect)(()=>{if(!u.current||!p)return;let e=document.createElement("div"),t=d.current=(0,e6.createRoot)(e);return p.appendChild(e),()=>{t.unmount(),d.current=null,p.removeChild(e)}},[p]),(0,n.useLayoutEffect)(()=>{let e=d.current;e&&e.render((0,i.jsx)("div",{ref:a,className:t,children:r}))}),(0,i.jsx)("group",{name:s,...l,ref:u})}),e7=(e,t)=>({name:e,url:t.image.currentSrc,encoding:(e=>{switch(e){case 3e3:return"LinearEncoding";case 3001:return"sRGBEncoding";case 3002:return"RGBEEncoding";case 3003:return"LogLuvEncoding";case 3004:return"RGBM7Encoding";case 3005:return"RGBM16Encoding";case 3006:return"RGBDEncoding";case 3007:return"GammaEncoding";default:return"ClampToEdgeWrapping"}})(t.encoding),wrapT:(e=>{switch(e){case 1e3:return"RepeatWrapping";case 1001:default:return"ClampToEdgeWrapping";case 1002:return"MirroredRepeatWrapping"}})(t.wrapT),flipY:t.flipY.toString()}),e8=({program:e,material:t,setTexNumber:r})=>{let o=h(e=>e.gl),[s,l]=(0,n.useState)(null);return(0,n.useEffect)(()=>{if(o){let i=null==e?void 0:e.getUniforms(),n=0,o=new Map;i.seq.forEach(e=>{if(!e.id.includes("uTroika")&&"isOrthographic"!==e.id&&"uvTransform"!==e.id&&"lightProbe"!==e.id&&"projectionMatrix"!==e.id&&"viewMatrix"!==e.id&&"normalMatrix"!==e.id&&"modelMatrix"!==e.id&&"modelViewMatrix"!==e.id){let r=[],i={name:e.id};e.cache&&(e.cache.forEach(e=>{void 0!==e&&r.push(e.toString().substring(0,4))}),i.value=r.join(),t[e.id]&&t[e.id].image&&t[e.id].image&&(n++,i.value=e7(e.id,t[e.id])),i.value||(i.value="empty"),o.set(e.id,i))}}),t.uniforms&&Object.keys(t.uniforms).forEach(e=>{let r=t.uniforms[e];if(r.value){let{value:t}=r,i={name:e};if(e.includes("uTroika"))return;if(t.isTexture)n++,i.value=e7(e,t);else{let e=JSON.stringify(t);try{e=JSON.stringify(t)}catch(r){e=t.toString()}i.value=e}o.set(e,i)}}),n>0&&r(n),l(o)}},[]),(0,i.jsx)(eX,{children:s&&Array.from(s.values()).map(e=>(0,i.jsx)("span",{children:"string"==typeof e.value?(0,i.jsx)("li",{children:(0,i.jsxs)("span",{children:[e.name," :"," ",(0,i.jsxs)("b",{children:[e.value.substring(0,30),e.value.length>30?"...":""]})]})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("li",{children:(0,i.jsxs)("b",{children:[e.value.name,":"]})}),(0,i.jsxs)("div",{children:[Object.keys(e.value).map(t=>"name"!==t?(0,i.jsx)("div",{children:"url"===t?(0,i.jsx)("a",{href:e.value[t],target:"_blank",children:(0,i.jsx)("img",{src:e.value[t]})}):(0,i.jsxs)("li",{children:[t,": ",(0,i.jsx)("b",{children:e.value[t]})]})},t):null),(0,i.jsxs)(eY,{onClick:()=>{var r;console.info(t[e.value.name]||(null==(r=null==t?void 0:t.uniforms[e.value.name])?void 0:r.value))},children:["console.info(",e.value.name,");"]})]})]})},e.name))})},te=({el:e})=>{h(e=>e.log);let t=h(e=>e.gl);return(0,i.jsx)(i.Fragment,{children:e.drawCounts.total>0&&(0,i.jsxs)(eB,{style:{height:"auto",width:"auto",margin:"0 4px"},children:["Triangle"===e.drawCounts.type?(0,i.jsx)(eQ.vVm,{style:{top:"-1px"}}):(0,i.jsx)(eQ.X4t,{style:{top:"-1px"}}),e.drawCounts.total,(0,i.jsxs)("small",{children:[e.drawCounts.type,"s"]}),t&&(0,i.jsxs)(eP,{style:{bottom:"-10px",width:"40px",fontWeight:"bold"},children:[e.visible&&!e.material.wireframe?(e=>{if(!t)return 0;let r=Math.round(e.drawCounts.total/(t.info.render.triangles+t.info.render.lines+t.info.render.points)*1e3)/10;return isFinite(r)&&r||0})(e):0,"%"]})]})})},tt=({el:e})=>{let[t,r]=(0,n.useState)(e.visible),[o,s]=(0,n.useState)(e.expand),[l,a]=(0,n.useState)(0),{meshes:c,program:u,material:d}=e;return(0,i.jsxs)(eD,{children:[(0,i.jsxs)(e$,{onClick:()=>{e.expand=!o,Object.keys(c).forEach(e=>{c[e].material.wireframe=!1}),s(!o)},children:[(0,i.jsx)(eW,{style:{marginRight:"6px"},children:o?(0,i.jsx)("span",{children:(0,i.jsx)(eQ.AS7,{})}):(0,i.jsx)("span",{children:(0,i.jsx)(eQ.$lt,{})})}),u&&(0,i.jsxs)("span",{children:[(0,i.jsx)(eU,{children:u.name}),(0,i.jsxs)(eB,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[(0,i.jsx)(eQ.uQz,{style:{top:"-1px"}}),Object.keys(c).length,(0,i.jsx)("small",{children:Object.keys(c).length>1?"users":"user"})]}),l>0&&(0,i.jsxs)(eB,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[(0,i.jsx)(eQ.XBm,{style:{top:"-1px"}}),l,(0,i.jsx)("small",{children:"tex"})]}),(0,i.jsx)(te,{el:e}),"300 es"===d.glslVersion&&(0,i.jsxs)(eB,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[(0,i.jsx)(eQ.WCv,{style:{top:"-1px"}}),"300",(0,i.jsx)("small",{children:"es"}),(0,i.jsx)(eP,{style:{bottom:"-10px",width:"40px"},children:"glsl"})]})]}),(0,i.jsx)(eF,{onPointerEnter:()=>{Object.keys(c).forEach(e=>{c[e].material.wireframe=!0})},onPointerLeave:()=>{Object.keys(c).forEach(e=>{c[e].material.wireframe=!1})},onClick:i=>{i.stopPropagation(),Object.keys(c).forEach(i=>{let n=c[i],o=!t;n.visible=o,e.visible=o,r(o)})},children:t?(0,i.jsx)(eQ.hsE,{}):(0,i.jsx)(eQ.L52,{})})]}),(0,i.jsxs)("div",{style:{maxHeight:o?"9999px":0,overflow:"hidden"},children:[(0,i.jsxs)(eH,{children:[(0,i.jsx)(eQ.Eik,{})," Uniforms:"]}),(0,i.jsx)(e8,{program:u,material:d,setTexNumber:a}),(0,i.jsxs)(eH,{children:[(0,i.jsx)(eQ.FMB,{})," Geometries:"]}),(0,i.jsx)(eX,{children:c&&Object.keys(c).map(e=>c[e]&&c[e].geometry&&(0,i.jsxs)(eV,{children:[(0,i.jsxs)("span",{children:[c[e].geometry.type,": "]}),c[e].userData&&c[e].userData.drawCount&&(0,i.jsxs)("b",{children:[(0,i.jsxs)("div",{children:[c[e].userData.drawCount.count,(0,i.jsxs)("small",{children:[" ",c[e].userData.drawCount.type,"s"]})]}),(0,i.jsx)("br",{}),(0,i.jsxs)("div",{children:[Math.round(function(e){let t=0;for(let r in e.attributes){let i=e.getAttribute(r);t+=i.count*i.itemSize*i.array.BYTES_PER_ELEMENT}let r=e.getIndex();return t+(r?r.count*r.itemSize*r.array.BYTES_PER_ELEMENT:0)}(c[e].geometry)/1024*1e3)/1e3,"Kb",(0,i.jsx)("small",{children:" memory used"})]})]})]},e))}),(0,i.jsxs)(eY,{onClick:()=>{console.info(d)},children:["console.info(",d.type,")"]})]})]})},tr=()=>{h(e=>e.triggerProgramsUpdate);let e=h(e=>e.programs);return(0,i.jsx)(eN,{children:e&&Array.from(e.values()).map(e=>e&&e?(0,i.jsx)(tt,{el:e},e.material.uuid):null)})},ti=e=>({overClock:"#ff6eff",fps:e?"100, 143, 255":"238,38,110",cpu:e?"254, 254, 98":"66,226,46",gpu:e?"254,254,254":"253,151,31",custom:e?"86,180,233":"40,255,255"}),tn=({showGraph:e,colorBlind:t})=>{let r=h(e=>e.overclockingFps),n=h(e=>e.fpsLimit);return(0,i.jsxs)(eP,{style:e?{color:r?ti(t).overClock.toString():`rgb(${ti(t).fps})`}:{},children:["FPS ",r?`${n}🚀`:""]})},to=({showGraph:e,colorBlind:t,customData:r,minimal:n})=>{let o=h(e=>e.gl);return o?(0,i.jsxs)(eO,{children:[(0,i.jsxs)(eB,{children:[(0,i.jsx)(eQ.YGl,{}),(0,i.jsx)(eP,{style:e?{color:`rgb(${ti(t).gpu.toString()})`}:{},children:"GPU"}),(0,i.jsx)(eL,{children:"ms"})]}),(0,i.jsxs)(eB,{children:[(0,i.jsx)(eQ.yw7,{}),(0,i.jsx)(eP,{style:e?{color:`rgb(${ti(t).cpu.toString()})`}:{},children:"CPU"}),(0,i.jsx)(eL,{children:"ms"})]}),(0,i.jsxs)(eB,{children:[(0,i.jsx)(eQ.lFK,{}),(0,i.jsx)(tn,{showGraph:e,colorBlind:t})]}),!n&&o&&(0,i.jsxs)(eB,{children:[(0,i.jsx)(eQ.ux3,{}),(0,i.jsx)(eP,{children:1===o.info.render.calls?"call":"calls"})]}),!n&&o&&(0,i.jsxs)(eB,{children:[(0,i.jsx)(eQ.vVm,{}),(0,i.jsx)(eP,{children:"Triangles"})]}),r&&(0,i.jsxs)(eB,{children:[(0,i.jsx)(eQ.eJP,{}),(0,i.jsx)(eP,{style:e?{color:`rgb(${ti(t).custom})`}:{},children:r.name}),r.info&&(0,i.jsx)(eL,{children:r.info})]})]}):null},ts=({showGraph:e,colorBlind:t,deepAnalyze:r,customData:n,matrixUpdate:o,openByDefault:s,minimal:l})=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(to,{showGraph:e,colorBlind:t,customData:n,minimal:l}),!l&&(0,i.jsx)(tc,{matrixUpdate:o,openByDefault:s,deepAnalyze:r,showGraph:e})]}),tl=({matrixUpdate:e})=>(0,i.jsxs)("div",{children:[(0,i.jsxs)(eB,{children:[(0,i.jsx)(eQ.Ui3,{}),(0,i.jsx)(eP,{children:"Geometries"})]}),(0,i.jsxs)(eB,{children:[(0,i.jsx)(eQ.XBm,{}),(0,i.jsx)(eP,{children:"Textures"})]}),(0,i.jsxs)(eB,{children:[(0,i.jsx)(eQ.X4t,{}),(0,i.jsx)(eP,{children:"shaders"})]}),(0,i.jsxs)(eB,{children:[(0,i.jsx)(eQ.V_R,{}),(0,i.jsx)(eP,{children:"Lines"})]}),(0,i.jsxs)(eB,{children:[(0,i.jsx)(eQ.ZNd,{}),(0,i.jsx)(eP,{children:"Points"})]}),e&&(0,i.jsxs)(eB,{children:[(0,i.jsx)(eQ.$Pd,{}),(0,i.jsx)(eP,{children:"Matrices"})]})]}),ta=({tab:e,title:t,set:r})=>{let n=h(e=>e.tab);return(0,i.jsx)(eW,{className:`${n===e?" __perf_toggle_tab_active":""}`,onClick:()=>{r(!0),g({tab:e})},children:(0,i.jsx)("span",{children:t})})},tc=({openByDefault:e,showGraph:t,deepAnalyze:r,matrixUpdate:o})=>{let[s,l]=n.useState(e);return(0,i.jsxs)("span",{children:[(0,i.jsx)(tu,{show:s,showGraph:t,matrixUpdate:o}),e&&!r?null:(0,i.jsxs)(eq,{className:"__perf_toggle",children:[r&&(0,i.jsx)(ta,{tab:"programs",title:"Programs",set:l}),r&&(0,i.jsx)(ta,{tab:"infos",title:"Infos",set:l}),(0,i.jsx)(eW,{onClick:()=>{l(!s)},children:s?(0,i.jsxs)("span",{children:[(0,i.jsx)(eQ.AS7,{})," Minimize"]}):(0,i.jsxs)("span",{children:[(0,i.jsx)(eQ.$lt,{})," More"]})})]})]})},tu=({show:e,showGraph:t,matrixUpdate:r})=>{let n=h(e=>e.tab);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tl,{matrixUpdate:r}),e&&(0,i.jsx)("div",{children:(0,i.jsx)(eG,{style:{marginTop:t?"38px":0},children:"programs"===n&&(0,i.jsx)(tr,{})})})]})},td=({showGraph:e=!0,colorBlind:t=!1,openByDefault:r=!0,className:o,overClock:s=!1,style:l,position:a="top-right",chart:c,logsPerSecond:u,deepAnalyze:d=!1,antialias:p=!0,customData:h,matrixUpdate:f,minimal:g})=>{let m=(0,n.useRef)(null);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(A,{logsPerSecond:u,chart:c,overClock:s,deepAnalyze:d,matrixUpdate:f}),(0,i.jsx)(e9,{name:"r3f-perf",children:(0,i.jsxs)(eA,{className:(o?" ".concat(o):" ")+` ${a||""} ${g?"minimal":""}`,style:{minHeight:g?"37px":e?"100px":"60px",...l},ref:m,children:[(0,i.jsx)(e4,{perfContainerRef:m,colorBlind:t,chart:c,showGraph:e,antialias:p,customData:h,minimal:g,matrixUpdate:f}),(0,i.jsx)(ts,{colorBlind:t,showGraph:e,deepAnalyze:d,openByDefault:r,customData:h,matrixUpdate:f,minimal:g})]})})]})}}}]);