import{G as S}from"../chunks/chunk-872c24b3.js";import{g as c,v as p,T as _,e as v,c as M}from"../chunks/chunk-f72bc264.js";import{_ as $,o as g,d as f,a as t,e as n,F as P,j as b,Q as I,R as x,h as d,w,r as T,u as h,S as m,P as R,T as B,m as y}from"../chunks/chunk-985ce4c8.js";import{a as z,b as j,I as L}from"../chunks/chunk-6104ee54.js";import{I as A}from"../chunks/chunk-c4015efb.js";import{u as C,s as G,g as O}from"../chunks/chunk-c476e33d.js";import"./src_renderer_default.page.server.extractAssets.acf25e7f.js";import"../chunks/chunk-8552278d.js";const q={},H={xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"img",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},N=t("path",{fill:"currentColor",d:"M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"},null,-1),V=[N];function W(a,e){return g(),f("svg",H,V)}const E=$(q,[["render",W]]),F=t("div",{id:"page-links",class:"flex flex-col md:flex-row md:space-x-8 space-y-2 md:space-y-0"},[t("a",{rel:"external",href:"/"},"home"),t("a",{title:"about",href:"/about"},"about"),t("a",{title:"levels",href:"/music"},"levels")],-1),D={class:"flex space-x-4 sm",id:"social-media-links"},Q={class:"spotify-link",title:"Spotify",target:"_blank",href:"https://open.spotify.com/artist/5tcMNuBmhecxiRvxTGO4rr?si=2XSmTl37RIqV8T7SrSWReg"},X={title:"Twitter",target:"_blank",href:"https://twitter.com/jittercub"},Y={class:"instagram-link",title:"Instagram",target:"_blank",href:"https://www.instagram.com/anumberfromtheghost/"},J={class:"bandcamp-link",title:"Bandcamp",target:"_blank",href:"https://anumberfromtheghost.bandcamp.com/"},k={__name:"MenuLinks",setup(a){return(e,s)=>(g(),f(P,null,[F,t("div",D,[t("a",Q,[n(A,{class:"w-4"})]),t("a",X,[n(z,{class:"w-4"})]),t("a",Y,[n(j,{class:"w-4"})]),t("a",J,[n(L,{class:"w-4"})])])],64))}},K={id:"main-menu",class:"absolute top-0 w-full z-50"},U={class:"container flex justify-end"},Z={class:"flex justify-end"},ee={id:"mobile-links",class:"flex flex-col items-start space-y-4 xl:p-4 pt-10 pb-8 px-4 -mt-8"},te={id:"desktop-links",class:"md:flex flex-row items-center md:space-x-8 space-y-2 lg:space-y-0 lg:p-0 mt-2"},ae={__name:"MainMenu",props:{isMobile:{type:Boolean},breadcrumbs:{type:Array,default:[]}},setup(a){const e=b(!1),s=b(c);I(s,async(i,l)=>{i=="playing"&&(e.value=!1,window.location.hash!="#debug"&&(window.location.hash=""))});function o(){c.value=="playing"&&v.emit("mobile-unlock"),e.value=!e.value}return(i,l)=>(g(),f("div",K,[t("div",U,[t("div",{class:x(["menu",{active:e.value}])},[t("div",Z,[d(t("button",{id:"menu-toggle",onClick:o,class:"select-none"},[n(E,{class:x([{"rotate-90":e.value},"w-12 transition-transform duration-300"])},null,8,["class"])],512),[[p,a.isMobile]])]),t("nav",{onClick:l[0]||(l[0]=r=>e.value=!1),class:"select-none"},[n(_,{name:"pop-down"},{default:w(()=>[d(t("div",ee,[n(k)],512),[[p,e.value]])]),_:1}),d(t("div",te,[n(k)],512),[[p,!a.isMobile]])])],2)])]))}},se={class:"page-content theme-gradient"},ne=t("canvas",{id:"game-canvas",class:"webgl select-none fixed inset-0 z-0"},null,-1),oe={__name:"PageShell",setup(a){const{isMobile:e}=C();return(s,o)=>(g(),f(P,null,[t("div",se,[n(_,{name:"page-transition",appear:"",mode:"out-in"},{default:w(()=>[T(s.$slots,"default")]),_:3}),n(_,{name:"fade-slow"},{default:w(()=>[d(n(ae,{"is-mobile":h(e)},null,8,["is-mobile"]),[[p,h(e)||!["playing","changing"].includes(h(c))]])]),_:1})]),ne],64))}};function ie(a){const{Page:e}=a;let s;const o=B({data:()=>({Page:m(e),pageProps:m(a.pageProps||{})}),created(){s=this},render(){return y(oe,{},{default:()=>y(this.Page,this.pageProps)})}}),i=M(o);Object.assign(i,{changePage:r=>{Object.assign(l,r),s.Page=m(r.Page),s.pageProps=m(r.pageProps||{})}});const l=R(a);return G(i,l),i}const _e=!0;let u;gameInstance=new S;async function ve(a){le(a);const e=O(a.urlParsed.pathname);e.type=="level"&&ce(e),document.title=e.metaTitle}function le(a){u?u.changePage(a):(u=ie(a),u.mount("#app"))}function ce(a){var o;const e=a.url=="/"?"home":a.url.replace("/",""),s=(o=gameInstance.world.currentLevel)==null?void 0:o.slug;s?s&&e!==s&&(gameInstance.reset(),c.value="changing",v.emit("level-change",e)):(c.value="changing",v.emit("level-change",e))}function we(){document.querySelector(".page-content").classList.add("page-transition")}function be(){document.querySelector(".page-content").classList.remove("page-transition")}export{_e as clientRouting,be as onPageTransitionEnd,we as onPageTransitionStart,ve as render};
